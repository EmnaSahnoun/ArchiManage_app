{
    "sourceFile": "src/app/project-details/project-details.component.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 13,
            "patches": [
                {
                    "date": 1741775383576,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1741775463230,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import { Component } from '@angular/core';\r\n+import { Component, Input } from '@angular/core';\r\n \r\n @Component({\r\n   selector: 'app-project-details',\r\n   templateUrl: './project-details.component.html',\r\n@@ -10,9 +10,9 @@\n   project: any;\r\n   activeTab: string = 'details';\r\n   selectedPhase: any = null;\r\n \r\n-  constructor(private projectService: ProjectService, private route: ActivatedRoute) {}\r\n+  constructor(private projectService: ProjectService, private route: ActivatedRout) {}\r\n \r\n   ngOnInit(): void {\r\n     this.route.params.subscribe(params => {\r\n       this.projectId = params['id'];\r\n"
                },
                {
                    "date": 1741775474822,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,6 @@\n import { Component, Input } from '@angular/core';\r\n+import { ActivatedRoute } from '@angular/router';\r\n \r\n @Component({\r\n   selector: 'app-project-details',\r\n   templateUrl: './project-details.component.html',\r\n@@ -10,9 +11,9 @@\n   project: any;\r\n   activeTab: string = 'details';\r\n   selectedPhase: any = null;\r\n \r\n-  constructor(private projectService: ProjectService, private route: ActivatedRout) {}\r\n+  constructor( private route: ActivatedRoute) {}\r\n \r\n   ngOnInit(): void {\r\n     this.route.params.subscribe(params => {\r\n       this.projectId = params['id'];\r\n"
                },
                {
                    "date": 1741775482326,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n   project: any;\r\n   activeTab: string = 'details';\r\n   selectedPhase: any = null;\r\n \r\n-  constructor( private route: ActivatedRoute) {}\r\n+  constructor(private route: ActivatedRoute) {}\r\n \r\n   ngOnInit(): void {\r\n     this.route.params.subscribe(params => {\r\n       this.projectId = params['id'];\r\n@@ -21,11 +21,9 @@\n     });\r\n   }\r\n \r\n   loadProject() {\r\n-    this.projectService.getProjectById(this.projectId).subscribe(data => {\r\n-      this.project = data;\r\n-    });\r\n+    \r\n   }\r\n \r\n   setTab(tab: string) {\r\n     this.activeTab = tab;\r\n"
                },
                {
                    "date": 1741775642583,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,33 +6,18 @@\n   templateUrl: './project-details.component.html',\r\n   styleUrl: './project-details.component.scss'\r\n })\r\n export class ProjectDetailsComponent {\r\n-  @Input() projectId!: string;\r\n-  project: any;\r\n+  @Input() project: any;\r\n   activeTab: string = 'details';\r\n   selectedPhase: any = null;\r\n \r\n-  constructor(private route: ActivatedRoute) {}\r\n-\r\n-  ngOnInit(): void {\r\n-    this.route.params.subscribe(params => {\r\n-      this.projectId = params['id'];\r\n-      this.loadProject();\r\n-    });\r\n-  }\r\n-\r\n-  loadProject() {\r\n-    \r\n-  }\r\n-\r\n   setTab(tab: string) {\r\n     this.activeTab = tab;\r\n   }\r\n \r\n   addPhase() {\r\n     console.log(\"Ajout d'une nouvelle phase...\");\r\n-    // Ici tu peux ouvrir un modal pour ajouter une phase\r\n   }\r\n \r\n   selectPhase(phase: any) {\r\n     this.selectedPhase = phase;\r\n"
                },
                {
                    "date": 1741776604481,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,20 +6,27 @@\n   templateUrl: './project-details.component.html',\r\n   styleUrl: './project-details.component.scss'\r\n })\r\n export class ProjectDetailsComponent {\r\n-  @Input() project: any;\r\n-  activeTab: string = 'details';\r\n-  selectedPhase: any = null;\r\n+  projectId: string | null = null;\r\n+  selectedTab: string = 'details';\r\n \r\n-  setTab(tab: string) {\r\n-    this.activeTab = tab;\r\n-  }\r\n+  project = {\r\n+    name: 'Projet Exemple',\r\n+    description: 'Description du projet...',\r\n+    createdAt: '01/01/2025',\r\n+    phases: [\r\n+      { name: 'Phase 1', startDate: '01/01/2025', endDate: '01/03/2025', tasks: ['Tâche 1', 'Tâche 2'] },\r\n+      { name: 'Phase 2', startDate: '02/03/2025', endDate: '01/06/2025', tasks: ['Tâche 3', 'Tâche 4'] }\r\n+    ]\r\n+  };\r\n \r\n-  addPhase() {\r\n-    console.log(\"Ajout d'une nouvelle phase...\");\r\n+  constructor(private route: ActivatedRoute) {}\r\n+\r\n+  ngOnInit(): void {\r\n+    this.projectId = this.route.snapshot.paramMap.get('id');\r\n   }\r\n \r\n-  selectPhase(phase: any) {\r\n-    this.selectedPhase = phase;\r\n+  changeTab(tab: string) {\r\n+    this.selectedTab = tab;\r\n   }\r\n }\r\n"
                },
                {
                    "date": 1741777661728,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,27 +6,28 @@\n   templateUrl: './project-details.component.html',\r\n   styleUrl: './project-details.component.scss'\r\n })\r\n export class ProjectDetailsComponent {\r\n-  projectId: string | null = null;\r\n+  project: any;\r\n   selectedTab: string = 'details';\r\n+  selectedPhase: any = null;\r\n \r\n-  project = {\r\n-    name: 'Projet Exemple',\r\n-    description: 'Description du projet...',\r\n-    createdAt: '01/01/2025',\r\n-    phases: [\r\n-      { name: 'Phase 1', startDate: '01/01/2025', endDate: '01/03/2025', tasks: ['Tâche 1', 'Tâche 2'] },\r\n-      { name: 'Phase 2', startDate: '02/03/2025', endDate: '01/06/2025', tasks: ['Tâche 3', 'Tâche 4'] }\r\n-    ]\r\n-  };\r\n+  constructor(private route: ActivatedRoute, private projectService: ProjectService) {}\r\n \r\n-  constructor(private route: ActivatedRoute) {}\r\n-\r\n-  ngOnInit(): void {\r\n-    this.projectId = this.route.snapshot.paramMap.get('id');\r\n+  ngOnInit() {\r\n+    const projectId = this.route.snapshot.paramMap.get('id');\r\n+    if (projectId) {\r\n+      this.projectService.getProjectById(projectId).subscribe((data) => {\r\n+        this.project = data;\r\n+      });\r\n+    }\r\n   }\r\n \r\n   changeTab(tab: string) {\r\n     this.selectedTab = tab;\r\n   }\r\n+\r\n+  selectPhase(phase: any) {\r\n+    this.selectedPhase = phase;\r\n+    this.changeTab('tasks');\r\n+  }\r\n }\r\n"
                },
                {
                    "date": 1741777686584,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,28 +6,27 @@\n   templateUrl: './project-details.component.html',\r\n   styleUrl: './project-details.component.scss'\r\n })\r\n export class ProjectDetailsComponent {\r\n-  project: any;\r\n+  projectId: string | null = null;\r\n   selectedTab: string = 'details';\r\n-  selectedPhase: any = null;\r\n \r\n-  constructor(private route: ActivatedRoute, private projectService: ProjectService) {}\r\n+  project = {\r\n+    name: 'Projet Exemple',\r\n+    description: 'Description du projet...',\r\n+    createdAt: '01/01/2025',\r\n+    phases: [\r\n+      { name: 'Phase 1', startDate: '01/01/2025', endDate: '01/03/2025', tasks: ['Tâche 1', 'Tâche 2'] },\r\n+      { name: 'Phase 2', startDate: '02/03/2025', endDate: '01/06/2025', tasks: ['Tâche 3', 'Tâche 4'] }\r\n+    ]\r\n+  };\r\n \r\n-  ngOnInit() {\r\n-    const projectId = this.route.snapshot.paramMap.get('id');\r\n-    if (projectId) {\r\n-      this.projectService.getProjectById(projectId).subscribe((data) => {\r\n-        this.project = data;\r\n-      });\r\n-    }\r\n+  constructor(private route: ActivatedRoute) {}\r\n+\r\n+  ngOnInit(): void {\r\n+    this.projectId = this.route.snapshot.paramMap.get('id');\r\n   }\r\n \r\n   changeTab(tab: string) {\r\n     this.selectedTab = tab;\r\n   }\r\n-\r\n-  selectPhase(phase: any) {\r\n-    this.selectedPhase = phase;\r\n-    this.changeTab('tasks');\r\n-  }\r\n }\r\n"
                },
                {
                    "date": 1741777837964,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,10 +14,20 @@\n     name: 'Projet Exemple',\r\n     description: 'Description du projet...',\r\n     createdAt: '01/01/2025',\r\n     phases: [\r\n-      { name: 'Phase 1', startDate: '01/01/2025', endDate: '01/03/2025', tasks: ['Tâche 1', 'Tâche 2'] },\r\n-      { name: 'Phase 2', startDate: '02/03/2025', endDate: '01/06/2025', tasks: ['Tâche 3', 'Tâche 4'] }\r\n+      { \r\n+        name: 'Phase 1', \r\n+        startDate: '01/01/2025', \r\n+        endDate: '01/03/2025', \r\n+        tasks: ['Tâche 1', 'Tâche 2'] \r\n+      },\r\n+      { \r\n+        name: 'Phase 2', \r\n+        startDate: '02/03/2025', \r\n+        endDate: '01/06/2025', \r\n+        tasks: ['Tâche 3', 'Tâche 4'] \r\n+      }\r\n     ]\r\n   };\r\n \r\n   constructor(private route: ActivatedRoute) {}\r\n"
                },
                {
                    "date": 1741777988220,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,26 +10,26 @@\n   projectId: string | null = null;\r\n   selectedTab: string = 'details';\r\n \r\n   project = {\r\n-    name: 'Projet Exemple',\r\n-    description: 'Description du projet...',\r\n-    createdAt: '01/01/2025',\r\n-    phases: [\r\n-      { \r\n-        name: 'Phase 1', \r\n-        startDate: '01/01/2025', \r\n-        endDate: '01/03/2025', \r\n-        tasks: ['Tâche 1', 'Tâche 2'] \r\n-      },\r\n-      { \r\n-        name: 'Phase 2', \r\n-        startDate: '02/03/2025', \r\n-        endDate: '01/06/2025', \r\n-        tasks: ['Tâche 3', 'Tâche 4'] \r\n-      }\r\n-    ]\r\n-  };\r\n+  name: 'Projet Exemple',\r\n+  description: 'Description du projet...',\r\n+  createdAt: '01/01/2025',\r\n+  phases: [\r\n+    { \r\n+      name: 'Phase 1', \r\n+      startDate: '01/01/2025', \r\n+      endDate: '01/03/2025', \r\n+      tasks: ['Tâche 1', 'Tâche 2'] \r\n+    },\r\n+    { \r\n+      name: 'Phase 2', \r\n+      startDate: '02/03/2025', \r\n+      endDate: '01/06/2025', \r\n+      tasks: ['Tâche 3', 'Tâche 4'] \r\n+    }\r\n+  ]\r\n+};\r\n \r\n   constructor(private route: ActivatedRoute) {}\r\n \r\n   ngOnInit(): void {\r\n"
                },
                {
                    "date": 1741778202282,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,26 +10,16 @@\n   projectId: string | null = null;\r\n   selectedTab: string = 'details';\r\n \r\n   project = {\r\n-  name: 'Projet Exemple',\r\n-  description: 'Description du projet...',\r\n-  createdAt: '01/01/2025',\r\n-  phases: [\r\n-    { \r\n-      name: 'Phase 1', \r\n-      startDate: '01/01/2025', \r\n-      endDate: '01/03/2025', \r\n-      tasks: ['Tâche 1', 'Tâche 2'] \r\n-    },\r\n-    { \r\n-      name: 'Phase 2', \r\n-      startDate: '02/03/2025', \r\n-      endDate: '01/06/2025', \r\n-      tasks: ['Tâche 3', 'Tâche 4'] \r\n-    }\r\n-  ]\r\n-};\r\n+    name: 'Projet Exemple',\r\n+    description: 'Description du projet...',\r\n+    createdAt: '01/01/2025',\r\n+    phases: [\r\n+      { name: 'Phase 1', descriotstartDate: '01/01/2025', endDate: '01/03/2025', tasks: ['Tâche 1', 'Tâche 2'] },\r\n+      { name: 'Phase 2', startDate: '02/03/2025', endDate: '01/06/2025', tasks: ['Tâche 3', 'Tâche 4'] }\r\n+    ]\r\n+  };\r\n \r\n   constructor(private route: ActivatedRoute) {}\r\n \r\n   ngOnInit(): void {\r\n"
                },
                {
                    "date": 1741778211190,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n     name: 'Projet Exemple',\r\n     description: 'Description du projet...',\r\n     createdAt: '01/01/2025',\r\n     phases: [\r\n-      { name: 'Phase 1', descriotstartDate: '01/01/2025', endDate: '01/03/2025', tasks: ['Tâche 1', 'Tâche 2'] },\r\n+      { name: 'Phase 1', description startDate: '01/01/2025', endDate: '01/03/2025', tasks: ['Tâche 1', 'Tâche 2'] },\r\n       { name: 'Phase 2', startDate: '02/03/2025', endDate: '01/06/2025', tasks: ['Tâche 3', 'Tâche 4'] }\r\n     ]\r\n   };\r\n \r\n"
                },
                {
                    "date": 1741778219386,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n     name: 'Projet Exemple',\r\n     description: 'Description du projet...',\r\n     createdAt: '01/01/2025',\r\n     phases: [\r\n-      { name: 'Phase 1', description:\"des de phase &\" startDate: '01/01/2025', endDate: '01/03/2025', tasks: ['Tâche 1', 'Tâche 2'] },\r\n+      { name: 'Phase 1', description:\"des de phase \" startDate: '01/01/2025', endDate: '01/03/2025', tasks: ['Tâche 1', 'Tâche 2'] },\r\n       { name: 'Phase 2', startDate: '02/03/2025', endDate: '01/06/2025', tasks: ['Tâche 3', 'Tâche 4'] }\r\n     ]\r\n   };\r\n \r\n"
                },
                {
                    "date": 1741824909016,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,127 @@\n+import { Component, Input } from '@angular/core';\r\n+import { MatDialog } from '@angular/material/dialog';\r\n+import { ActivatedRoute } from '@angular/router';\r\n+import { AddMemberDialogComponent } from '../add-member-dialog/add-member-dialog.component';\r\n+import * as bootstrap from 'bootstrap';\r\n+@Component({\r\n+  selector: 'app-project-details',\r\n+  templateUrl: './project-details.component.html',\r\n+  styleUrl: './project-details.component.scss'\r\n+})\r\n+export class ProjectDetailsComponent {\r\n+  projectId: string | null = null;\r\n+  selectedTab: string = 'details';\r\n+  selectedPhase: any = null;\r\n+  project = {\r\n+    name: 'Projet Exemple',\r\n+    description: 'Description du projet',\r\n+    createdAt: '01/01/2025',\r\n+    progress: 60, \r\n+    members: [\r\n+      { id: 1, name: \"Alice\", image: \"assets/images/alice.jpg\" },\r\n+      { id: 2, name: \"Bob\", image: \"assets/images/bob.jpg\" },\r\n+      { id: 3,name: \"Charlie\", image: \"assets/images/charlie.jpg\" }\r\n+    ],\r\n+    \r\n+    phases: [\r\n+      {\r\n+        name: 'Phase 1',\r\n+        description: 'Description de la phase 1',\r\n+        startDate: '01/01/2025',\r\n+        endDate: '01/03/2025',\r\n+        tasks: ['Tâche 1', 'Tâche 2'],\r\n+        members: [\r\n+          { id: 1,name: \"Alice\", image: \"assets/images/alice.jpg\" }\r\n+        ]\r\n+      },\r\n+      {\r\n+        name: 'Phase 2',\r\n+        description: 'Description de la phase 2',\r\n+        startDate: '02/03/2025',\r\n+        endDate: '01/06/2025',\r\n+        tasks: ['Tâche 3', 'Tâche 4'],\r\n+        members: [\r\n+          { name: \"Bob\", image: \"assets/images/bob.jpg\" }\r\n+        ]\r\n+      }\r\n+    ]\r\n+  };\r\n+  availableMembers: any[] = [];\r\n+  progressOffset: string = '';\r\n+\r\n+  constructor(private route: ActivatedRoute) {}\r\n+\r\n+  ngOnInit(): void {\r\n+    this.projectId = this.route.snapshot.paramMap.get('id');\r\n+    this.calculateProgress();\r\n+  }\r\n+\r\n+  changeTab(tab: string) {\r\n+    this.selectedTab = tab;\r\n+  }\r\n+\r\n+  calculateProgress() {\r\n+    const circumference = 2 * Math.PI * 40; // 40 = rayon du cercle\r\n+    this.progressOffset = ((100 - this.project.progress) / 100 * circumference).toString();\r\n+  }\r\n+  \r\n+  editPhase(phase: any) {\r\n+    console.log(\"Modifier la phase:\", phase);\r\n+    // Ici, on peut ouvrir un modal pour modifier les détails\r\n+  }\r\n+  deletePhase(phase: any) {\r\n+    this.project.phases = this.project.phases.filter(p => p !== phase);\r\n+  }\r\n+\r\n+  openAddMemberModal(phase: any) {\r\n+    // Filtrer les membres disponibles (ceux qui ne sont pas encore dans la phase)\r\n+    this.availableMembers = this.project.members.filter(m => \r\n+      !phase.members.some((p: any) => p.id === m.id)\r\n+    );\r\n+    \r\n+    // Stocker la phase en cours pour ajouter un membre après sélection\r\n+    (window as any).selectedPhase = phase;\r\n+  }\r\n+\r\n+  addMemberToPhase(member: any) {\r\n+    // Ajouter le membre à la phase sélectionnée\r\n+    (window as any).selectedPhase.members.push(member);\r\n+  }\r\n+  \r\n+\r\n+  openMemberModal(phase: any) {\r\n+    this.selectedPhase = phase;\r\n+    this.availableMembers = this.project.members.filter(m => !phase.members.some((p: any) => p.id === m.id));\r\n+    \r\n+    const modalElement = document.getElementById('AddMemberModal');\r\n+    \r\n+    if (!modalElement) {\r\n+      console.error('Modal element with ID \"AddMemberModal\" not found!');\r\n+      return;\r\n+    }\r\n+  \r\n+    const modal = new bootstrap.Modal(modalElement);\r\n+    modal.show();\r\n+  }\r\n+  \r\n+  addMember(member: any) {\r\n+    if (this.selectedPhase) {\r\n+      this.selectedPhase.members.push(member);\r\n+    }\r\n+  \r\n+    // Fermer le modal après ajout\r\n+    const modalElement = document.getElementById('AddMemberModal');\r\n+    \r\n+    if (!modalElement) {\r\n+      console.error('Modal element with ID \"AddMemberModal\" not found!');\r\n+      return;\r\n+    }\r\n+  \r\n+    const modal = bootstrap.Modal.getInstance(modalElement);\r\n+    \r\n+  }\r\n+  \r\n+\r\n+  \r\n+  \r\n+}\r\n"
                }
            ],
            "date": 1741775383576,
            "name": "Commit-0",
            "content": "import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-project-details',\r\n  templateUrl: './project-details.component.html',\r\n  styleUrl: './project-details.component.scss'\r\n})\r\nexport class ProjectDetailsComponent {\r\n  @Input() projectId!: string;\r\n  project: any;\r\n  activeTab: string = 'details';\r\n  selectedPhase: any = null;\r\n\r\n  constructor(private projectService: ProjectService, private route: ActivatedRoute) {}\r\n\r\n  ngOnInit(): void {\r\n    this.route.params.subscribe(params => {\r\n      this.projectId = params['id'];\r\n      this.loadProject();\r\n    });\r\n  }\r\n\r\n  loadProject() {\r\n    this.projectService.getProjectById(this.projectId).subscribe(data => {\r\n      this.project = data;\r\n    });\r\n  }\r\n\r\n  setTab(tab: string) {\r\n    this.activeTab = tab;\r\n  }\r\n\r\n  addPhase() {\r\n    console.log(\"Ajout d'une nouvelle phase...\");\r\n    // Ici tu peux ouvrir un modal pour ajouter une phase\r\n  }\r\n\r\n  selectPhase(phase: any) {\r\n    this.selectedPhase = phase;\r\n  }\r\n}\r\n"
        }
    ]
}