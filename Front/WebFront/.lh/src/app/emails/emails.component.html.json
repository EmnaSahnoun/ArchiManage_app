{
    "sourceFile": "src/app/emails/emails.component.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 40,
            "patches": [
                {
                    "date": 1748563197087,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1748563202415,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -126,7 +126,7 @@\n -            </li>\r\n -          </ul>\r\n -        </div>\r\n -      </ng-template>\r\n--    </mat-tab>\r\n--  </mat-tab-group>\r\n--</div>\r\n+-</mat-tab>\r\n+  </mat-tab-group>\r\n+</div>\r\n"
                },
                {
                    "date": 1748563220332,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -112,9 +112,9 @@\n +    </div>\r\n +  </div>\r\n +</div>\r\n \r\n--        <div class=\"email-list-container\">\r\n+        <div class=\"email-list-container\">\r\n -          <ul class=\"email-list\">\r\n -            <li *ngIf=\"draftEmails.length === 0\" class=\"empty-list-message\">\r\n -              Aucun brouillon.\r\n -            </li>\r\n@@ -126,7 +126,7 @@\n -            </li>\r\n -          </ul>\r\n -        </div>\r\n -      </ng-template>\r\n--</mat-tab>\r\n+-    </mat-tab>\r\n   </mat-tab-group>\r\n </div>\r\n"
                },
                {
                    "date": 1748563234029,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,132 +0,0 @@\n---- a/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\emails-component\\emails-component.component.html\r\n-+++ b/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\emails-component\\emails-component.component.html\r\n-@@ -5,49 +5,53 @@\r\n-     <!-- <button mat-raised-button color=\"primary\">Nouvel Email</button> -->\r\n-   </header>\r\n- \r\n--  <mat-tab-group [(selectedIndex)]=\"selectedTabIndex\" (selectedIndexChange)=\"onTabChanged($event)\" animationDuration=\"0ms\">\r\n--    <mat-tab label=\"Emails Reçus\">\r\n--      <ng-template matTabContent>\r\n--        <div class=\"email-list-container\">\r\n--          <ul class=\"email-list\">\r\n--            <li *ngIf=\"receivedEmails.length === 0\" class=\"empty-list-message\">\r\n--              Aucun email dans la boîte de réception.\r\n--            </li>\r\n--            <li *ngFor=\"let email of receivedEmails\" (click)=\"selectEmail(email, 'received')\" [ngClass]=\"{'unread': !email.read}\">\r\n--              <div class=\"email-item-sender\">{{ email.from }}</div>\r\n--              <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n--              <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n--              <div class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n--            </li>\r\n--          </ul>\r\n--        </div>\r\n--      </ng-template>\r\n--    </mat-tab>\r\n-+  <div class=\"custom-tabs-nav\">\r\n-+    <button\r\n-+      class=\"custom-tab-button\"\r\n-+      [class.active]=\"activeTab === 'received'\"\r\n-+      (click)=\"setActiveTab('received')\">\r\n-+      Emails Reçus\r\n-+    </button>\r\n-+    <button\r\n-+      class=\"custom-tab-button\"\r\n-+      [class.active]=\"activeTab === 'sent'\"\r\n-+      (click)=\"setActiveTab('sent')\">\r\n-+      Emails Envoyés\r\n-+    </button>\r\n-+    <button\r\n-+      class=\"custom-tab-button\"\r\n-+      [class.active]=\"activeTab === 'draft'\"\r\n-+      (click)=\"setActiveTab('draft')\">\r\n-+      Brouillons\r\n-+    </button>\r\n-+  </div>\r\n- \r\n--    <mat-tab label=\"Emails Envoyés\">\r\n--      <ng-template matTabContent>\r\n--        <div class=\"email-list-container\">\r\n--          <ul class=\"email-list\">\r\n--            <li *ngIf=\"sentEmails.length === 0\" class=\"empty-list-message\">\r\n--              Aucun email dans les éléments envoyés.\r\n--            </li>\r\n--            <li *ngFor=\"let email of sentEmails\" (click)=\"selectEmail(email, 'sent')\">\r\n--              <div class=\"email-item-recipient\">À: {{ email.to }}</div>\r\n--              <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n--              <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n--              <div class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n--            </li>\r\n--          </ul>\r\n--        </div>\r\n--      </ng-template>\r\n--    </mat-tab>\r\n-+  <div class=\"custom-tab-content\">\r\n-+    <div *ngIf=\"activeTab === 'received'\">\r\n-+      <div class=\"email-list-container\">\r\n-+        <ul class=\"email-list\">\r\n-+          <li *ngIf=\"receivedEmails.length === 0\" class=\"empty-list-message\">\r\n-+            Aucun email dans la boîte de réception.\r\n-+          </li>\r\n-+          <li *ngFor=\"let email of receivedEmails\" (click)=\"selectEmail(email, 'received')\" [ngClass]=\"{'unread': !email.read}\">\r\n-+            <div class=\"email-item-sender\">{{ email.from }}</div>\r\n-+            <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n-+            <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n-+            <div class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n-+          </li>\r\n-+        </ul>\r\n-+      </div>\r\n-+    </div>\r\n- \r\n--    <mat-tab label=\"Brouillons\">\r\n--      <ng-template matTabContent>\r\n-+    <div *ngIf=\"activeTab === 'sent'\">\r\n-+      <div class=\"email-list-container\">\r\n-+        <ul class=\"email-list\">\r\n-+          <li *ngIf=\"sentEmails.length === 0\" class=\"empty-list-message\">\r\n-+            Aucun email dans les éléments envoyés.\r\n-+          </li>\r\n-+          <li *ngFor=\"let email of sentEmails\" (click)=\"selectEmail(email, 'sent')\">\r\n-+            <div class=\"email-item-recipient\">À: {{ email.to }}</div>\r\n-+            <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n-+            <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n-+            <div class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n-+          </li>\r\n-+        </ul>\r\n-+      </div>\r\n-+    </div>\r\n-+\r\n-+    <div *ngIf=\"activeTab === 'draft'\">\r\n-+      <div class=\"email-list-container\">\r\n-+        <ul class=\"email-list\">\r\n-+          <li *ngIf=\"draftEmails.length === 0\" class=\"empty-list-message\">\r\n-+            Aucun brouillon.\r\n-+          </li>\r\n-+          <li *ngFor=\"let email of draftEmails\" (click)=\"selectEmail(email, 'draft')\">\r\n-+            <div class=\"email-item-recipient\">À: {{ email.to }}</div>\r\n-+            <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n-+            <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n-+            <div class=\"email-item-date\">Dernière modif: {{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n-+          </li>\r\n-+        </ul>\r\n-+      </div>\r\n-+    </div>\r\n-+  </div>\r\n-+</div>\r\n-\r\n-        <div class=\"email-list-container\">\r\n--          <ul class=\"email-list\">\r\n--            <li *ngIf=\"draftEmails.length === 0\" class=\"empty-list-message\">\r\n--              Aucun brouillon.\r\n--            </li>\r\n--            <li *ngFor=\"let email of draftEmails\" (click)=\"selectEmail(email, 'draft')\">\r\n--              <div class=\"email-item-recipient\">À: {{ email.to }}</div>\r\n--              <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n--              <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n--              <div class=\"email-item-date\">Dernière modif: {{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n--            </li>\r\n--          </ul>\r\n--        </div>\r\n--      </ng-template>\r\n--    </mat-tab>\r\n-  </mat-tab-group>\r\n-</div>\r\n\\ No newline at end of file\n"
                },
                {
                    "date": 1748563247848,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,63 @@\n-\n+<div class=\"emails-page-container\">\r\n+  <header class=\"emails-header\">\r\n+    <h1>Boîte de réception</h1>\r\n+    <!-- Potentiellement un bouton \"Nouvel Email\" ici -->\r\n+    <!-- <button mat-raised-button color=\"primary\">Nouvel Email</button> -->\r\n+  </header>\r\n+\r\n+  <mat-tab-group [(selectedIndex)]=\"selectedTabIndex\" (selectedIndexChange)=\"onTabChanged($event)\" animationDuration=\"0ms\">\r\n+    <mat-tab label=\"Emails Reçus\">\r\n+      <ng-template matTabContent>\r\n+        <div class=\"email-list-container\">\r\n+          <ul class=\"email-list\">\r\n+            <li *ngIf=\"receivedEmails.length === 0\" class=\"empty-list-message\">\r\n+              Aucun email dans la boîte de réception.\r\n+            </li>\r\n+            <li *ngFor=\"let email of receivedEmails\" (click)=\"selectEmail(email, 'received')\" [ngClass]=\"{'unread': !email.read}\">\r\n+              <div class=\"email-item-sender\">{{ email.from }}</div>\r\n+              <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n+              <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n+              <div class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n+            </li>\r\n+          </ul>\r\n+        </div>\r\n+      </ng-template>\r\n+    </mat-tab>\r\n+\r\n+    <mat-tab label=\"Emails Envoyés\">\r\n+      <ng-template matTabContent>\r\n+        <div class=\"email-list-container\">\r\n+          <ul class=\"email-list\">\r\n+            <li *ngIf=\"sentEmails.length === 0\" class=\"empty-list-message\">\r\n+              Aucun email dans les éléments envoyés.\r\n+            </li>\r\n+            <li *ngFor=\"let email of sentEmails\" (click)=\"selectEmail(email, 'sent')\">\r\n+              <div class=\"email-item-recipient\">À: {{ email.to }}</div>\r\n+              <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n+              <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n+              <div class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n+            </li>\r\n+          </ul>\r\n+        </div>\r\n+      </ng-template>\r\n+    </mat-tab>\r\n+\r\n+    <mat-tab label=\"Brouillons\">\r\n+      <ng-template matTabContent>\r\n+        <div class=\"email-list-container\">\r\n+          <ul class=\"email-list\">\r\n+            <li *ngIf=\"draftEmails.length === 0\" class=\"empty-list-message\">\r\n+              Aucun brouillon.\r\n+            </li>\r\n+            <li *ngFor=\"let email of draftEmails\" (click)=\"selectEmail(email, 'draft')\">\r\n+              <div class=\"email-item-recipient\">À: {{ email.to }}</div>\r\n+              <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n+              <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n+              <div class=\"email-item-date\">Dernière modif: {{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n+            </li>\r\n+          </ul>\r\n+        </div>\r\n+      </ng-template>\r\n+    </mat-tab>\r\n+  </mat-tab-group>\r\n+</div>\r\n"
                },
                {
                    "date": 1748563272210,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,26 +4,28 @@\n     <!-- Potentiellement un bouton \"Nouvel Email\" ici -->\r\n     <!-- <button mat-raised-button color=\"primary\">Nouvel Email</button> -->\r\n   </header>\r\n \r\n-  <mat-tab-group [(selectedIndex)]=\"selectedTabIndex\" (selectedIndexChange)=\"onTabChanged($event)\" animationDuration=\"0ms\">\r\n-    <mat-tab label=\"Emails Reçus\">\r\n-      <ng-template matTabContent>\r\n-        <div class=\"email-list-container\">\r\n-          <ul class=\"email-list\">\r\n-            <li *ngIf=\"receivedEmails.length === 0\" class=\"empty-list-message\">\r\n-              Aucun email dans la boîte de réception.\r\n-            </li>\r\n-            <li *ngFor=\"let email of receivedEmails\" (click)=\"selectEmail(email, 'received')\" [ngClass]=\"{'unread': !email.read}\">\r\n-              <div class=\"email-item-sender\">{{ email.from }}</div>\r\n-              <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n-              <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n-              <div class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n-            </li>\r\n-          </ul>\r\n-        </div>\r\n-      </ng-template>\r\n-    </mat-tab>\r\n+  <div class=\"custom-tabs-nav\">\r\n+    <button\r\n+      class=\"custom-tab-button\"\r\n+      [class.active]=\"activeTab === 'received'\"\r\n+      (click)=\"setActiveTab('received')\">\r\n+      Emails Reçus\r\n+    </button>\r\n+    <button\r\n+      class=\"custom-tab-button\"\r\n+      [class.active]=\"activeTab === 'sent'\"\r\n+      (click)=\"setActiveTab('sent')\">\r\n+      Emails Envoyés\r\n+    </button>\r\n+    <button\r\n+      class=\"custom-tab-button\"\r\n+      [class.active]=\"activeTab === 'draft'\"\r\n+      (click)=\"setActiveTab('draft')\">\r\n+      Brouillons\r\n+    </button>\r\n+  </div>\r\n \r\n     <mat-tab label=\"Emails Envoyés\">\r\n       <ng-template matTabContent>\r\n         <div class=\"email-list-container\">\r\n"
                },
                {
                    "date": 1748563292222,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,26 +25,26 @@\n       Brouillons\r\n     </button>\r\n   </div>\r\n \r\n-    <mat-tab label=\"Emails Envoyés\">\r\n-      <ng-template matTabContent>\r\n-        <div class=\"email-list-container\">\r\n-          <ul class=\"email-list\">\r\n-            <li *ngIf=\"sentEmails.length === 0\" class=\"empty-list-message\">\r\n-              Aucun email dans les éléments envoyés.\r\n-            </li>\r\n-            <li *ngFor=\"let email of sentEmails\" (click)=\"selectEmail(email, 'sent')\">\r\n-              <div class=\"email-item-recipient\">À: {{ email.to }}</div>\r\n-              <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n-              <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n-              <div class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n-            </li>\r\n-          </ul>\r\n-        </div>\r\n-      </ng-template>\r\n-    </mat-tab>\r\n+    <div class=\"custom-tab-content\">\r\n+    <div *ngIf=\"activeTab === 'received'\">\r\n+      <div class=\"email-list-container\">\r\n+        <ul class=\"email-list\">\r\n+          <li *ngIf=\"receivedEmails.length === 0\" class=\"empty-list-message\">\r\n+            Aucun email dans la boîte de réception.\r\n+          </li>\r\n+          <li *ngFor=\"let email of receivedEmails\" (click)=\"selectEmail(email, 'received')\" [ngClass]=\"{'unread': !email.read}\">\r\n+            <div class=\"email-item-sender\">{{ email.from }}</div>\r\n+            <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n+            <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n+            <div class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n+          </li>\r\n+        </ul>\r\n+      </div>\r\n+    </div>\r\n \r\n+\r\n     <mat-tab label=\"Brouillons\">\r\n       <ng-template matTabContent>\r\n         <div class=\"email-list-container\">\r\n           <ul class=\"email-list\">\r\n"
                },
                {
                    "date": 1748563307292,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,11 +42,41 @@\n         </ul>\r\n       </div>\r\n     </div>\r\n \r\n+<div *ngIf=\"activeTab === 'sent'\">\r\n+      <div class=\"email-list-container\">\r\n+        <ul class=\"email-list\">\r\n+          <li *ngIf=\"sentEmails.length === 0\" class=\"empty-list-message\">\r\n+            Aucun email dans les éléments envoyés.\r\n+          </li>\r\n+          <li *ngFor=\"let email of sentEmails\" (click)=\"selectEmail(email, 'sent')\">\r\n+            <div class=\"email-item-recipient\">À: {{ email.to }}</div>\r\n+            <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n+            <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n+            <div class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n+          </li>\r\n+        </ul>\r\n+      </div>\r\n+    </div>\r\n \r\n-    <mat-tab label=\"Brouillons\">\r\n-      <ng-template matTabContent>\r\n+    <div *ngIf=\"activeTab === 'draft'\">\r\n+      <div class=\"email-list-container\">\r\n+        <ul class=\"email-list\">\r\n+          <li *ngIf=\"draftEmails.length === 0\" class=\"empty-list-message\">\r\n+            Aucun brouillon.\r\n+          </li>\r\n+          <li *ngFor=\"let email of draftEmails\" (click)=\"selectEmail(email, 'draft')\">\r\n+            <div class=\"email-item-recipient\">À: {{ email.to }}</div>\r\n+            <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n+            <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n+            <div class=\"email-item-date\">Dernière modif: {{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n+          </li>\r\n+        </ul>\r\n+      </div>\r\n+    </div>\r\n+  </div>\r\n+</div>\r\n         <div class=\"email-list-container\">\r\n           <ul class=\"email-list\">\r\n             <li *ngIf=\"draftEmails.length === 0\" class=\"empty-list-message\">\r\n               Aucun brouillon.\r\n"
                },
                {
                    "date": 1748563318492,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,21 +75,5 @@\n       </div>\r\n     </div>\r\n   </div>\r\n </div>\r\n-        <div class=\"email-list-container\">\r\n-          <ul class=\"email-list\">\r\n-            <li *ngIf=\"draftEmails.length === 0\" class=\"empty-list-message\">\r\n-              Aucun brouillon.\r\n-            </li>\r\n-            <li *ngFor=\"let email of draftEmails\" (click)=\"selectEmail(email, 'draft')\">\r\n-              <div class=\"email-item-recipient\">À: {{ email.to }}</div>\r\n-              <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n-              <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n-              <div class=\"email-item-date\">Dernière modif: {{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n-            </li>\r\n-          </ul>\r\n-        </div>\r\n-      </ng-template>\r\n-    </mat-tab>\r\n-  </mat-tab-group>\r\n-</div>\r\n+    \r\n"
                },
                {
                    "date": 1748612133162,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-<div class=\"emails-page-container\">\r\n+<!-- <div class=\"emails-page-container\">\r\n   <header class=\"emails-header\">\r\n     <h1>Boîte de réception</h1>\r\n     <!-- Potentiellement un bouton \"Nouvel Email\" ici -->\r\n     <!-- <button mat-raised-button color=\"primary\">Nouvel Email</button> -->\r\n@@ -76,4 +76,5 @@\n     </div>\r\n   </div>\r\n </div>\r\n     \r\n+ -->\n\\ No newline at end of file\n"
                },
                {
                    "date": 1748612142572,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,8 @@\n <!-- <div class=\"emails-page-container\">\r\n   <header class=\"emails-header\">\r\n     <h1>Boîte de réception</h1>\r\n-    <!-- Potentiellement un bouton \"Nouvel Email\" ici -->\r\n-    <!-- <button mat-raised-button color=\"primary\">Nouvel Email</button> -->\r\n+\r\n   </header>\r\n \r\n   <div class=\"custom-tabs-nav\">\r\n     <button\r\n"
                },
                {
                    "date": 1748612148523,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,9 @@\n+\r\n+\r\n+\r\n+\r\n+\r\n <!-- <div class=\"emails-page-container\">\r\n   <header class=\"emails-header\">\r\n     <h1>Boîte de réception</h1>\r\n \r\n"
                },
                {
                    "date": 1748612156282,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,14 @@\n+<!-- Dans emails.component.html -->\r\n+<div *ngIf=\"isLoading\" class=\"loading-overlay\">\r\n+  <mat-spinner></mat-spinner>\r\n+  <p>Chargement des emails...</p>\r\n+</div>\r\n \r\n+<div *ngIf=\"!isLoading\">\r\n+  bonjour\r\n+  <!-- Votre contenu normal ici -->\r\n+</div>\r\n \r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1748649921492,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,18 +1,7 @@\n-<!-- Dans emails.component.html -->\r\n-<div *ngIf=\"isLoading\" class=\"loading-overlay\">\r\n-  <mat-spinner></mat-spinner>\r\n-  <p>Chargement des emails...</p>\r\n-</div>\r\n \r\n-<div *ngIf=\"!isLoading\">\r\n-  bonjour\r\n-  <!-- Votre contenu normal ici -->\r\n-</div>\r\n \r\n \r\n-\r\n-\r\n <!-- <div class=\"emails-page-container\">\r\n   <header class=\"emails-header\">\r\n     <h1>Boîte de réception</h1>\r\n \r\n"
                },
                {
                    "date": 1748649932769,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,5 @@\n-\r\n-\r\n-\r\n-<!-- <div class=\"emails-page-container\">\r\n+<div class=\"emails-page-container\">\r\n   <header class=\"emails-header\">\r\n     <h1>Boîte de réception</h1>\r\n \r\n   </header>\r\n@@ -77,6 +74,4 @@\n       </div>\r\n     </div>\r\n   </div>\r\n </div>\r\n-    \r\n- -->\n\\ No newline at end of file\n"
                },
                {
                    "date": 1748652752079,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,77 +1,107 @@\n <div class=\"emails-page-container\">\r\n   <header class=\"emails-header\">\r\n     <h1>Boîte de réception</h1>\r\n-\r\n   </header>\r\n \r\n   <div class=\"custom-tabs-nav\">\r\n-    <button\r\n-      class=\"custom-tab-button\"\r\n-      [class.active]=\"activeTab === 'received'\"\r\n-      (click)=\"setActiveTab('received')\">\r\n-      Emails Reçus\r\n+    <button class=\"custom-tab-button\" \r\n+            [class.active]=\"activeTab === 'received'\"\r\n+            (click)=\"setActiveTab('received')\">\r\n+      Emails Reçus ({{receivedEmails.length}})\r\n     </button>\r\n-    <button\r\n-      class=\"custom-tab-button\"\r\n-      [class.active]=\"activeTab === 'sent'\"\r\n-      (click)=\"setActiveTab('sent')\">\r\n-      Emails Envoyés\r\n+    <button class=\"custom-tab-button\"\r\n+            [class.active]=\"activeTab === 'sent'\"\r\n+            (click)=\"setActiveTab('sent')\">\r\n+      Emails Envoyés ({{sentEmails.length}})\r\n     </button>\r\n-    <button\r\n-      class=\"custom-tab-button\"\r\n-      [class.active]=\"activeTab === 'draft'\"\r\n-      (click)=\"setActiveTab('draft')\">\r\n-      Brouillons\r\n+    <button class=\"custom-tab-button\"\r\n+            [class.active]=\"activeTab === 'draft'\"\r\n+            (click)=\"setActiveTab('draft')\">\r\n+      Brouillons ({{draftEmails.length}})\r\n     </button>\r\n   </div>\r\n \r\n-    <div class=\"custom-tab-content\">\r\n+  <div *ngIf=\"isLoading\" class=\"loading-spinner\">\r\n+    <mat-spinner diameter=\"40\"></mat-spinner>\r\n+  </div>\r\n+\r\n+  <div *ngIf=\"error\" class=\"error-message\">\r\n+    {{error}}\r\n+    <button mat-button (click)=\"loadAllEmails()\">Réessayer</button>\r\n+  </div>\r\n+\r\n+  <div class=\"custom-tab-content\" *ngIf=\"!isLoading && !error\">\r\n+    <!-- Received Emails -->\r\n     <div *ngIf=\"activeTab === 'received'\">\r\n       <div class=\"email-list-container\">\r\n         <ul class=\"email-list\">\r\n           <li *ngIf=\"receivedEmails.length === 0\" class=\"empty-list-message\">\r\n             Aucun email dans la boîte de réception.\r\n           </li>\r\n-          <li *ngFor=\"let email of receivedEmails\" (click)=\"selectEmail(email, 'received')\" [ngClass]=\"{'unread': !email.read}\">\r\n-            <div class=\"email-item-sender\">{{ email.from }}</div>\r\n+          <li *ngFor=\"let email of receivedEmails\" \r\n+              (click)=\"selectEmail(email, 'received')\" \r\n+              [class.unread]=\"!email.isRead\">\r\n+            <div class=\"email-item-header\">\r\n+              <span class=\"email-item-sender\">{{ email.from }}</span>\r\n+              <span class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n+            </div>\r\n             <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n-            <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n-            <div class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n+            <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n+            <button mat-icon-button class=\"delete-button\" \r\n+                    (click)=\"onDeleteEmail(email.id, 'received'); $event.stopPropagation()\">\r\n+              <mat-icon>delete</mat-icon>\r\n+            </button>\r\n           </li>\r\n         </ul>\r\n       </div>\r\n     </div>\r\n \r\n-<div *ngIf=\"activeTab === 'sent'\">\r\n+    <!-- Sent Emails -->\r\n+    <div *ngIf=\"activeTab === 'sent'\">\r\n       <div class=\"email-list-container\">\r\n         <ul class=\"email-list\">\r\n           <li *ngIf=\"sentEmails.length === 0\" class=\"empty-list-message\">\r\n             Aucun email dans les éléments envoyés.\r\n           </li>\r\n-          <li *ngFor=\"let email of sentEmails\" (click)=\"selectEmail(email, 'sent')\">\r\n-            <div class=\"email-item-recipient\">À: {{ email.to }}</div>\r\n+          <li *ngFor=\"let email of sentEmails\" \r\n+              (click)=\"selectEmail(email, 'sent')\">\r\n+            <div class=\"email-item-header\">\r\n+              <span class=\"email-item-recipient\">À: {{ email.to }}</span>\r\n+              <span class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n+            </div>\r\n             <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n-            <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n-            <div class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n+            <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n+            <button mat-icon-button class=\"delete-button\" \r\n+                    (click)=\"onDeleteEmail(email.id, 'sent'); $event.stopPropagation()\">\r\n+              <mat-icon>delete</mat-icon>\r\n+            </button>\r\n           </li>\r\n         </ul>\r\n       </div>\r\n     </div>\r\n \r\n+    <!-- Drafts -->\r\n     <div *ngIf=\"activeTab === 'draft'\">\r\n       <div class=\"email-list-container\">\r\n         <ul class=\"email-list\">\r\n           <li *ngIf=\"draftEmails.length === 0\" class=\"empty-list-message\">\r\n             Aucun brouillon.\r\n           </li>\r\n-          <li *ngFor=\"let email of draftEmails\" (click)=\"selectEmail(email, 'draft')\">\r\n-            <div class=\"email-item-recipient\">À: {{ email.to }}</div>\r\n+          <li *ngFor=\"let email of draftEmails\" \r\n+              (click)=\"selectEmail(email, 'draft')\">\r\n+            <div class=\"email-item-header\">\r\n+              <span class=\"email-item-recipient\">À: {{ email.to }}</span>\r\n+              <span class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n+            </div>\r\n             <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n-            <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n-            <div class=\"email-item-date\">Dernière modif: {{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n+            <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n+            <button mat-icon-button class=\"delete-button\" \r\n+                    (click)=\"onDeleteEmail(email.id, 'draft'); $event.stopPropagation()\">\r\n+              <mat-icon>delete</mat-icon>\r\n+            </button>\r\n           </li>\r\n         </ul>\r\n       </div>\r\n     </div>\r\n   </div>\r\n-</div>\r\n+</div>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1748699728180,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,12 +41,12 @@\n           <li *ngFor=\"let email of receivedEmails\" \r\n               (click)=\"selectEmail(email, 'received')\" \r\n               [class.unread]=\"!email.isRead\">\r\n             <div class=\"email-item-header\">\r\n-              <span class=\"email-item-sender\">{{ email.from }}</span>\r\n-              <span class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n+              <span class=\"email-item-sender\">{{ email.headers.from }}</span>\r\n+              <span class=\"email-item-date\">{{ email.headers.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n             </div>\r\n-            <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n+            <div class=\"email-item-subject\">{{ email.headers.subject }}</div>\r\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n             <button mat-icon-button class=\"delete-button\" \r\n                     (click)=\"onDeleteEmail(email.id, 'received'); $event.stopPropagation()\">\r\n               <mat-icon>delete</mat-icon>\r\n"
                },
                {
                    "date": 1748701753026,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,12 +65,12 @@\n           </li>\r\n           <li *ngFor=\"let email of sentEmails\" \r\n               (click)=\"selectEmail(email, 'sent')\">\r\n             <div class=\"email-item-header\">\r\n-              <span class=\"email-item-recipient\">À: {{ email.to }}</span>\r\n-              <span class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n+              <span class=\"email-item-recipient\">À: {{ email.headers.to }}</span>\r\n+              <span class=\"email-item-date\">{{ email.headers.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n             </div>\r\n-            <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n+            <div class=\"email-item-subject\">{{ email.headers.subject }}</div>\r\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n             <button mat-icon-button class=\"delete-button\" \r\n                     (click)=\"onDeleteEmail(email.id, 'sent'); $event.stopPropagation()\">\r\n               <mat-icon>delete</mat-icon>\r\n@@ -89,12 +89,12 @@\n           </li>\r\n           <li *ngFor=\"let email of draftEmails\" \r\n               (click)=\"selectEmail(email, 'draft')\">\r\n             <div class=\"email-item-header\">\r\n-              <span class=\"email-item-recipient\">À: {{ email.to }}</span>\r\n-              <span class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n+              <span class=\"email-item-recipient\">À: {{ email.headers.to }}</span>\r\n+              <span class=\"email-item-date\">{{ email.headers.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n             </div>\r\n-            <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n+            <div class=\"email-item-subject\">{{ email.headers.subject }}</div>\r\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n             <button mat-icon-button class=\"delete-button\" \r\n                     (click)=\"onDeleteEmail(email.id, 'draft'); $event.stopPropagation()\">\r\n               <mat-icon>delete</mat-icon>\r\n"
                },
                {
                    "date": 1748702052632,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,9 +65,9 @@\n           </li>\r\n           <li *ngFor=\"let email of sentEmails\" \r\n               (click)=\"selectEmail(email, 'sent')\">\r\n             <div class=\"email-item-header\">\r\n-              <span class=\"email-item-recipient\">À: {{ email.headers.to }}</span>\r\n+              <span class=\"email-item-recipient\">À: {{ extractEmailAddress(email.headers?.to) }}</span>\r\n               <span class=\"email-item-date\">{{ email.headers.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n             </div>\r\n             <div class=\"email-item-subject\">{{ email.headers.subject }}</div>\r\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n"
                },
                {
                    "date": 1748707780619,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,11 +41,11 @@\n           <li *ngFor=\"let email of receivedEmails\" \r\n               (click)=\"selectEmail(email, 'received')\" \r\n               [class.unread]=\"!email.isRead\">\r\n             <div class=\"email-item-header\">\r\n-              <span class=\"email-item-sender\">{{ email.headers.from }}</span>\r\n-              <span class=\"email-item-date\">{{ email.headers.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n-            </div>\r\n+             <span class=\"email-item-sender\">{{ email.headers?.from }}</span>\r\n+              <span class=\"email-item-date\">{{ email.headers?.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n+          </div>\r\n             <div class=\"email-item-subject\">{{ email.headers.subject }}</div>\r\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n             <button mat-icon-button class=\"delete-button\" \r\n                     (click)=\"onDeleteEmail(email.id, 'received'); $event.stopPropagation()\">\r\n"
                },
                {
                    "date": 1748707791272,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,9 +68,9 @@\n             <div class=\"email-item-header\">\r\n               <span class=\"email-item-recipient\">À: {{ extractEmailAddress(email.headers?.to) }}</span>\r\n               <span class=\"email-item-date\">{{ email.headers.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n             </div>\r\n-            <div class=\"email-item-subject\">{{ email.headers.subject }}</div>\r\n+            <div class=\"email-item-subject\">{{ email.headers?.subject }}</div>\r\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n             <button mat-icon-button class=\"delete-button\" \r\n                     (click)=\"onDeleteEmail(email.id, 'sent'); $event.stopPropagation()\">\r\n               <mat-icon>delete</mat-icon>\r\n"
                },
                {
                    "date": 1748707810169,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,10 +47,11 @@\n           </div>\r\n             <div class=\"email-item-subject\">{{ email.headers.subject }}</div>\r\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n             <button mat-icon-button class=\"delete-button\" \r\n+    [attr.aria-label]=\"'Supprimer l\\\\'email avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n                     (click)=\"onDeleteEmail(email.id, 'received'); $event.stopPropagation()\">\r\n-              <mat-icon>delete</mat-icon>\r\n+                       <mat-icon>delete</mat-icon>\r\n             </button>\r\n           </li>\r\n         </ul>\r\n       </div>\r\n"
                },
                {
                    "date": 1748707838602,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,11 +47,10 @@\n           </div>\r\n             <div class=\"email-item-subject\">{{ email.headers.subject }}</div>\r\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n             <button mat-icon-button class=\"delete-button\" \r\n-    [attr.aria-label]=\"'Supprimer l\\\\'email avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n                     (click)=\"onDeleteEmail(email.id, 'received'); $event.stopPropagation()\">\r\n-                       <mat-icon>delete</mat-icon>\r\n+              <mat-icon>delete</mat-icon>\r\n             </button>\r\n           </li>\r\n         </ul>\r\n       </div>\r\n"
                },
                {
                    "date": 1748707851175,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,10 +46,12 @@\n               <span class=\"email-item-date\">{{ email.headers?.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n           </div>\r\n             <div class=\"email-item-subject\">{{ email.headers.subject }}</div>\r\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n-            <button mat-icon-button class=\"delete-button\" \r\n+            <button mat-icon-button class=\"delete-button\"  [attr.aria-label]=\"'Supprimer l\\\\'email avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n                     (click)=\"onDeleteEmail(email.id, 'received'); $event.stopPropagation()\">\r\n+           \r\n+                    (click)=\"onDeleteEmail(email.id, 'received'); $event.stopPropagation()\">\r\n               <mat-icon>delete</mat-icon>\r\n             </button>\r\n           </li>\r\n         </ul>\r\n"
                },
                {
                    "date": 1748707856253,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,9 +49,8 @@\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n             <button mat-icon-button class=\"delete-button\"  [attr.aria-label]=\"'Supprimer l\\\\'email avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n                     (click)=\"onDeleteEmail(email.id, 'received'); $event.stopPropagation()\">\r\n            \r\n-                    (click)=\"onDeleteEmail(email.id, 'received'); $event.stopPropagation()\">\r\n               <mat-icon>delete</mat-icon>\r\n             </button>\r\n           </li>\r\n         </ul>\r\n"
                },
                {
                    "date": 1748707861599,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,9 +46,9 @@\n               <span class=\"email-item-date\">{{ email.headers?.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n           </div>\r\n             <div class=\"email-item-subject\">{{ email.headers.subject }}</div>\r\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n-            <button mat-icon-button class=\"delete-button\"  [attr.aria-label]=\"'Supprimer l\\\\'email avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n+            <button mat-icon-button class=\"delete-button\"  [attr.aria-label]=\"'Supprimer l'email avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n                     (click)=\"onDeleteEmail(email.id, 'received'); $event.stopPropagation()\">\r\n            \r\n               <mat-icon>delete</mat-icon>\r\n             </button>\r\n"
                },
                {
                    "date": 1748707887644,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,9 +46,9 @@\n               <span class=\"email-item-date\">{{ email.headers?.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n           </div>\r\n             <div class=\"email-item-subject\">{{ email.headers.subject }}</div>\r\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n-            <button mat-icon-button class=\"delete-button\"  [attr.aria-label]=\"'Supprimer l'email avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n+            <button mat-icon-button class=\"delete-button\"  [attr.aria-label]=\"'Supprimer lemail avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n                     (click)=\"onDeleteEmail(email.id, 'received'); $event.stopPropagation()\">\r\n            \r\n               <mat-icon>delete</mat-icon>\r\n             </button>\r\n"
                },
                {
                    "date": 1748707910086,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,9 +46,9 @@\n               <span class=\"email-item-date\">{{ email.headers?.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n           </div>\r\n             <div class=\"email-item-subject\">{{ email.headers.subject }}</div>\r\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n-            <button mat-icon-button class=\"delete-button\"  [attr.aria-label]=\"'Supprimer lemail avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n+            <button mat-icon-button class=\"delete-button\"  [attr.aria-label]=\"'Supprimer cet email avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n                     (click)=\"onDeleteEmail(email.id, 'received'); $event.stopPropagation()\">\r\n            \r\n               <mat-icon>delete</mat-icon>\r\n             </button>\r\n@@ -66,11 +66,11 @@\n           </li>\r\n           <li *ngFor=\"let email of sentEmails\" \r\n               (click)=\"selectEmail(email, 'sent')\">\r\n             <div class=\"email-item-header\">\r\n-              <span class=\"email-item-recipient\">À: {{ extractEmailAddress(email.headers?.to) }}</span>\r\n-              <span class=\"email-item-date\">{{ email.headers.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n-            </div>\r\n+                 <span class=\"email-item-recipient\">À: {{ extractEmailAddress(email.headers?.to || '') }}</span>\r\n+              <span class=\"email-item-date\">{{ email.headers?.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n+          </div>\r\n             <div class=\"email-item-subject\">{{ email.headers?.subject }}</div>\r\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n             <button mat-icon-button class=\"delete-button\" \r\n                     (click)=\"onDeleteEmail(email.id, 'sent'); $event.stopPropagation()\">\r\n"
                },
                {
                    "date": 1748707925430,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,9 +93,10 @@\n             <div class=\"email-item-header\">\r\n               <span class=\"email-item-recipient\">À: {{ email.headers.to }}</span>\r\n               <span class=\"email-item-date\">{{ email.headers.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n             </div>\r\n-            <div class=\"email-item-subject\">{{ email.headers.subject }}</div>\r\n+                        <div class=\"email-item-subject\">{{ email.headers?.subject }}</div>\r\n+\r\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n             <button mat-icon-button class=\"delete-button\" \r\n                     (click)=\"onDeleteEmail(email.id, 'draft'); $event.stopPropagation()\">\r\n               <mat-icon>delete</mat-icon>\r\n"
                },
                {
                    "date": 1748707937953,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -72,9 +72,11 @@\n           </div>\r\n             <div class=\"email-item-subject\">{{ email.headers?.subject }}</div>\r\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n             <button mat-icon-button class=\"delete-button\" \r\n+                    [attr.aria-label]=\"'Supprimer l\\\\'email avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n                     (click)=\"onDeleteEmail(email.id, 'sent'); $event.stopPropagation()\">\r\n+       \r\n               <mat-icon>delete</mat-icon>\r\n             </button>\r\n           </li>\r\n         </ul>\r\n"
                },
                {
                    "date": 1748707945184,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -72,9 +72,9 @@\n           </div>\r\n             <div class=\"email-item-subject\">{{ email.headers?.subject }}</div>\r\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n             <button mat-icon-button class=\"delete-button\" \r\n-                    [attr.aria-label]=\"'Supprimer l\\\\'email avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n+                    [attr.aria-label]=\"'Supprimer cet email avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n                     (click)=\"onDeleteEmail(email.id, 'sent'); $event.stopPropagation()\">\r\n        \r\n               <mat-icon>delete</mat-icon>\r\n             </button>\r\n"
                },
                {
                    "date": 1748707959600,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,11 +92,11 @@\n           </li>\r\n           <li *ngFor=\"let email of draftEmails\" \r\n               (click)=\"selectEmail(email, 'draft')\">\r\n             <div class=\"email-item-header\">\r\n-              <span class=\"email-item-recipient\">À: {{ email.headers.to }}</span>\r\n-              <span class=\"email-item-date\">{{ email.headers.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n-            </div>\r\n+                        <span class=\"email-item-recipient\">À: {{ extractEmailAddress(email.headers?.to || '') }}</span>\r\n+              <span class=\"email-item-date\">{{ email.headers?.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n+               </div>\r\n                         <div class=\"email-item-subject\">{{ email.headers?.subject }}</div>\r\n \r\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n             <button mat-icon-button class=\"delete-button\" \r\n"
                },
                {
                    "date": 1748707967025,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,9 +44,9 @@\n             <div class=\"email-item-header\">\r\n              <span class=\"email-item-sender\">{{ email.headers?.from }}</span>\r\n               <span class=\"email-item-date\">{{ email.headers?.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n           </div>\r\n-            <div class=\"email-item-subject\">{{ email.headers.subject }}</div>\r\n+            <div class=\"email-item-subject\">{{ email.headers?.subject }}</div>\r\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n             <button mat-icon-button class=\"delete-button\"  [attr.aria-label]=\"'Supprimer cet email avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n                     (click)=\"onDeleteEmail(email.id, 'received'); $event.stopPropagation()\">\r\n            \r\n"
                },
                {
                    "date": 1748707976827,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,10 +99,11 @@\n                         <div class=\"email-item-subject\">{{ email.headers?.subject }}</div>\r\n \r\n             <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n             <button mat-icon-button class=\"delete-button\" \r\n+[attr.aria-label]=\"'Supprimer le brouillon avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n                     (click)=\"onDeleteEmail(email.id, 'draft'); $event.stopPropagation()\">\r\n-              <mat-icon>delete</mat-icon>\r\n+                            <mat-icon>delete</mat-icon>\r\n             </button>\r\n           </li>\r\n         </ul>\r\n       </div>\r\n"
                },
                {
                    "date": 1748709604104,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,10 +37,10 @@\n         <ul class=\"email-list\">\r\n           <li *ngIf=\"receivedEmails.length === 0\" class=\"empty-list-message\">\r\n             Aucun email dans la boîte de réception.\r\n           </li>\r\n-          <li *ngFor=\"let email of receivedEmails\" \r\n-              (click)=\"selectEmail(email, 'received')\" \r\n+           <li *ngFor=\"let email of receivedEmails\"\r\n+              (click)=\"selectEmail(email, 'received')\"\r\n               [class.unread]=\"!email.isRead\">\r\n             <div class=\"email-item-header\">\r\n              <span class=\"email-item-sender\">{{ email.headers?.from }}</span>\r\n               <span class=\"email-item-date\">{{ email.headers?.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n"
                },
                {
                    "date": 1748709619064,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,16 +40,19 @@\n           </li>\r\n            <li *ngFor=\"let email of receivedEmails\"\r\n               (click)=\"selectEmail(email, 'received')\"\r\n               [class.unread]=\"!email.isRead\">\r\n-            <div class=\"email-item-header\">\r\n-             <span class=\"email-item-sender\">{{ email.headers?.from }}</span>\r\n-              <span class=\"email-item-date\">{{ email.headers?.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n-          </div>\r\n-            <div class=\"email-item-subject\">{{ email.headers?.subject }}</div>\r\n-            <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n-            <button mat-icon-button class=\"delete-button\"  [attr.aria-label]=\"'Supprimer cet email avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n-                    (click)=\"onDeleteEmail(email.id, 'received'); $event.stopPropagation()\">\r\n+            <div class=\"email-details\">\r\n+              <div class=\"email-item-header\">\r\n+                <span class=\"email-item-sender\">{{ email.headers?.from }}</span>\r\n+                <span class=\"email-item-date\">{{ email.headers?.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n+              </div>\r\n+              <div class=\"email-item-subject\">{{ email.headers?.subject }}</div>\r\n+              <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n+            </div>\r\n+            <button mat-icon-button class=\"delete-button\"\r\n+                    [attr.aria-label]=\"'Supprimer cet email avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n+                  (click)=\"onDeleteEmail(email.id, 'received'); $event.stopPropagation()\">\r\n            \r\n               <mat-icon>delete</mat-icon>\r\n             </button>\r\n           </li>\r\n"
                },
                {
                    "date": 1748709635288,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,15 +68,18 @@\n             Aucun email dans les éléments envoyés.\r\n           </li>\r\n           <li *ngFor=\"let email of sentEmails\" \r\n               (click)=\"selectEmail(email, 'sent')\">\r\n-            <div class=\"email-item-header\">\r\n-                 <span class=\"email-item-recipient\">À: {{ extractEmailAddress(email.headers?.to || '') }}</span>\r\n-              <span class=\"email-item-date\">{{ email.headers?.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n-          </div>\r\n-            <div class=\"email-item-subject\">{{ email.headers?.subject }}</div>\r\n-            <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n-            <button mat-icon-button class=\"delete-button\" \r\n+            <div class=\"email-details\">\r\n+              <div class=\"email-item-header\">\r\n+                <span class=\"email-item-recipient\">À: {{ extractEmailAddress(email.headers?.to || '') }}</span>\r\n+                <span class=\"email-item-date\">{{ email.headers?.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n+              </div>\r\n+              <div class=\"email-item-subject\">{{ email.headers?.subject }}</div>\r\n+              <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n+            </div>\r\n+            <button mat-icon-button class=\"delete-button\"\r\n+       \r\n                     [attr.aria-label]=\"'Supprimer cet email avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n                     (click)=\"onDeleteEmail(email.id, 'sent'); $event.stopPropagation()\">\r\n        \r\n               <mat-icon>delete</mat-icon>\r\n"
                },
                {
                    "date": 1748709655305,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,18 +97,19 @@\n             Aucun brouillon.\r\n           </li>\r\n           <li *ngFor=\"let email of draftEmails\" \r\n               (click)=\"selectEmail(email, 'draft')\">\r\n-            <div class=\"email-item-header\">\r\n-                        <span class=\"email-item-recipient\">À: {{ extractEmailAddress(email.headers?.to || '') }}</span>\r\n-              <span class=\"email-item-date\">{{ email.headers?.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n-               </div>\r\n-                        <div class=\"email-item-subject\">{{ email.headers?.subject }}</div>\r\n-\r\n-            <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n-            <button mat-icon-button class=\"delete-button\" \r\n-[attr.aria-label]=\"'Supprimer le brouillon avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n-                    (click)=\"onDeleteEmail(email.id, 'draft'); $event.stopPropagation()\">\r\n+            <div class=\"email-details\">\r\n+              <div class=\"email-item-header\">\r\n+                <span class=\"email-item-recipient\">À: {{ extractEmailAddress(email.headers?.to || '') }}</span>\r\n+                <span class=\"email-item-date\">{{ email.headers?.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n+              </div>\r\n+              <div class=\"email-item-subject\">{{ email.headers?.subject }}</div>\r\n+              <div class=\"email-item-snippet\">{{ email.snippet }}</div>\r\n+            </div>\r\n+            <button mat-icon-button class=\"delete-button\"\r\n+                    [attr.aria-label]=\"'Supprimer le brouillon avec sujet ' + (email.headers?.subject || 'sans sujet')\"\r\n+                      (click)=\"onDeleteEmail(email.id, 'draft'); $event.stopPropagation()\">\r\n                             <mat-icon>delete</mat-icon>\r\n             </button>\r\n           </li>\r\n         </ul>\r\n"
                },
                {
                    "date": 1748712246198,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,11 @@\n             Aucun email dans la boîte de réception.\r\n           </li>\r\n            <li *ngFor=\"let email of receivedEmails\"\r\n               (click)=\"selectEmail(email, 'received')\"\r\n-              [class.unread]=\"!email.isRead\">\r\n+               [class.unread]=\"!email.isRead\"\r\n+              [class.selected]=\"email.id === selectedEmailId\">\r\n+       \r\n             <div class=\"email-details\">\r\n               <div class=\"email-item-header\">\r\n                 <span class=\"email-item-sender\">{{ email.headers?.from }}</span>\r\n                 <span class=\"email-item-date\">{{ email.headers?.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n"
                },
                {
                    "date": 1748712263144,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,9 +69,11 @@\n           <li *ngIf=\"sentEmails.length === 0\" class=\"empty-list-message\">\r\n             Aucun email dans les éléments envoyés.\r\n           </li>\r\n           <li *ngFor=\"let email of sentEmails\" \r\n-              (click)=\"selectEmail(email, 'sent')\">\r\n+              (click)=\"selectEmail(email, 'sent')\"\r\n+              [class.selected]=\"email.id === selectedEmailId\">\r\n+        \r\n             <div class=\"email-details\">\r\n               <div class=\"email-item-header\">\r\n                 <span class=\"email-item-recipient\">À: {{ extractEmailAddress(email.headers?.to || '') }}</span>\r\n                 <span class=\"email-item-date\">{{ email.headers?.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n"
                },
                {
                    "date": 1748712277312,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -100,9 +100,11 @@\n           <li *ngIf=\"draftEmails.length === 0\" class=\"empty-list-message\">\r\n             Aucun brouillon.\r\n           </li>\r\n           <li *ngFor=\"let email of draftEmails\" \r\n-              (click)=\"selectEmail(email, 'draft')\">\r\n+                            (click)=\"selectEmail(email, 'draft')\"\r\n+              [class.selected]=\"email.id === selectedEmailId\">\r\n+            \r\n             <div class=\"email-details\">\r\n               <div class=\"email-item-header\">\r\n                 <span class=\"email-item-recipient\">À: {{ extractEmailAddress(email.headers?.to || '') }}</span>\r\n                 <span class=\"email-item-date\">{{ email.headers?.date | date:'dd/MM/yyyy HH:mm' }}</span>\r\n"
                }
            ],
            "date": 1748563197087,
            "name": "Commit-0",
            "content": "--- a/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\emails-component\\emails-component.component.html\r\n+++ b/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\emails-component\\emails-component.component.html\r\n@@ -5,49 +5,53 @@\r\n     <!-- <button mat-raised-button color=\"primary\">Nouvel Email</button> -->\r\n   </header>\r\n \r\n-  <mat-tab-group [(selectedIndex)]=\"selectedTabIndex\" (selectedIndexChange)=\"onTabChanged($event)\" animationDuration=\"0ms\">\r\n-    <mat-tab label=\"Emails Reçus\">\r\n-      <ng-template matTabContent>\r\n-        <div class=\"email-list-container\">\r\n-          <ul class=\"email-list\">\r\n-            <li *ngIf=\"receivedEmails.length === 0\" class=\"empty-list-message\">\r\n-              Aucun email dans la boîte de réception.\r\n-            </li>\r\n-            <li *ngFor=\"let email of receivedEmails\" (click)=\"selectEmail(email, 'received')\" [ngClass]=\"{'unread': !email.read}\">\r\n-              <div class=\"email-item-sender\">{{ email.from }}</div>\r\n-              <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n-              <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n-              <div class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n-            </li>\r\n-          </ul>\r\n-        </div>\r\n-      </ng-template>\r\n-    </mat-tab>\r\n+  <div class=\"custom-tabs-nav\">\r\n+    <button\r\n+      class=\"custom-tab-button\"\r\n+      [class.active]=\"activeTab === 'received'\"\r\n+      (click)=\"setActiveTab('received')\">\r\n+      Emails Reçus\r\n+    </button>\r\n+    <button\r\n+      class=\"custom-tab-button\"\r\n+      [class.active]=\"activeTab === 'sent'\"\r\n+      (click)=\"setActiveTab('sent')\">\r\n+      Emails Envoyés\r\n+    </button>\r\n+    <button\r\n+      class=\"custom-tab-button\"\r\n+      [class.active]=\"activeTab === 'draft'\"\r\n+      (click)=\"setActiveTab('draft')\">\r\n+      Brouillons\r\n+    </button>\r\n+  </div>\r\n \r\n-    <mat-tab label=\"Emails Envoyés\">\r\n-      <ng-template matTabContent>\r\n-        <div class=\"email-list-container\">\r\n-          <ul class=\"email-list\">\r\n-            <li *ngIf=\"sentEmails.length === 0\" class=\"empty-list-message\">\r\n-              Aucun email dans les éléments envoyés.\r\n-            </li>\r\n-            <li *ngFor=\"let email of sentEmails\" (click)=\"selectEmail(email, 'sent')\">\r\n-              <div class=\"email-item-recipient\">À: {{ email.to }}</div>\r\n-              <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n-              <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n-              <div class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n-            </li>\r\n-          </ul>\r\n-        </div>\r\n-      </ng-template>\r\n-    </mat-tab>\r\n+  <div class=\"custom-tab-content\">\r\n+    <div *ngIf=\"activeTab === 'received'\">\r\n+      <div class=\"email-list-container\">\r\n+        <ul class=\"email-list\">\r\n+          <li *ngIf=\"receivedEmails.length === 0\" class=\"empty-list-message\">\r\n+            Aucun email dans la boîte de réception.\r\n+          </li>\r\n+          <li *ngFor=\"let email of receivedEmails\" (click)=\"selectEmail(email, 'received')\" [ngClass]=\"{'unread': !email.read}\">\r\n+            <div class=\"email-item-sender\">{{ email.from }}</div>\r\n+            <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n+            <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n+            <div class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n+          </li>\r\n+        </ul>\r\n+      </div>\r\n+    </div>\r\n \r\n-    <mat-tab label=\"Brouillons\">\r\n-      <ng-template matTabContent>\r\n+    <div *ngIf=\"activeTab === 'sent'\">\r\n+      <div class=\"email-list-container\">\r\n+        <ul class=\"email-list\">\r\n+          <li *ngIf=\"sentEmails.length === 0\" class=\"empty-list-message\">\r\n+            Aucun email dans les éléments envoyés.\r\n+          </li>\r\n+          <li *ngFor=\"let email of sentEmails\" (click)=\"selectEmail(email, 'sent')\">\r\n+            <div class=\"email-item-recipient\">À: {{ email.to }}</div>\r\n+            <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n+            <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n+            <div class=\"email-item-date\">{{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n+          </li>\r\n+        </ul>\r\n+      </div>\r\n+    </div>\r\n+\r\n+    <div *ngIf=\"activeTab === 'draft'\">\r\n+      <div class=\"email-list-container\">\r\n+        <ul class=\"email-list\">\r\n+          <li *ngIf=\"draftEmails.length === 0\" class=\"empty-list-message\">\r\n+            Aucun brouillon.\r\n+          </li>\r\n+          <li *ngFor=\"let email of draftEmails\" (click)=\"selectEmail(email, 'draft')\">\r\n+            <div class=\"email-item-recipient\">À: {{ email.to }}</div>\r\n+            <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n+            <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n+            <div class=\"email-item-date\">Dernière modif: {{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n+          </li>\r\n+        </ul>\r\n+      </div>\r\n+    </div>\r\n+  </div>\r\n+</div>\r\n\r\n-        <div class=\"email-list-container\">\r\n-          <ul class=\"email-list\">\r\n-            <li *ngIf=\"draftEmails.length === 0\" class=\"empty-list-message\">\r\n-              Aucun brouillon.\r\n-            </li>\r\n-            <li *ngFor=\"let email of draftEmails\" (click)=\"selectEmail(email, 'draft')\">\r\n-              <div class=\"email-item-recipient\">À: {{ email.to }}</div>\r\n-              <div class=\"email-item-subject\">{{ email.subject }}</div>\r\n-              <div class=\"email-item-snippet\">{{ email.bodySnippet }}</div>\r\n-              <div class=\"email-item-date\">Dernière modif: {{ email.date | date:'dd/MM/yyyy HH:mm' }}</div>\r\n-            </li>\r\n-          </ul>\r\n-        </div>\r\n-      </ng-template>\r\n-    </mat-tab>\r\n-  </mat-tab-group>\r\n-</div>\r\n"
        }
    ]
}