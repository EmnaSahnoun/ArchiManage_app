{
    "sourceFile": "src/app/super-admin/super-admin-dashboard/super-admin-dashboard.component.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 19,
            "patches": [
                {
                    "date": 1743945875724,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1744045526625,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,9 @@\n <div class=\"dashboard-container\">\r\n     <app-header [title]=\"'Tableau de bord'\"></app-header>\r\n     <!-- Task Summary -->\r\n     <div class=\"task-summary\">\r\n-      <h2>les Projets</h2>\r\n-      <p>Ajouter un nouveau projet et les gérer </p>\r\n+      \r\n       <button mat-button class=\"add-project\">\r\n         <i class=\"bi bi-plus\"></i>Nouveau Projet\r\n       </button>\r\n   \r\n"
                },
                {
                    "date": 1744045534367,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,11 +2,9 @@\n     <app-header [title]=\"'Tableau de bord'\"></app-header>\r\n     <!-- Task Summary -->\r\n     <div class=\"task-summary\">\r\n       \r\n-      <button mat-button class=\"add-project\">\r\n-        <i class=\"bi bi-plus\"></i>Nouveau Projet\r\n-      </button>\r\n+     \r\n   \r\n       <div class=\"task-cards\">\r\n         <div class=\"task-card pending\">\r\n         <i class=\"bi bi-clock-history\"></i>\r\n"
                },
                {
                    "date": 1744045545941,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,13 @@\n <div class=\"dashboard-container\">\r\n     <app-header [title]=\"'Tableau de bord'\"></app-header>\r\n     <!-- Task Summary -->\r\n     <div class=\"task-summary\">\r\n-      \r\n-     \r\n+      <h2>les Projets</h2>\r\n+      <p>Ajouter un nouveau projet et les gérer </p>\r\n+      <button mat-button class=\"add-project\">\r\n+        <i class=\"bi bi-plus\"></i>Nouveau Projet\r\n+      </button>\r\n   \r\n       <div class=\"task-cards\">\r\n         <div class=\"task-card pending\">\r\n         <i class=\"bi bi-clock-history\"></i>\r\n"
                },
                {
                    "date": 1744045552552,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,9 +2,9 @@\n     <app-header [title]=\"'Tableau de bord'\"></app-header>\r\n     <!-- Task Summary -->\r\n     <div class=\"task-summary\">\r\n       <h2>les Projets</h2>\r\n-      <p>Ajouter un nouveau projet et les gérer </p>\r\n+      <p> </p>\r\n       <button mat-button class=\"add-project\">\r\n         <i class=\"bi bi-plus\"></i>Nouveau Projet\r\n       </button>\r\n   \r\n"
                },
                {
                    "date": 1744045616869,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,12 @@\n <div class=\"dashboard-container\">\r\n     <app-header [title]=\"'Tableau de bord'\"></app-header>\r\n     <!-- Task Summary -->\r\n     <div class=\"task-summary\">\r\n-      <h2>les Projets</h2>\r\n+      <h2></h2>\r\n       <p> </p>\r\n       <button mat-button class=\"add-project\">\r\n-        <i class=\"bi bi-plus\"></i>Nouveau Projet\r\n+        <i class=\"bi bi-plus\"></i>Nouvelle Agence\r\n       </button>\r\n   \r\n       <div class=\"task-cards\">\r\n         <div class=\"task-card pending\">\r\n"
                },
                {
                    "date": 1744045755983,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n <div class=\"dashboard-container\">\r\n     <app-header [title]=\"'Tableau de bord'\"></app-header>\r\n     <!-- Task Summary -->\r\n     <div class=\"task-summary\">\r\n-      <h2></h2>\r\n+      <h2> Les </h2>\r\n       <p> </p>\r\n       <button mat-button class=\"add-project\">\r\n         <i class=\"bi bi-plus\"></i>Nouvelle Agence\r\n       </button>\r\n"
                },
                {
                    "date": 1744045761069,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n <div class=\"dashboard-container\">\r\n     <app-header [title]=\"'Tableau de bord'\"></app-header>\r\n     <!-- Task Summary -->\r\n     <div class=\"task-summary\">\r\n-      <h2> Les </h2>\r\n+      <h2> Les statistiques</h2>\r\n       <p> </p>\r\n       <button mat-button class=\"add-project\">\r\n         <i class=\"bi bi-plus\"></i>Nouvelle Agence\r\n       </button>\r\n"
                },
                {
                    "date": 1744045976620,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,29 +1,34 @@\n <div class=\"dashboard-container\">\r\n     <app-header [title]=\"'Tableau de bord'\"></app-header>\r\n     <!-- Task Summary -->\r\n     <div class=\"task-summary\">\r\n-      <h2> Les statistiques</h2>\r\n-      <p> </p>\r\n+      <h2>Les statistiques</h2>\r\n+      <p></p>\r\n       <button mat-button class=\"add-project\">\r\n         <i class=\"bi bi-plus\"></i>Nouvelle Agence\r\n       </button>\r\n-  \r\n+    \r\n       <div class=\"task-cards\">\r\n+        <!-- Carte 1 : Nombre d'agences -->\r\n         <div class=\"task-card pending\">\r\n-        <i class=\"bi bi-clock-history\"></i>\r\n+          <i class=\"bi bi-building\"></i> <!-- Icône \"bâtiment\" pour les agences -->\r\n           <h2>12</h2>\r\n-          <p>Projets en attente</p>\r\n+          <p>Agences</p>\r\n         </div>\r\n+    \r\n+        <!-- Carte 2 : Nombre de projets -->\r\n         <div class=\"task-card in-progress\">\r\n-            <i class=\"bi bi-tools\"></i>\r\n+          <i class=\"bi bi-folder2-open\"></i> <!-- Icône \"dossier ouvert\" pour les projets -->\r\n           <h2>64</h2>\r\n-          <p>Projets en cours</p>\r\n+          <p>Projets</p>\r\n         </div>\r\n+    \r\n+        <!-- Carte 3 : Nombre d'utilisateurs -->\r\n         <div class=\"task-card completed\">\r\n-        <i class=\"bi bi-check-circle-fill\"></i>\r\n+          <i class=\"bi bi-people-fill\"></i> <!-- Icône \"utilisateurs\" -->\r\n           <h2>105</h2>\r\n-          <p>Projets terminés</p>\r\n+          <p>Utilisateurs</p>\r\n         </div>\r\n       </div>\r\n     </div>\r\n   \r\n"
                },
                {
                    "date": 1744045991159,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,37 +1,37 @@\n <div class=\"dashboard-container\">\r\n     <app-header [title]=\"'Tableau de bord'\"></app-header>\r\n     <!-- Task Summary -->\r\n     <div class=\"task-summary\">\r\n-      <h2>Les statistiques</h2>\r\n-      <p></p>\r\n-      <button mat-button class=\"add-project\">\r\n-        <i class=\"bi bi-plus\"></i>Nouvelle Agence\r\n-      </button>\r\n-    \r\n-      <div class=\"task-cards\">\r\n-        <!-- Carte 1 : Nombre d'agences -->\r\n-        <div class=\"task-card pending\">\r\n-          <i class=\"bi bi-building\"></i> <!-- Icône \"bâtiment\" pour les agences -->\r\n-          <h2>12</h2>\r\n-          <p>Agences</p>\r\n-        </div>\r\n-    \r\n-        <!-- Carte 2 : Nombre de projets -->\r\n-        <div class=\"task-card in-progress\">\r\n-          <i class=\"bi bi-folder2-open\"></i> <!-- Icône \"dossier ouvert\" pour les projets -->\r\n-          <h2>64</h2>\r\n-          <p>Projets</p>\r\n-        </div>\r\n-    \r\n-        <!-- Carte 3 : Nombre d'utilisateurs -->\r\n-        <div class=\"task-card completed\">\r\n-          <i class=\"bi bi-people-fill\"></i> <!-- Icône \"utilisateurs\" -->\r\n-          <h2>105</h2>\r\n-          <p>Utilisateurs</p>\r\n-        </div>\r\n-      </div>\r\n+  <h2>Les statistiques</h2>\r\n+  <p></p>\r\n+  <button mat-button class=\"add-project\">\r\n+    <i class=\"bi bi-plus\"></i>Nouvelle Agence\r\n+  </button>\r\n+\r\n+  <div class=\"task-cards\">\r\n+    <!-- Carte 1 : Nombre d'agences -->\r\n+    <div class=\"task-card pending\">\r\n+      <i class=\"bi bi-building\"></i> <!-- Icône \"bâtiment\" pour les agences -->\r\n+      <h2>12</h2>\r\n+      <p>Agences</p>\r\n     </div>\r\n+\r\n+    <!-- Carte 2 : Nombre de projets -->\r\n+    <div class=\"task-card in-progress\">\r\n+      <i class=\"bi bi-folder2-open\"></i> <!-- Icône \"dossier ouvert\" pour les projets -->\r\n+      <h2>64</h2>\r\n+      <p>Projets</p>\r\n+    </div>\r\n+\r\n+    <!-- Carte 3 : Nombre d'utilisateurs -->\r\n+    <div class=\"task-card completed\">\r\n+      <i class=\"bi bi-people-fill\"></i> <!-- Icône \"utilisateurs\" -->\r\n+      <h2>105</h2>\r\n+      <p>Utilisateurs</p>\r\n+    </div>\r\n+  </div>\r\n+</div>\r\n   \r\n     <!-- Task Activity -->\r\n     <div class=\"task-activity\">\r\n       <h2>Activité des Tâches</h2>\r\n"
                },
                {
                    "date": 1744045998376,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,37 +1,37 @@\n <div class=\"dashboard-container\">\r\n     <app-header [title]=\"'Tableau de bord'\"></app-header>\r\n     <!-- Task Summary -->\r\n     <div class=\"task-summary\">\r\n-  <h2>Les statistiques</h2>\r\n-  <p></p>\r\n-  <button mat-button class=\"add-project\">\r\n-    <i class=\"bi bi-plus\"></i>Nouvelle Agence\r\n-  </button>\r\n-\r\n-  <div class=\"task-cards\">\r\n-    <!-- Carte 1 : Nombre d'agences -->\r\n-    <div class=\"task-card pending\">\r\n-      <i class=\"bi bi-building\"></i> <!-- Icône \"bâtiment\" pour les agences -->\r\n-      <h2>12</h2>\r\n-      <p>Agences</p>\r\n+      <h2>Les statistiques</h2>\r\n+      <p></p>\r\n+      <button mat-button class=\"add-project\">\r\n+        <i class=\"bi bi-plus\"></i>Nouvelle Agence\r\n+      </button>\r\n+    \r\n+      <div class=\"task-cards\">\r\n+        <!-- Carte 1 : Nombre d'agences -->\r\n+        <div class=\"task-card pending\">\r\n+          <i class=\"bi bi-building\"></i> <!-- Icône \"bâtiment\" pour les agences -->\r\n+          <h2>12</h2>\r\n+          <p>Agences</p>\r\n+        </div>\r\n+    \r\n+        <!-- Carte 2 : Nombre de projets -->\r\n+        <div class=\"task-card in-progress\">\r\n+          <i class=\"bi bi-folder2-open\"></i> <!-- Icône \"dossier ouvert\" pour les projets -->\r\n+          <h2>64</h2>\r\n+          <p>Projets</p>\r\n+        </div>\r\n+    \r\n+        <!-- Carte 3 : Nombre d'utilisateurs -->\r\n+        <div class=\"task-card completed\">\r\n+          <i class=\"bi bi-people-fill\"></i> <!-- Icône \"utilisateurs\" -->\r\n+          <h2>105</h2>\r\n+          <p>Utilisateurs</p>\r\n+        </div>\r\n+      </div>\r\n     </div>\r\n-\r\n-    <!-- Carte 2 : Nombre de projets -->\r\n-    <div class=\"task-card in-progress\">\r\n-      <i class=\"bi bi-folder2-open\"></i> <!-- Icône \"dossier ouvert\" pour les projets -->\r\n-      <h2>64</h2>\r\n-      <p>Projets</p>\r\n-    </div>\r\n-\r\n-    <!-- Carte 3 : Nombre d'utilisateurs -->\r\n-    <div class=\"task-card completed\">\r\n-      <i class=\"bi bi-people-fill\"></i> <!-- Icône \"utilisateurs\" -->\r\n-      <h2>105</h2>\r\n-      <p>Utilisateurs</p>\r\n-    </div>\r\n-  </div>\r\n-</div>\r\n   \r\n     <!-- Task Activity -->\r\n     <div class=\"task-activity\">\r\n       <h2>Activité des Tâches</h2>\r\n"
                },
                {
                    "date": 1745432670084,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,91 +1,127 @@\n <div class=\"dashboard-container\">\r\n-    <app-header [title]=\"'Tableau de bord'\"></app-header>\r\n-    <!-- Task Summary -->\r\n-    <div class=\"task-summary\">\r\n-      <h2>Les statistiques</h2>\r\n-      <p></p>\r\n-      <button mat-button class=\"add-project\">\r\n-        <i class=\"bi bi-plus\"></i>Nouvelle Agence\r\n-      </button>\r\n-    \r\n-      <div class=\"task-cards\">\r\n-        <!-- Carte 1 : Nombre d'agences -->\r\n-        <div class=\"task-card pending\">\r\n-          <i class=\"bi bi-building\"></i> <!-- Icône \"bâtiment\" pour les agences -->\r\n-          <h2>12</h2>\r\n-          <p>Agences</p>\r\n+  <app-header [title]=\"'Tableau de bord Super Admin'\"></app-header>\r\n+\r\n+  <!-- Section Statistiques Clés -->\r\n+  <div class=\"stats-header\">\r\n+    <h2>Statistiques Générales</h2>\r\n+    <button mat-flat-button color=\"primary\" class=\"add-agency-button\">\r\n+      <mat-icon>add_business</mat-icon>\r\n+      <span>Nouvelle Agence</span>\r\n+    </button>\r\n+  </div>\r\n+\r\n+  <div class=\"stats-cards-grid\">\r\n+    <mat-card class=\"stat-card agencies\">\r\n+      <mat-card-header>\r\n+        <div mat-card-avatar class=\"stat-icon-container\">\r\n+           <mat-icon>apartment</mat-icon> <!-- Icône Material pour agences -->\r\n         </div>\r\n-    \r\n-        <!-- Carte 2 : Nombre de projets -->\r\n-        <div class=\"task-card in-progress\">\r\n-          <i class=\"bi bi-folder2-open\"></i> <!-- Icône \"dossier ouvert\" pour les projets -->\r\n-          <h2>64</h2>\r\n-          <p>Projets</p>\r\n+        <mat-card-title>12</mat-card-title>\r\n+        <mat-card-subtitle>Agences Actives</mat-card-subtitle>\r\n+      </mat-card-header>\r\n+    </mat-card>\r\n+\r\n+    <mat-card class=\"stat-card projects\">\r\n+      <mat-card-header>\r\n+        <div mat-card-avatar class=\"stat-icon-container\">\r\n+           <mat-icon>folder_special</mat-icon> <!-- Icône Material pour projets -->\r\n         </div>\r\n-    \r\n-        <!-- Carte 3 : Nombre d'utilisateurs -->\r\n-        <div class=\"task-card completed\">\r\n-          <i class=\"bi bi-people-fill\"></i> <!-- Icône \"utilisateurs\" -->\r\n-          <h2>105</h2>\r\n-          <p>Utilisateurs</p>\r\n+        <mat-card-title>64</mat-card-title>\r\n+        <mat-card-subtitle>Projets en Cours</mat-card-subtitle>\r\n+      </mat-card-header>\r\n+    </mat-card>\r\n+\r\n+    <mat-card class=\"stat-card users\">\r\n+      <mat-card-header>\r\n+        <div mat-card-avatar class=\"stat-icon-container\">\r\n+           <mat-icon>group</mat-icon> <!-- Icône Material pour utilisateurs -->\r\n         </div>\r\n-      </div>\r\n-    </div>\r\n-  \r\n-    <!-- Task Activity -->\r\n-    <div class=\"task-activity\">\r\n-      <h2>Activité des Tâches</h2>\r\n-      <canvas id=\"taskChart\"></canvas>\r\n-  \r\n-      <div class=\"task-stats\">\r\n-        <div class=\"stat\">\r\n-          <i class=\"bi bi-calendar-check\"></i>\r\n-          <p>Total Tâches</p>\r\n-          <h3>56</h3>\r\n+        <mat-card-title>105</mat-card-title>\r\n+        <mat-card-subtitle>Utilisateurs Enregistrés</mat-card-subtitle>\r\n+      </mat-card-header>\r\n+    </mat-card>\r\n+  </div>\r\n+\r\n+  <!-- Section Activité & Graphique -->\r\n+  <mat-card class=\"activity-section\">\r\n+    <mat-card-header>\r\n+      <mat-card-title>Activité Récente</mat-card-title>\r\n+      <mat-card-subtitle>Vue d'ensemble des tâches</mat-card-subtitle>\r\n+    </mat-card-header>\r\n+    <mat-card-content>\r\n\\ No newline at end of file\n+      <div class=\"activity-content\">\r\n+        <div class=\"chart-container\">\r\n+          <canvas id=\"taskChart\"></canvas> <!-- Votre graphique ici -->\r\n         </div>\r\n-        <div class=\"stat\">\r\n-            <i class=\"bi bi-people\"></i>\r\n-          <p>Membres</p>\r\n-          <h3>8</h3>\r\n+        <div class=\"activity-stats\">\r\n+          <div class=\"stat-item\">\r\n+            <mat-icon>checklist</mat-icon>\r\n+            <span class=\"stat-value\">56</span>\r\n+            <span class=\"stat-label\">Tâches Totales</span>\r\n+          </div>\r\n+          <div class=\"stat-item\">\r\n+            <mat-icon>groups</mat-icon>\r\n+            <span class=\"stat-value\">8</span>\r\n+            <span class=\"stat-label\">Membres Assignés</span>\r\n+          </div>\r\n+          <div class=\"stat-item\">\r\n+            <mat-icon>assignment</mat-icon>\r\n+            <span class=\"stat-value\">30</span>\r\n+            <span class=\"stat-label\">Projets Concernés</span>\r\n+          </div>\r\n         </div>\r\n-        <div class=\"stat\">\r\n-        <i class=\"bi bi-bar-chart\"></i>\r\n-          <p>Projets</p>\r\n-          <h3>30</h3>\r\n-        </div>\r\n       </div>\r\n-    </div>\r\n+    </mat-card-content>\r\n+  </mat-card>\r\n \r\n-  \r\n-<div class=\"project-list\">\r\n-    <h2>Liste des Projets</h2>\r\n-    <table>\r\n-      <thead>\r\n-        <tr>\r\n-          <th>Nom du Projet</th>\r\n-          <th>Statut</th>\r\n-          <th>Progression</th>\r\n-          <th>Actions</th>\r\n-        </tr>\r\n-      </thead>\r\n-      <tbody>\r\n-        <tr>\r\n-          <td>Projet 1</td>\r\n-          <td><span class=\"status in-progress\">En cours</span></td>\r\n-          <td>\r\n-            <div class=\"progress-bar\"><div class=\"progress\" style=\"width: 60%;\"></div></div>\r\n+  <!-- Section Liste des Projets -->\r\n+  <mat-card class=\"project-list-section\">\r\n+    <mat-card-header>\r\n+      <mat-card-title>Suivi des Projets</mat-card-title>\r\n+    </mat-card-header>\r\n+    <mat-card-content>\r\n+      <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z2 project-table\"> <!-- Utilisez mat-table -->\r\n+\r\n+        <!-- Colonne Nom du Projet -->\r\n+        <ng-container matColumnDef=\"name\">\r\n+          <th mat-header-cell *matHeaderCellDef> Nom du Projet </th>\r\n+          <td mat-cell *matCellDef=\"let project\"> {{project.name}} </td>\r\n+        </ng-container>\r\n+\r\n+        <!-- Colonne Statut -->\r\n+        <ng-container matColumnDef=\"status\">\r\n+          <th mat-header-cell *matHeaderCellDef> Statut </th>\r\n+          <td mat-cell *matCellDef=\"let project\">\r\n+            <span class=\"status-badge\" [ngClass]=\"project.statusClass\">{{project.statusText}}</span>\r\n           </td>\r\n-          <td><i class=\"bi bi-eye icon-spacing\"></i> <i class=\"bi bi-pencil\"></i></td>\r\n-        </tr>\r\n-        <tr>\r\n-          <td>Projet 2</td>\r\n-          <td><span class=\"status completed\">Terminé</span></td>\r\n-          <td>\r\n-            <div class=\"progress-bar\"><div class=\"progress\" style=\"width: 100%;\"></div></div>\r\n+        </ng-container>\r\n+\r\n+        <!-- Colonne Progression -->\r\n+        <ng-container matColumnDef=\"progress\">\r\n+          <th mat-header-cell *matHeaderCellDef> Progression </th>\r\n+          <td mat-cell *matCellDef=\"let project\">\r\n+            <mat-progress-bar mode=\"determinate\" [value]=\"project.progress\" color=\"accent\"></mat-progress-bar>\r\n+            <span class=\"progress-value\">{{project.progress}}%</span>\r\n           </td>\r\n-          <td><i class=\"bi bi-eye icon-spacing\" ></i> <i class=\"bi bi-pencil\"></i></td>\r\n-        </tr>\r\n-      </tbody>\r\n-    </table>\r\n-  </div>\r\n-</div>\n+        </ng-container>\r\n+\r\n+        <!-- Colonne Actions -->\r\n+        <ng-container matColumnDef=\"actions\">\r\n+          <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n+          <td mat-cell *matCellDef=\"let project\">\r\n+            <button mat-icon-button color=\"primary\" aria-label=\"Voir le projet\">\r\n+              <mat-icon>visibility</mat-icon>\r\n+            </button>\r\n+            <button mat-icon-button color=\"accent\" aria-label=\"Modifier le projet\">\r\n+              <mat-icon>edit</mat-icon>\r\n+            </button>\r\n+          </td>\r\n+        </ng-container>\r\n+\r\n+        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n+        <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n+      </table>\r\n+    </mat-card-content>\r\n+  </mat-card>\r\n+\r\n+</div>\r\n"
                },
                {
                    "date": 1745433203400,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,10 @@\n \r\n   <!-- Section Statistiques Clés -->\r\n   <div class=\"stats-header\">\r\n     <h2>Statistiques Générales</h2>\r\n-    <button mat-flat-button color=\"primary\" class=\"add-agency-button\">\r\n+    <!-- Ajout de (click) -->\r\n+    <button mat-flat-button color=\"primary\" class=\"add-agency-button\" (click)=\"addAgency()\">\r\n       <mat-icon>add_business</mat-icon>\r\n       <span>Nouvelle Agence</span>\r\n     </button>\r\n   </div>\r\n@@ -15,9 +16,10 @@\n       <mat-card-header>\r\n         <div mat-card-avatar class=\"stat-icon-container\">\r\n            <mat-icon>apartment</mat-icon> <!-- Icône Material pour agences -->\r\n         </div>\r\n-        <mat-card-title>12</mat-card-title>\r\n+        <!-- Remplacer par des variables du composant (exemple) -->\r\n+        <mat-card-title>{{ agencyCount }}</mat-card-title>\r\n         <mat-card-subtitle>Agences Actives</mat-card-subtitle>\r\n       </mat-card-header>\r\n     </mat-card>\r\n \r\n@@ -25,9 +27,10 @@\n       <mat-card-header>\r\n         <div mat-card-avatar class=\"stat-icon-container\">\r\n            <mat-icon>folder_special</mat-icon> <!-- Icône Material pour projets -->\r\n         </div>\r\n-        <mat-card-title>64</mat-card-title>\r\n+         <!-- Remplacer par des variables du composant (exemple) -->\r\n+        <mat-card-title>{{ projectCount }}</mat-card-title>\r\n         <mat-card-subtitle>Projets en Cours</mat-card-subtitle>\r\n       </mat-card-header>\r\n     </mat-card>\r\n \r\n@@ -35,9 +38,10 @@\n       <mat-card-header>\r\n         <div mat-card-avatar class=\"stat-icon-container\">\r\n            <mat-icon>group</mat-icon> <!-- Icône Material pour utilisateurs -->\r\n         </div>\r\n-        <mat-card-title>105</mat-card-title>\r\n+         <!-- Remplacer par des variables du composant (exemple) -->\r\n+        <mat-card-title>{{ userCount }}</mat-card-title>\r\n         <mat-card-subtitle>Utilisateurs Enregistrés</mat-card-subtitle>\r\n       </mat-card-header>\r\n     </mat-card>\r\n   </div>\r\n@@ -50,24 +54,28 @@\n     </mat-card-header>\r\n     <mat-card-content>\r\n       <div class=\"activity-content\">\r\n         <div class=\"chart-container\">\r\n-          <canvas id=\"taskChart\"></canvas> <!-- Votre graphique ici -->\r\n+          <!-- Assurez-vous que la logique du graphique est dans le .ts -->\r\n+          <canvas id=\"taskChart\"></canvas>\r\n         </div>\r\n         <div class=\"activity-stats\">\r\n           <div class=\"stat-item\">\r\n             <mat-icon>checklist</mat-icon>\r\n-            <span class=\"stat-value\">56</span>\r\n+            <!-- Remplacer par des variables du composant (exemple) -->\r\n+            <span class=\"stat-value\">{{ totalTasks }}</span>\r\n             <span class=\"stat-label\">Tâches Totales</span>\r\n           </div>\r\n           <div class=\"stat-item\">\r\n             <mat-icon>groups</mat-icon>\r\n-            <span class=\"stat-value\">8</span>\r\n+             <!-- Remplacer par des variables du composant (exemple) -->\r\n+            <span class=\"stat-value\">{{ assignedMembers }}</span>\r\n             <span class=\"stat-label\">Membres Assignés</span>\r\n           </div>\r\n           <div class=\"stat-item\">\r\n             <mat-icon>assignment</mat-icon>\r\n-            <span class=\"stat-value\">30</span>\r\n+             <!-- Remplacer par des variables du composant (exemple) -->\r\n+            <span class=\"stat-value\">{{ relatedProjects }}</span>\r\n             <span class=\"stat-label\">Projets Concernés</span>\r\n           </div>\r\n         </div>\r\n       </div>\r\n@@ -79,9 +87,10 @@\n     <mat-card-header>\r\n       <mat-card-title>Suivi des Projets</mat-card-title>\r\n     </mat-card-header>\r\n     <mat-card-content>\r\n-      <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z2 project-table\"> <!-- Utilisez mat-table -->\r\n+      <!-- Assurez-vous que dataSource et displayedColumns sont définis dans le .ts -->\r\n+      <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z2 project-table\">\r\n \r\n         <!-- Colonne Nom du Projet -->\r\n         <ng-container matColumnDef=\"name\">\r\n           <th mat-header-cell *matHeaderCellDef> Nom du Projet </th>\r\n@@ -108,12 +117,14 @@\n         <!-- Colonne Actions -->\r\n         <ng-container matColumnDef=\"actions\">\r\n           <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n           <td mat-cell *matCellDef=\"let project\">\r\n-            <button mat-icon-button color=\"primary\" aria-label=\"Voir le projet\">\r\n+            <!-- Ajout de (click) -->\r\n+            <button mat-icon-button color=\"primary\" aria-label=\"Voir le projet\" (click)=\"viewProject(project)\">\r\n               <mat-icon>visibility</mat-icon>\r\n             </button>\r\n-            <button mat-icon-button color=\"accent\" aria-label=\"Modifier le projet\">\r\n+             <!-- Ajout de (click) -->\r\n+            <button mat-icon-button color=\"accent\" aria-label=\"Modifier le projet\" (click)=\"editProject(project)\">\r\n               <mat-icon>edit</mat-icon>\r\n             </button>\r\n           </td>\r\n         </ng-container>\r\n@@ -123,5 +134,5 @@\n       </table>\r\n     </mat-card-content>\r\n   </mat-card>\r\n \r\n-</div>\n\\ No newline at end of file\n+</div>\r\n"
                },
                {
                    "date": 1745433263380,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,138 +1,91 @@\n <div class=\"dashboard-container\">\r\n-  <app-header [title]=\"'Tableau de bord Super Admin'\"></app-header>\r\n-\r\n-  <!-- Section Statistiques Clés -->\r\n-  <div class=\"stats-header\">\r\n-    <h2>Statistiques Générales</h2>\r\n-    <!-- Ajout de (click) -->\r\n-    <button mat-flat-button color=\"primary\" class=\"add-agency-button\" (click)=\"addAgency()\">\r\n-      <mat-icon>add_business</mat-icon>\r\n-      <span>Nouvelle Agence</span>\r\n-    </button>\r\n-  </div>\r\n-\r\n-  <div class=\"stats-cards-grid\">\r\n-    <mat-card class=\"stat-card agencies\">\r\n-      <mat-card-header>\r\n-        <div mat-card-avatar class=\"stat-icon-container\">\r\n-           <mat-icon>apartment</mat-icon> <!-- Icône Material pour agences -->\r\n+    <app-header [title]=\"'Tableau de bord'\"></app-header>\r\n+    <!-- Task Summary -->\r\n+    <div class=\"task-summary\">\r\n+      <h2>Les statistiques</h2>\r\n+      <p></p>\r\n+      <button mat-button class=\"add-project\">\r\n+        <i class=\"bi bi-plus\"></i>Nouvelle Agence\r\n+      </button>\r\n+    \r\n+      <div class=\"task-cards\">\r\n+        <!-- Carte 1 : Nombre d'agences -->\r\n+        <div class=\"task-card pending\">\r\n+          <i class=\"bi bi-building\"></i> <!-- Icône \"bâtiment\" pour les agences -->\r\n+          <h2>12</h2>\r\n+          <p>Agences</p>\r\n         </div>\r\n-        <!-- Remplacer par des variables du composant (exemple) -->\r\n-        <mat-card-title>{{ agencyCount }}</mat-card-title>\r\n-        <mat-card-subtitle>Agences Actives</mat-card-subtitle>\r\n-      </mat-card-header>\r\n-    </mat-card>\r\n-\r\n-    <mat-card class=\"stat-card projects\">\r\n-      <mat-card-header>\r\n-        <div mat-card-avatar class=\"stat-icon-container\">\r\n-           <mat-icon>folder_special</mat-icon> <!-- Icône Material pour projets -->\r\n+    \r\n+        <!-- Carte 2 : Nombre de projets -->\r\n+        <div class=\"task-card in-progress\">\r\n+          <i class=\"bi bi-folder2-open\"></i> <!-- Icône \"dossier ouvert\" pour les projets -->\r\n+          <h2>64</h2>\r\n+          <p>Projets</p>\r\n         </div>\r\n-         <!-- Remplacer par des variables du composant (exemple) -->\r\n-        <mat-card-title>{{ projectCount }}</mat-card-title>\r\n-        <mat-card-subtitle>Projets en Cours</mat-card-subtitle>\r\n-      </mat-card-header>\r\n-    </mat-card>\r\n-\r\n-    <mat-card class=\"stat-card users\">\r\n-      <mat-card-header>\r\n-        <div mat-card-avatar class=\"stat-icon-container\">\r\n-           <mat-icon>group</mat-icon> <!-- Icône Material pour utilisateurs -->\r\n+    \r\n+        <!-- Carte 3 : Nombre d'utilisateurs -->\r\n+        <div class=\"task-card completed\">\r\n+          <i class=\"bi bi-people-fill\"></i> <!-- Icône \"utilisateurs\" -->\r\n+          <h2>105</h2>\r\n+          <p>Utilisateurs</p>\r\n         </div>\r\n-         <!-- Remplacer par des variables du composant (exemple) -->\r\n-        <mat-card-title>{{ userCount }}</mat-card-title>\r\n-        <mat-card-subtitle>Utilisateurs Enregistrés</mat-card-subtitle>\r\n-      </mat-card-header>\r\n-    </mat-card>\r\n-  </div>\r\n-\r\n-  <!-- Section Activité & Graphique -->\r\n-  <mat-card class=\"activity-section\">\r\n-    <mat-card-header>\r\n-      <mat-card-title>Activité Récente</mat-card-title>\r\n-      <mat-card-subtitle>Vue d'ensemble des tâches</mat-card-subtitle>\r\n-    </mat-card-header>\r\n-    <mat-card-content>\r\n-      <div class=\"activity-content\">\r\n-        <div class=\"chart-container\">\r\n-          <!-- Assurez-vous que la logique du graphique est dans le .ts -->\r\n-          <canvas id=\"taskChart\"></canvas>\r\n+      </div>\r\n+    </div>\r\n+  \r\n+    <!-- Task Activity -->\r\n+    <div class=\"task-activity\">\r\n+      <h2>Activité des Tâches</h2>\r\n+      <canvas id=\"taskChart\"></canvas>\r\n+  \r\n+      <div class=\"task-stats\">\r\n+        <div class=\"stat\">\r\n+          <i class=\"bi bi-calendar-check\"></i>\r\n+          <p>Total Tâches</p>\r\n+          <h3>56</h3>\r\n         </div>\r\n-        <div class=\"activity-stats\">\r\n-          <div class=\"stat-item\">\r\n-            <mat-icon>checklist</mat-icon>\r\n-            <!-- Remplacer par des variables du composant (exemple) -->\r\n-            <span class=\"stat-value\">{{ totalTasks }}</span>\r\n-            <span class=\"stat-label\">Tâches Totales</span>\r\n-          </div>\r\n-          <div class=\"stat-item\">\r\n-            <mat-icon>groups</mat-icon>\r\n-             <!-- Remplacer par des variables du composant (exemple) -->\r\n-            <span class=\"stat-value\">{{ assignedMembers }}</span>\r\n-            <span class=\"stat-label\">Membres Assignés</span>\r\n-          </div>\r\n-          <div class=\"stat-item\">\r\n-            <mat-icon>assignment</mat-icon>\r\n-             <!-- Remplacer par des variables du composant (exemple) -->\r\n-            <span class=\"stat-value\">{{ relatedProjects }}</span>\r\n-            <span class=\"stat-label\">Projets Concernés</span>\r\n-          </div>\r\n+        <div class=\"stat\">\r\n+            <i class=\"bi bi-people\"></i>\r\n+          <p>Membres</p>\r\n+          <h3>8</h3>\r\n         </div>\r\n+        <div class=\"stat\">\r\n+        <i class=\"bi bi-bar-chart\"></i>\r\n+          <p>Projets</p>\r\n+          <h3>30</h3>\r\n+        </div>\r\n       </div>\r\n-    </mat-card-content>\r\n-  </mat-card>\r\n+    </div>\r\n \r\n-  <!-- Section Liste des Projets -->\r\n-  <mat-card class=\"project-list-section\">\r\n-    <mat-card-header>\r\n-      <mat-card-title>Suivi des Projets</mat-card-title>\r\n-    </mat-card-header>\r\n-    <mat-card-content>\r\n-      <!-- Assurez-vous que dataSource et displayedColumns sont définis dans le .ts -->\r\n-      <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z2 project-table\">\r\n-\r\n-        <!-- Colonne Nom du Projet -->\r\n-        <ng-container matColumnDef=\"name\">\r\n-          <th mat-header-cell *matHeaderCellDef> Nom du Projet </th>\r\n-          <td mat-cell *matCellDef=\"let project\"> {{project.name}} </td>\r\n-        </ng-container>\r\n-\r\n-        <!-- Colonne Statut -->\r\n-        <ng-container matColumnDef=\"status\">\r\n-          <th mat-header-cell *matHeaderCellDef> Statut </th>\r\n-          <td mat-cell *matCellDef=\"let project\">\r\n-            <span class=\"status-badge\" [ngClass]=\"project.statusClass\">{{project.statusText}}</span>\r\n+  \r\n+<div class=\"project-list\">\r\n+    <h2>Liste des Projets</h2>\r\n+    <table>\r\n+      <thead>\r\n+        <tr>\r\n+          <th>Nom du Projet</th>\r\n+          <th>Statut</th>\r\n+          <th>Progression</th>\r\n+          <th>Actions</th>\r\n+        </tr>\r\n+      </thead>\r\n+      <tbody>\r\n+        <tr>\r\n+          <td>Projet 1</td>\r\n+          <td><span class=\"status in-progress\">En cours</span></td>\r\n+          <td>\r\n+            <div class=\"progress-bar\"><div class=\"progress\" style=\"width: 60%;\"></div></div>\r\n           </td>\r\n-        </ng-container>\r\n-\r\n-        <!-- Colonne Progression -->\r\n-        <ng-container matColumnDef=\"progress\">\r\n-          <th mat-header-cell *matHeaderCellDef> Progression </th>\r\n-          <td mat-cell *matCellDef=\"let project\">\r\n-            <mat-progress-bar mode=\"determinate\" [value]=\"project.progress\" color=\"accent\"></mat-progress-bar>\r\n-            <span class=\"progress-value\">{{project.progress}}%</span>\r\n+          <td><i class=\"bi bi-eye icon-spacing\"></i> <i class=\"bi bi-pencil\"></i></td>\r\n+        </tr>\r\n+        <tr>\r\n+          <td>Projet 2</td>\r\n+          <td><span class=\"status completed\">Terminé</span></td>\r\n+          <td>\r\n+            <div class=\"progress-bar\"><div class=\"progress\" style=\"width: 100%;\"></div></div>\r\n           </td>\r\n-        </ng-container>\r\n-\r\n-        <!-- Colonne Actions -->\r\n-        <ng-container matColumnDef=\"actions\">\r\n-          <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n-          <td mat-cell *matCellDef=\"let project\">\r\n-            <!-- Ajout de (click) -->\r\n-            <button mat-icon-button color=\"primary\" aria-label=\"Voir le projet\" (click)=\"viewProject(project)\">\r\n-              <mat-icon>visibility</mat-icon>\r\n-            </button>\r\n-             <!-- Ajout de (click) -->\r\n-            <button mat-icon-button color=\"accent\" aria-label=\"Modifier le projet\" (click)=\"editProject(project)\">\r\n-              <mat-icon>edit</mat-icon>\r\n-            </button>\r\n-          </td>\r\n-        </ng-container>\r\n-\r\n-        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n-        <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n-      </table>\r\n-    </mat-card-content>\r\n-  </mat-card>\r\n-\r\n-</div>\r\n+          <td><i class=\"bi bi-eye icon-spacing\" ></i> <i class=\"bi bi-pencil\"></i></td>\r\n+        </tr>\r\n+      </tbody>\r\n+    </table>\r\n+  </div>\r\n+</div>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1745598910302,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,91 +1,141 @@\n <div class=\"dashboard-container\">\r\n-    <app-header [title]=\"'Tableau de bord'\"></app-header>\r\n-    <!-- Task Summary -->\r\n-    <div class=\"task-summary\">\r\n-      <h2>Les statistiques</h2>\r\n-      <p></p>\r\n-      <button mat-button class=\"add-project\">\r\n-        <i class=\"bi bi-plus\"></i>Nouvelle Agence\r\n-      </button>\r\n-    \r\n-      <div class=\"task-cards\">\r\n-        <!-- Carte 1 : Nombre d'agences -->\r\n-        <div class=\"task-card pending\">\r\n-          <i class=\"bi bi-building\"></i> <!-- Icône \"bâtiment\" pour les agences -->\r\n-          <h2>12</h2>\r\n-          <p>Agences</p>\r\n+  <!-- En-tête (supposant que app-header existe et est approprié) -->\r\n+  <app-header [title]=\"'Tableau de bord Super Admin'\"></app-header>\r\n+\r\n+  <!-- Section Résumé des Statistiques -->\r\n+  <div class=\"stats-header\">\r\n+    <h2>Statistiques Générales</h2>\r\n+    <!-- Optionnel: Bouton pour ajouter une agence si pertinent ici -->\r\n+    <button mat-flat-button color=\"primary\" class=\"add-agency-button\" (click)=\"addNewAgency()\">\r\n+      <mat-icon>add_business</mat-icon> <!-- Icône pour ajouter une agence -->\r\n+      <span>Nouvelle Agence</span>\r\n+    </button>\r\n+  </div>\r\n+\r\n+  <div class=\"stats-cards-grid\">\r\n+    <!-- Carte Nombre d'Agences -->\r\n+    <mat-card class=\"stat-card agencies\">\r\n+      <mat-card-header>\r\n+        <div mat-card-avatar class=\"stat-icon-container\">\r\n+          <mat-icon>business</mat-icon> <!-- Icône Material pour agences -->\r\n         </div>\r\n-    \r\n-        <!-- Carte 2 : Nombre de projets -->\r\n-        <div class=\"task-card in-progress\">\r\n-          <i class=\"bi bi-folder2-open\"></i> <!-- Icône \"dossier ouvert\" pour les projets -->\r\n-          <h2>64</h2>\r\n-          <p>Projets</p>\r\n+        <mat-card-title>{{ agencyCount }}</mat-card-title> <!-- Remplacer par variable dynamique -->\r\n+        <mat-card-subtitle>Agences Actives</mat-card-subtitle>\r\n+      </mat-card-header>\r\n+    </mat-card>\r\n+\r\n+    <!-- Carte Nombre de Projets -->\r\n+    <mat-card class=\"stat-card projects\">\r\n+      <mat-card-header>\r\n+        <div mat-card-avatar class=\"stat-icon-container\">\r\n+          <mat-icon>folder_special</mat-icon> <!-- Icône Material pour projets -->\r\n         </div>\r\n-    \r\n-        <!-- Carte 3 : Nombre d'utilisateurs -->\r\n-        <div class=\"task-card completed\">\r\n-          <i class=\"bi bi-people-fill\"></i> <!-- Icône \"utilisateurs\" -->\r\n-          <h2>105</h2>\r\n-          <p>Utilisateurs</p>\r\n+        <mat-card-title>{{ projectCount }}</mat-card-title> <!-- Remplacer par variable dynamique -->\r\n+        <mat-card-subtitle>Projets Total</mat-card-subtitle>\r\n+      </mat-card-header>\r\n+    </mat-card>\r\n+\r\n+    <!-- Carte Nombre d'Utilisateurs -->\r\n+    <mat-card class=\"stat-card users\">\r\n+      <mat-card-header>\r\n+        <div mat-card-avatar class=\"stat-icon-container\">\r\n+          <mat-icon>group</mat-icon> <!-- Icône Material pour utilisateurs -->\r\n         </div>\r\n-      </div>\r\n-    </div>\r\n-  \r\n-    <!-- Task Activity -->\r\n-    <div class=\"task-activity\">\r\n-      <h2>Activité des Tâches</h2>\r\n-      <canvas id=\"taskChart\"></canvas>\r\n-  \r\n-      <div class=\"task-stats\">\r\n-        <div class=\"stat\">\r\n-          <i class=\"bi bi-calendar-check\"></i>\r\n-          <p>Total Tâches</p>\r\n-          <h3>56</h3>\r\n+        <mat-card-title>{{ userCount }}</mat-card-title> <!-- Remplacer par variable dynamique -->\r\n+        <mat-card-subtitle>Utilisateurs Enregistrés</mat-card-subtitle>\r\n+      </mat-card-header>\r\n+    </mat-card>\r\n+  </div>\r\n+\r\n+  <!-- Section Activité (Graphique + Stats Détaillées) -->\r\n+  <mat-card class=\"activity-section\"> <!-- Utilise la classe de dashboard.scss -->\r\n\\ No newline at end of file\n+    <mat-card-header>\r\n+      <mat-card-title>Activité Récente</mat-card-title>\r\n+      <mat-card-subtitle>Vue d'ensemble et statistiques clés</mat-card-subtitle>\r\n+    </mat-card-header>\r\n+    <mat-card-content>\r\n+      <div class=\"activity-content\">\r\n+        <div class=\"chart-container\">\r\n+          <!-- ID unique pour ce graphique -->\r\n+          <canvas id=\"superAdminTaskChart\"></canvas>\r\n         </div>\r\n-        <div class=\"stat\">\r\n-            <i class=\"bi bi-people\"></i>\r\n-          <p>Membres</p>\r\n-          <h3>8</h3>\r\n+        <div class=\"activity-stats\">\r\n+          <div class=\"stat-item\">\r\n+            <mat-icon>event_available</mat-icon>\r\n+            <span class=\"stat-value\">{{ totalTasks }}</span> <!-- Variable dynamique -->\r\n+            <span class=\"stat-label\">Tâches Totales</span>\r\n+          </div>\r\n+          <div class=\"stat-item\">\r\n+            <mat-icon>how_to_reg</mat-icon> <!-- Icône différente pour membres actifs -->\r\n+            <span class=\"stat-value\">{{ activeMembers }}</span> <!-- Variable dynamique -->\r\n+            <span class=\"stat-label\">Membres Actifs</span>\r\n+          </div>\r\n+          <div class=\"stat-item\">\r\n+            <mat-icon>trending_up</mat-icon> <!-- Icône pour projets actifs/tendances -->\r\n+            <span class=\"stat-value\">{{ activeProjects }}</span> <!-- Variable dynamique -->\r\n+            <span class=\"stat-label\">Projets Actifs</span>\r\n+          </div>\r\n         </div>\r\n-        <div class=\"stat\">\r\n-        <i class=\"bi bi-bar-chart\"></i>\r\n-          <p>Projets</p>\r\n-          <h3>30</h3>\r\n-        </div>\r\n       </div>\r\n-    </div>\r\n+    </mat-card-content>\r\n+  </mat-card>\r\n \r\n-  \r\n-<div class=\"project-list\">\r\n-    <h2>Liste des Projets</h2>\r\n-    <table>\r\n-      <thead>\r\n-        <tr>\r\n-          <th>Nom du Projet</th>\r\n-          <th>Statut</th>\r\n-          <th>Progression</th>\r\n-          <th>Actions</th>\r\n-        </tr>\r\n-      </thead>\r\n-      <tbody>\r\n-        <tr>\r\n-          <td>Projet 1</td>\r\n-          <td><span class=\"status in-progress\">En cours</span></td>\r\n-          <td>\r\n-            <div class=\"progress-bar\"><div class=\"progress\" style=\"width: 60%;\"></div></div>\r\n-          </td>\r\n-          <td><i class=\"bi bi-eye icon-spacing\"></i> <i class=\"bi bi-pencil\"></i></td>\r\n-        </tr>\r\n-        <tr>\r\n-          <td>Projet 2</td>\r\n-          <td><span class=\"status completed\">Terminé</span></td>\r\n-          <td>\r\n-            <div class=\"progress-bar\"><div class=\"progress\" style=\"width: 100%;\"></div></div>\r\n-          </td>\r\n-          <td><i class=\"bi bi-eye icon-spacing\" ></i> <i class=\"bi bi-pencil\"></i></td>\r\n-        </tr>\r\n-      </tbody>\r\n-    </table>\r\n-  </div>\r\n-</div>\n+  <!-- Section Liste des Agences (Exemple, si nécessaire) -->\r\n+  <mat-card class=\"project-list-section\"> <!-- Réutilisation du style de liste -->\r\n+     <mat-card-header>\r\n+       <mat-card-title>Gestion des Agences</mat-card-title>\r\n+       <!-- Filtres ou autres options ici -->\r\n+     </mat-card-header>\r\n+     <mat-card-content>\r\n+        <table mat-table [dataSource]=\"agencyDataSource\" class=\"project-table\"> <!-- Réutilisation classe table -->\r\n+\r\n+          <!-- Colonne Nom Agence -->\r\n+          <ng-container matColumnDef=\"name\">\r\n+            <th mat-header-cell *matHeaderCellDef> Nom de l'Agence </th>\r\n+            <td mat-cell *matCellDef=\"let agency\"> {{agency.name}} </td>\r\n+          </ng-container>\r\n+\r\n+          <!-- Colonne Statut Agence -->\r\n+          <ng-container matColumnDef=\"status\">\r\n+            <th mat-header-cell *matHeaderCellDef> Statut </th>\r\n+            <td mat-cell *matCellDef=\"let agency\">\r\n+              <span class=\"status-badge\" [ngClass]=\"agency.statusClass\">{{agency.statusText}}</span>\r\n+            </td>\r\n+          </ng-container>\r\n+\r\n+          <!-- Colonne Nombre d'Utilisateurs -->\r\n+           <ng-container matColumnDef=\"userCount\">\r\n+             <th mat-header-cell *matHeaderCellDef> Utilisateurs </th>\r\n+             <td mat-cell *matCellDef=\"let agency\"> {{agency.userCount}} </td>\r\n+           </ng-container>\r\n+\r\n+          <!-- Colonne Actions -->\r\n+          <ng-container matColumnDef=\"actions\">\r\n+            <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n+            <td mat-cell *matCellDef=\"let agency\">\r\n+              <button mat-icon-button color=\"primary\" aria-label=\"Voir l'agence\" matTooltip=\"Voir Détails\" (click)=\"viewAgency(agency)\">\r\n+                <mat-icon>visibility</mat-icon>\r\n+              </button>\r\n+              <button mat-icon-button color=\"accent\" aria-label=\"Modifier l'agence\" matTooltip=\"Modifier\" (click)=\"editAgency(agency)\">\r\n+                <mat-icon>edit</mat-icon>\r\n+              </button>\r\n+               <button mat-icon-button color=\"warn\" aria-label=\"Supprimer l'agence\" matTooltip=\"Supprimer\" (click)=\"deleteAgency(agency)\">\r\n+                <mat-icon>delete_outline</mat-icon>\r\n+              </button>\r\n+            </td>\r\n+          </ng-container>\r\n+\r\n+          <tr mat-header-row *matHeaderRowDef=\"agencyDisplayedColumns\"></tr>\r\n+          <tr mat-row *matRowDef=\"let row; columns: agencyDisplayedColumns;\"></tr>\r\n+\r\n+           <!-- Ligne si pas de données -->\r\n+           <tr class=\"mat-row\" *matNoDataRow>\r\n+              <td class=\"mat-cell\" [attr.colspan]=\"agencyDisplayedColumns.length\">Aucune agence trouvée.</td>\r\n+           </tr>\r\n+        </table>\r\n+         <!-- Optionnel: Pagination -->\r\n+         <!-- <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\" showFirstLastButtons></mat-paginator> -->\r\n+     </mat-card-content>\r\n+  </mat-card>\r\n+\r\n+</div>\r\n"
                },
                {
                    "date": 1745614587746,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,141 +1,186 @@\n <div class=\"dashboard-container\">\r\n-  <!-- En-tête (supposant que app-header existe et est approprié) -->\r\n+  <!-- En-tête -->\r\n   <app-header [title]=\"'Tableau de bord Super Admin'\"></app-header>\r\n \r\n   <!-- Section Résumé des Statistiques -->\r\n   <div class=\"stats-header\">\r\n     <h2>Statistiques Générales</h2>\r\n-    <!-- Optionnel: Bouton pour ajouter une agence si pertinent ici -->\r\n-    <button mat-flat-button color=\"primary\" class=\"add-agency-button\" (click)=\"addNewAgency()\">\r\n-      <mat-icon>add_business</mat-icon> <!-- Icône pour ajouter une agence -->\r\n+    <!-- Button moved inside the Agency Management Card Header -->\r\n+    <!--\r\n+    <button mat-flat-button color=\"primary\" class=\"add-agency-button\" (click)=\"triggerAddNewAgencyModal()\">\r\n+      <mat-icon>add_business</mat-icon>\r\n       <span>Nouvelle Agence</span>\r\n     </button>\r\n+    -->\r\n   </div>\r\n \r\n+  <!-- Stats Cards Grid -->\r\n   <div class=\"stats-cards-grid\">\r\n     <!-- Carte Nombre d'Agences -->\r\n     <mat-card class=\"stat-card agencies\">\r\n       <mat-card-header>\r\n         <div mat-card-avatar class=\"stat-icon-container\">\r\n-          <mat-icon>business</mat-icon> <!-- Icône Material pour agences -->\r\n+          <mat-icon>business</mat-icon>\r\n         </div>\r\n-        <mat-card-title>{{ agencyCount }}</mat-card-title> <!-- Remplacer par variable dynamique -->\r\n-        <mat-card-subtitle>Agences Actives</mat-card-subtitle>\r\n+        <!-- Bind to agencyCount which is updated in loadAgencies -->\r\n+        <mat-card-title>{{ isLoadingAgencies ? '...' : agencyCount }}</mat-card-title>\r\n+        <mat-card-subtitle>Agences Total</mat-card-subtitle>\r\n       </mat-card-header>\r\n     </mat-card>\r\n \r\n     <!-- Carte Nombre de Projets -->\r\n     <mat-card class=\"stat-card projects\">\r\n-      <mat-card-header>\r\n-        <div mat-card-avatar class=\"stat-icon-container\">\r\n-          <mat-icon>folder_special</mat-icon> <!-- Icône Material pour projets -->\r\n-        </div>\r\n-        <mat-card-title>{{ projectCount }}</mat-card-title> <!-- Remplacer par variable dynamique -->\r\n-        <mat-card-subtitle>Projets Total</mat-card-subtitle>\r\n-      </mat-card-header>\r\n-    </mat-card>\r\n+       <mat-card-header>\r\n+         <div mat-card-avatar class=\"stat-icon-container\">\r\n+           <mat-icon>folder_special</mat-icon>\r\n+         </div>\r\n+         <mat-card-title>{{ isLoadingStats ? '...' : projectCount }}</mat-card-title>\r\n+         <mat-card-subtitle>Projets Total</mat-card-subtitle>\r\n+       </mat-card-header>\r\n+     </mat-card>\r\n \r\n     <!-- Carte Nombre d'Utilisateurs -->\r\n     <mat-card class=\"stat-card users\">\r\n-      <mat-card-header>\r\n-        <div mat-card-avatar class=\"stat-icon-container\">\r\n-          <mat-icon>group</mat-icon> <!-- Icône Material pour utilisateurs -->\r\n-        </div>\r\n-        <mat-card-title>{{ userCount }}</mat-card-title> <!-- Remplacer par variable dynamique -->\r\n-        <mat-card-subtitle>Utilisateurs Enregistrés</mat-card-subtitle>\r\n-      </mat-card-header>\r\n-    </mat-card>\r\n+       <mat-card-header>\r\n+         <div mat-card-avatar class=\"stat-icon-container\">\r\n+           <mat-icon>group</mat-icon>\r\n+         </div>\r\n+         <mat-card-title>{{ isLoadingStats ? '...' : userCount }}</mat-card-title>\r\n+         <mat-card-subtitle>Utilisateurs Enregistrés</mat-card-subtitle>\r\n+       </mat-card-header>\r\n+     </mat-card>\r\n   </div>\r\n \r\n   <!-- Section Activité (Graphique + Stats Détaillées) -->\r\n-  <mat-card class=\"activity-section\"> <!-- Utilise la classe de dashboard.scss -->\r\n+  <mat-card class=\"activity-section\">\r\n     <mat-card-header>\r\n       <mat-card-title>Activité Récente</mat-card-title>\r\n       <mat-card-subtitle>Vue d'ensemble et statistiques clés</mat-card-subtitle>\r\n     </mat-card-header>\r\n     <mat-card-content>\r\n-      <div class=\"activity-content\">\r\n+      <div *ngIf=\"isLoadingChart\" class=\"loading-indicator\">Chargement du graphique...</div>\r\n+      <div class=\"activity-content\" [hidden]=\"isLoadingChart\">\r\n         <div class=\"chart-container\">\r\n-          <!-- ID unique pour ce graphique -->\r\n           <canvas id=\"superAdminTaskChart\"></canvas>\r\n         </div>\r\n         <div class=\"activity-stats\">\r\n+          <!-- Activity Stats Items -->\r\n           <div class=\"stat-item\">\r\n-            <mat-icon>event_available</mat-icon>\r\n-            <span class=\"stat-value\">{{ totalTasks }}</span> <!-- Variable dynamique -->\r\n-            <span class=\"stat-label\">Tâches Totales</span>\r\n-          </div>\r\n-          <div class=\"stat-item\">\r\n-            <mat-icon>how_to_reg</mat-icon> <!-- Icône différente pour membres actifs -->\r\n-            <span class=\"stat-value\">{{ activeMembers }}</span> <!-- Variable dynamique -->\r\n-            <span class=\"stat-label\">Membres Actifs</span>\r\n-          </div>\r\n-          <div class=\"stat-item\">\r\n-            <mat-icon>trending_up</mat-icon> <!-- Icône pour projets actifs/tendances -->\r\n-            <span class=\"stat-value\">{{ activeProjects }}</span> <!-- Variable dynamique -->\r\n-            <span class=\"stat-label\">Projets Actifs</span>\r\n-          </div>\r\n+             <mat-icon>event_available</mat-icon>\r\n+             <span class=\"stat-value\">{{ isLoadingStats ? '...' : totalTasks }}</span>\r\n+             <span class=\"stat-label\">Tâches Totales</span>\r\n+           </div>\r\n+           <div class=\"stat-item\">\r\n+             <mat-icon>how_to_reg</mat-icon>\r\n+             <span class=\"stat-value\">{{ isLoadingStats ? '...' : activeMembers }}</span>\r\n+             <span class=\"stat-label\">Membres Actifs</span>\r\n+           </div>\r\n+           <div class=\"stat-item\">\r\n+             <mat-icon>trending_up</mat-icon>\r\n+             <span class=\"stat-value\">{{ isLoadingStats ? '...' : activeProjects }}</span>\r\n+             <span class=\"stat-label\">Projets Actifs</span>\r\n+           </div>\r\n         </div>\r\n       </div>\r\n     </mat-card-content>\r\n   </mat-card>\r\n \r\n-  <!-- Section Liste des Agences (Exemple, si nécessaire) -->\r\n-  <mat-card class=\"project-list-section\"> <!-- Réutilisation du style de liste -->\r\n-     <mat-card-header>\r\n+  <!-- Section Liste des Agences (Updated) -->\r\n+  <mat-card class=\"project-list-section\"> <!-- Keep existing class for styling -->\r\n+     <mat-card-header class=\"agency-list-header\"> <!-- Add class for potential styling -->\r\n        <mat-card-title>Gestion des Agences</mat-card-title>\r\n-       <!-- Filtres ou autres options ici -->\r\n+       <!-- Search Input and Add Button -->\r\n+       <div class=\"table-controls\">\r\n+          <mat-form-field appearance=\"outline\" class=\"search-field\">\r\n+             <mat-label>Rechercher une agence</mat-label>\r\n+             <input matInput placeholder=\"Nom, adresse, email...\" [(ngModel)]=\"searchQuery\" (input)=\"filterAgencies()\">\r\n+             <mat-icon matSuffix>search</mat-icon>\r\n\\ No newline at end of file\n+          </mat-form-field>\r\n+          <button mat-flat-button color=\"primary\" class=\"add-agency-button-table\" (click)=\"triggerAddNewAgencyModal()\">\r\n+             <mat-icon>add_business</mat-icon>\r\n+             <span>Nouvelle Agence</span>\r\n+          </button>\r\n+       </div>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n-        <table mat-table [dataSource]=\"agencyDataSource\" class=\"project-table\"> <!-- Réutilisation classe table -->\r\n+        <!-- Loading Indicator -->\r\n+        <div *ngIf=\"isLoadingAgencies\" class=\"loading-indicator table-loading\">Chargement des agences...</div>\r\n \r\n-          <!-- Colonne Nom Agence -->\r\n-          <ng-container matColumnDef=\"name\">\r\n-            <th mat-header-cell *matHeaderCellDef> Nom de l'Agence </th>\r\n-            <td mat-cell *matCellDef=\"let agency\"> {{agency.name}} </td>\r\n-          </ng-container>\r\n+        <!-- Error Message -->\r\n+        <div *ngIf=\"!isLoadingAgencies && errorMessage\" class=\"error-message\">\r\n+            {{ errorMessage }}\r\n+            <button mat-button color=\"warn\" (click)=\"loadAgencies()\">Réessayer</button>\r\n+        </div>\r\n \r\n-          <!-- Colonne Statut Agence -->\r\n-          <ng-container matColumnDef=\"status\">\r\n-            <th mat-header-cell *matHeaderCellDef> Statut </th>\r\n-            <td mat-cell *matCellDef=\"let agency\">\r\n-              <span class=\"status-badge\" [ngClass]=\"agency.statusClass\">{{agency.statusText}}</span>\r\n-            </td>\r\n-          </ng-container>\r\n+        <!-- Agency Table -->\r\n+        <div class=\"table-container\" [hidden]=\"isLoadingAgencies || errorMessage\">\r\n+            <table mat-table [dataSource]=\"agencyDataSource\" class=\"project-table\"> <!-- Use agencyDataSource -->\r\n \r\n-          <!-- Colonne Nombre d'Utilisateurs -->\r\n-           <ng-container matColumnDef=\"userCount\">\r\n-             <th mat-header-cell *matHeaderCellDef> Utilisateurs </th>\r\n-             <td mat-cell *matCellDef=\"let agency\"> {{agency.userCount}} </td>\r\n-           </ng-container>\r\n+              <!-- Colonne Nom Agence -->\r\n+              <ng-container matColumnDef=\"name\">\r\n+                <th mat-header-cell *matHeaderCellDef> Nom </th>\r\n+                <td mat-cell *matCellDef=\"let agency\"> {{agency.name}} </td>\r\n+              </ng-container>\r\n \r\n-          <!-- Colonne Actions -->\r\n-          <ng-container matColumnDef=\"actions\">\r\n-            <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n-            <td mat-cell *matCellDef=\"let agency\">\r\n-              <button mat-icon-button color=\"primary\" aria-label=\"Voir l'agence\" matTooltip=\"Voir Détails\" (click)=\"viewAgency(agency)\">\r\n-                <mat-icon>visibility</mat-icon>\r\n-              </button>\r\n-              <button mat-icon-button color=\"accent\" aria-label=\"Modifier l'agence\" matTooltip=\"Modifier\" (click)=\"editAgency(agency)\">\r\n-                <mat-icon>edit</mat-icon>\r\n-              </button>\r\n-               <button mat-icon-button color=\"warn\" aria-label=\"Supprimer l'agence\" matTooltip=\"Supprimer\" (click)=\"deleteAgency(agency)\">\r\n-                <mat-icon>delete_outline</mat-icon>\r\n-              </button>\r\n-            </td>\r\n-          </ng-container>\r\n+              <!-- Colonne Adresse -->\r\n+              <ng-container matColumnDef=\"address\">\r\n+                <th mat-header-cell *matHeaderCellDef> Adresse </th>\r\n+                <td mat-cell *matCellDef=\"let agency\"> {{agency.address}} </td>\r\n+              </ng-container>\r\n \r\n-          <tr mat-header-row *matHeaderRowDef=\"agencyDisplayedColumns\"></tr>\r\n-          <tr mat-row *matRowDef=\"let row; columns: agencyDisplayedColumns;\"></tr>\r\n+              <!-- Colonne Email -->\r\n+              <ng-container matColumnDef=\"email\">\r\n+                 <th mat-header-cell *matHeaderCellDef> Email </th>\r\n+                 <td mat-cell *matCellDef=\"let agency\"> {{agency.email}} </td>\r\n+              </ng-container>\r\n \r\n-           <!-- Ligne si pas de données -->\r\n-           <tr class=\"mat-row\" *matNoDataRow>\r\n-              <td class=\"mat-cell\" [attr.colspan]=\"agencyDisplayedColumns.length\">Aucune agence trouvée.</td>\r\n-           </tr>\r\n-        </table>\r\n-         <!-- Optionnel: Pagination -->\r\n+              <!-- Colonne Téléphone -->\r\n+              <ng-container matColumnDef=\"phone\">\r\n+                 <th mat-header-cell *matHeaderCellDef> Téléphone </th>\r\n+                 <td mat-cell *matCellDef=\"let agency\"> {{agency.phone}} </td>\r\n+              </ng-container>\r\n+\r\n+              <!-- Colonne Date de Création -->\r\n+              <ng-container matColumnDef=\"createdAt\">\r\n+                 <th mat-header-cell *matHeaderCellDef> Créé le </th>\r\n+                 <!-- Use date pipe for formatting -->\r\n+                 <td mat-cell *matCellDef=\"let agency\"> {{agency.createdAt | date:'dd/MM/yyyy'}} </td>\r\n+              </ng-container>\r\n+\r\n+              <!-- Colonne Actions -->\r\n+              <ng-container matColumnDef=\"actions\">\r\n+                <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n+                <td mat-cell *matCellDef=\"let agency\">\r\n+                  <!-- Details Button (Optional - can use row click or dedicated button) -->\r\n+                  <!--\r\n+                  <button mat-icon-button color=\"primary\" aria-label=\"Voir l'agence\" matTooltip=\"Voir Détails\" (click)=\"showAgencyDetails(agency)\">\r\n+                    <mat-icon>visibility</mat-icon>\r\n+                  </button>\r\n+                  -->\r\n+                  <button mat-icon-button color=\"accent\" aria-label=\"Modifier l'agence\" matTooltip=\"Modifier\" (click)=\"editAgency(agency)\">\r\n+                    <mat-icon>edit</mat-icon>\r\n+                  </button>\r\n+                  <button mat-icon-button color=\"warn\" aria-label=\"Supprimer l'agence\" matTooltip=\"Supprimer\" (click)=\"deleteAgency(agency)\">\r\n+                    <mat-icon>delete_outline</mat-icon>\r\n+                  </button>\r\n+                </td>\r\n+              </ng-container>\r\n+\r\n+              <tr mat-header-row *matHeaderRowDef=\"agencyDisplayedColumns\"></tr>\r\n+              <!-- Add row click for details if desired -->\r\n+              <tr mat-row *matRowDef=\"let agency; columns: agencyDisplayedColumns;\" (click)=\"showAgencyDetails(agency)\" class=\"agency-row\"></tr>\r\n+\r\n+              <!-- Ligne si pas de données -->\r\n+              <tr class=\"mat-row\" *matNoDataRow>\r\n+                 <td class=\"mat-cell\" [attr.colspan]=\"agencyDisplayedColumns.length\">\r\n+                    {{ searchQuery ? 'Aucune agence trouvée pour \"' + searchQuery + '\".' : 'Aucune agence à afficher.' }}\r\n+                 </td>\r\n+              </tr>\r\n+            </table>\r\n+        </div>\r\n+         <!-- Optionnel: Pagination (Uncomment and configure if needed) -->\r\n          <!-- <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\" showFirstLastButtons></mat-paginator> -->\r\n      </mat-card-content>\r\n   </mat-card>\r\n \r\n-</div>\n+</div>\r\n"
                },
                {
                    "date": 1745614961334,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,186 +1,141 @@\n <div class=\"dashboard-container\">\r\n-  <!-- En-tête -->\r\n+  <!-- En-tête (supposant que app-header existe et est approprié) -->\r\n   <app-header [title]=\"'Tableau de bord Super Admin'\"></app-header>\r\n \r\n   <!-- Section Résumé des Statistiques -->\r\n   <div class=\"stats-header\">\r\n     <h2>Statistiques Générales</h2>\r\n-    <!-- Button moved inside the Agency Management Card Header -->\r\n-    <!--\r\n-    <button mat-flat-button color=\"primary\" class=\"add-agency-button\" (click)=\"triggerAddNewAgencyModal()\">\r\n-      <mat-icon>add_business</mat-icon>\r\n+    <!-- Optionnel: Bouton pour ajouter une agence si pertinent ici -->\r\n+    <button mat-flat-button color=\"primary\" class=\"add-agency-button\" (click)=\"addNewAgency()\">\r\n+      <mat-icon>add_business</mat-icon> <!-- Icône pour ajouter une agence -->\r\n       <span>Nouvelle Agence</span>\r\n     </button>\r\n-    -->\r\n   </div>\r\n \r\n-  <!-- Stats Cards Grid -->\r\n   <div class=\"stats-cards-grid\">\r\n     <!-- Carte Nombre d'Agences -->\r\n     <mat-card class=\"stat-card agencies\">\r\n       <mat-card-header>\r\n         <div mat-card-avatar class=\"stat-icon-container\">\r\n-          <mat-icon>business</mat-icon>\r\n+          <mat-icon>business</mat-icon> <!-- Icône Material pour agences -->\r\n         </div>\r\n-        <!-- Bind to agencyCount which is updated in loadAgencies -->\r\n-        <mat-card-title>{{ isLoadingAgencies ? '...' : agencyCount }}</mat-card-title>\r\n-        <mat-card-subtitle>Agences Total</mat-card-subtitle>\r\n+        <mat-card-title>{{ agencyCount }}</mat-card-title> <!-- Remplacer par variable dynamique -->\r\n+        <mat-card-subtitle>Agences Actives</mat-card-subtitle>\r\n       </mat-card-header>\r\n     </mat-card>\r\n \r\n     <!-- Carte Nombre de Projets -->\r\n     <mat-card class=\"stat-card projects\">\r\n-       <mat-card-header>\r\n-         <div mat-card-avatar class=\"stat-icon-container\">\r\n-           <mat-icon>folder_special</mat-icon>\r\n-         </div>\r\n-         <mat-card-title>{{ isLoadingStats ? '...' : projectCount }}</mat-card-title>\r\n-         <mat-card-subtitle>Projets Total</mat-card-subtitle>\r\n-       </mat-card-header>\r\n-     </mat-card>\r\n+      <mat-card-header>\r\n+        <div mat-card-avatar class=\"stat-icon-container\">\r\n+          <mat-icon>folder_special</mat-icon> <!-- Icône Material pour projets -->\r\n+        </div>\r\n+        <mat-card-title>{{ projectCount }}</mat-card-title> <!-- Remplacer par variable dynamique -->\r\n+        <mat-card-subtitle>Projets Total</mat-card-subtitle>\r\n+      </mat-card-header>\r\n+    </mat-card>\r\n \r\n     <!-- Carte Nombre d'Utilisateurs -->\r\n     <mat-card class=\"stat-card users\">\r\n-       <mat-card-header>\r\n-         <div mat-card-avatar class=\"stat-icon-container\">\r\n-           <mat-icon>group</mat-icon>\r\n-         </div>\r\n-         <mat-card-title>{{ isLoadingStats ? '...' : userCount }}</mat-card-title>\r\n-         <mat-card-subtitle>Utilisateurs Enregistrés</mat-card-subtitle>\r\n-       </mat-card-header>\r\n-     </mat-card>\r\n+      <mat-card-header>\r\n+        <div mat-card-avatar class=\"stat-icon-container\">\r\n+          <mat-icon>group</mat-icon> <!-- Icône Material pour utilisateurs -->\r\n+        </div>\r\n+        <mat-card-title>{{ userCount }}</mat-card-title> <!-- Remplacer par variable dynamique -->\r\n+        <mat-card-subtitle>Utilisateurs Enregistrés</mat-card-subtitle>\r\n+      </mat-card-header>\r\n+    </mat-card>\r\n   </div>\r\n \r\n   <!-- Section Activité (Graphique + Stats Détaillées) -->\r\n-  <mat-card class=\"activity-section\">\r\n+  <mat-card class=\"activity-section\"> <!-- Utilise la classe de dashboard.scss -->\r\n     <mat-card-header>\r\n       <mat-card-title>Activité Récente</mat-card-title>\r\n       <mat-card-subtitle>Vue d'ensemble et statistiques clés</mat-card-subtitle>\r\n     </mat-card-header>\r\n     <mat-card-content>\r\n-      <div *ngIf=\"isLoadingChart\" class=\"loading-indicator\">Chargement du graphique...</div>\r\n-      <div class=\"activity-content\" [hidden]=\"isLoadingChart\">\r\n+      <div class=\"activity-content\">\r\n         <div class=\"chart-container\">\r\n+          <!-- ID unique pour ce graphique -->\r\n           <canvas id=\"superAdminTaskChart\"></canvas>\r\n         </div>\r\n         <div class=\"activity-stats\">\r\n-          <!-- Activity Stats Items -->\r\n           <div class=\"stat-item\">\r\n-             <mat-icon>event_available</mat-icon>\r\n-             <span class=\"stat-value\">{{ isLoadingStats ? '...' : totalTasks }}</span>\r\n-             <span class=\"stat-label\">Tâches Totales</span>\r\n-           </div>\r\n-           <div class=\"stat-item\">\r\n-             <mat-icon>how_to_reg</mat-icon>\r\n-             <span class=\"stat-value\">{{ isLoadingStats ? '...' : activeMembers }}</span>\r\n-             <span class=\"stat-label\">Membres Actifs</span>\r\n-           </div>\r\n-           <div class=\"stat-item\">\r\n-             <mat-icon>trending_up</mat-icon>\r\n-             <span class=\"stat-value\">{{ isLoadingStats ? '...' : activeProjects }}</span>\r\n-             <span class=\"stat-label\">Projets Actifs</span>\r\n-           </div>\r\n+            <mat-icon>event_available</mat-icon>\r\n+            <span class=\"stat-value\">{{ totalTasks }}</span> <!-- Variable dynamique -->\r\n+            <span class=\"stat-label\">Tâches Totales</span>\r\n+          </div>\r\n+          <div class=\"stat-item\">\r\n+            <mat-icon>how_to_reg</mat-icon> <!-- Icône différente pour membres actifs -->\r\n+            <span class=\"stat-value\">{{ activeMembers }}</span> <!-- Variable dynamique -->\r\n+            <span class=\"stat-label\">Membres Actifs</span>\r\n+          </div>\r\n+          <div class=\"stat-item\">\r\n+            <mat-icon>trending_up</mat-icon> <!-- Icône pour projets actifs/tendances -->\r\n+            <span class=\"stat-value\">{{ activeProjects }}</span> <!-- Variable dynamique -->\r\n+            <span class=\"stat-label\">Projets Actifs</span>\r\n+          </div>\r\n         </div>\r\n       </div>\r\n     </mat-card-content>\r\n   </mat-card>\r\n \r\n-  <!-- Section Liste des Agences (Updated) -->\r\n-  <mat-card class=\"project-list-section\"> <!-- Keep existing class for styling -->\r\n-     <mat-card-header class=\"agency-list-header\"> <!-- Add class for potential styling -->\r\n+  <!-- Section Liste des Agences (Exemple, si nécessaire) -->\r\n+  <mat-card class=\"project-list-section\"> <!-- Réutilisation du style de liste -->\r\n+     <mat-card-header>\r\n        <mat-card-title>Gestion des Agences</mat-card-title>\r\n-       <!-- Search Input and Add Button -->\r\n-       <div class=\"table-controls\">\r\n-          <mat-form-field appearance=\"outline\" class=\"search-field\">\r\n-             <mat-label>Rechercher une agence</mat-label>\r\n-             <input matInput placeholder=\"Nom, adresse, email...\" [(ngModel)]=\"searchQuery\" (input)=\"filterAgencies()\">\r\n-             <mat-icon matSuffix>search</mat-icon>\r\n-          </mat-form-field>\r\n-          <button mat-flat-button color=\"primary\" class=\"add-agency-button-table\" (click)=\"triggerAddNewAgencyModal()\">\r\n-             <mat-icon>add_business</mat-icon>\r\n-             <span>Nouvelle Agence</span>\r\n-          </button>\r\n-       </div>\r\n+       <!-- Filtres ou autres options ici -->\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n-        <!-- Loading Indicator -->\r\n-        <div *ngIf=\"isLoadingAgencies\" class=\"loading-indicator table-loading\">Chargement des agences...</div>\r\n+        <table mat-table [dataSource]=\"agencyDataSource\" class=\"project-table\"> <!-- Réutilisation classe table -->\r\n \r\n-        <!-- Error Message -->\r\n-        <div *ngIf=\"!isLoadingAgencies && errorMessage\" class=\"error-message\">\r\n-            {{ errorMessage }}\r\n-            <button mat-button color=\"warn\" (click)=\"loadAgencies()\">Réessayer</button>\r\n-        </div>\r\n+          <!-- Colonne Nom Agence -->\r\n+          <ng-container matColumnDef=\"name\">\r\n+            <th mat-header-cell *matHeaderCellDef> Nom de l'Agence </th>\r\n+            <td mat-cell *matCellDef=\"let agency\"> {{agency.name}} </td>\r\n+          </ng-container>\r\n \r\n-        <!-- Agency Table -->\r\n-        <div class=\"table-container\" [hidden]=\"isLoadingAgencies || errorMessage\">\r\n-            <table mat-table [dataSource]=\"agencyDataSource\" class=\"project-table\"> <!-- Use agencyDataSource -->\r\n+          <!-- Colonne Statut Agence -->\r\n+          <ng-container matColumnDef=\"status\">\r\n+            <th mat-header-cell *matHeaderCellDef> Statut </th>\r\n+            <td mat-cell *matCellDef=\"let agency\">\r\n+              <span class=\"status-badge\" [ngClass]=\"agency.statusClass\">{{agency.statusText}}</span>\r\n+            </td>\r\n+          </ng-container>\r\n \r\n-              <!-- Colonne Nom Agence -->\r\n-              <ng-container matColumnDef=\"name\">\r\n-                <th mat-header-cell *matHeaderCellDef> Nom </th>\r\n-                <td mat-cell *matCellDef=\"let agency\"> {{agency.name}} </td>\r\n-              </ng-container>\r\n+          <!-- Colonne Nombre d'Utilisateurs -->\r\n+           <ng-container matColumnDef=\"userCount\">\r\n+             <th mat-header-cell *matHeaderCellDef> Utilisateurs </th>\r\n+             <td mat-cell *matCellDef=\"let agency\"> {{agency.userCount}} </td>\r\n+           </ng-container>\r\n \r\n\\ No newline at end of file\n-              <!-- Colonne Adresse -->\r\n-              <ng-container matColumnDef=\"address\">\r\n-                <th mat-header-cell *matHeaderCellDef> Adresse </th>\r\n-                <td mat-cell *matCellDef=\"let agency\"> {{agency.address}} </td>\r\n-              </ng-container>\r\n+          <!-- Colonne Actions -->\r\n+          <ng-container matColumnDef=\"actions\">\r\n+            <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n+            <td mat-cell *matCellDef=\"let agency\">\r\n+              <button mat-icon-button color=\"primary\" aria-label=\"Voir l'agence\" matTooltip=\"Voir Détails\" (click)=\"viewAgency(agency)\">\r\n+                <mat-icon>visibility</mat-icon>\r\n+              </button>\r\n+              <button mat-icon-button color=\"accent\" aria-label=\"Modifier l'agence\" matTooltip=\"Modifier\" (click)=\"editAgency(agency)\">\r\n+                <mat-icon>edit</mat-icon>\r\n+              </button>\r\n+               <button mat-icon-button color=\"warn\" aria-label=\"Supprimer l'agence\" matTooltip=\"Supprimer\" (click)=\"deleteAgency(agency)\">\r\n+                <mat-icon>delete_outline</mat-icon>\r\n+              </button>\r\n+            </td>\r\n+          </ng-container>\r\n \r\n-              <!-- Colonne Email -->\r\n-              <ng-container matColumnDef=\"email\">\r\n-                 <th mat-header-cell *matHeaderCellDef> Email </th>\r\n-                 <td mat-cell *matCellDef=\"let agency\"> {{agency.email}} </td>\r\n-              </ng-container>\r\n+          <tr mat-header-row *matHeaderRowDef=\"agencyDisplayedColumns\"></tr>\r\n+          <tr mat-row *matRowDef=\"let row; columns: agencyDisplayedColumns;\"></tr>\r\n \r\n-              <!-- Colonne Téléphone -->\r\n-              <ng-container matColumnDef=\"phone\">\r\n-                 <th mat-header-cell *matHeaderCellDef> Téléphone </th>\r\n-                 <td mat-cell *matCellDef=\"let agency\"> {{agency.phone}} </td>\r\n-              </ng-container>\r\n-\r\n-              <!-- Colonne Date de Création -->\r\n-              <ng-container matColumnDef=\"createdAt\">\r\n-                 <th mat-header-cell *matHeaderCellDef> Créé le </th>\r\n-                 <!-- Use date pipe for formatting -->\r\n-                 <td mat-cell *matCellDef=\"let agency\"> {{agency.createdAt | date:'dd/MM/yyyy'}} </td>\r\n-              </ng-container>\r\n-\r\n-              <!-- Colonne Actions -->\r\n-              <ng-container matColumnDef=\"actions\">\r\n-                <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n-                <td mat-cell *matCellDef=\"let agency\">\r\n-                  <!-- Details Button (Optional - can use row click or dedicated button) -->\r\n-                  <!--\r\n-                  <button mat-icon-button color=\"primary\" aria-label=\"Voir l'agence\" matTooltip=\"Voir Détails\" (click)=\"showAgencyDetails(agency)\">\r\n-                    <mat-icon>visibility</mat-icon>\r\n-                  </button>\r\n-                  -->\r\n-                  <button mat-icon-button color=\"accent\" aria-label=\"Modifier l'agence\" matTooltip=\"Modifier\" (click)=\"editAgency(agency)\">\r\n-                    <mat-icon>edit</mat-icon>\r\n-                  </button>\r\n-                  <button mat-icon-button color=\"warn\" aria-label=\"Supprimer l'agence\" matTooltip=\"Supprimer\" (click)=\"deleteAgency(agency)\">\r\n-                    <mat-icon>delete_outline</mat-icon>\r\n-                  </button>\r\n-                </td>\r\n-              </ng-container>\r\n-\r\n-              <tr mat-header-row *matHeaderRowDef=\"agencyDisplayedColumns\"></tr>\r\n-              <!-- Add row click for details if desired -->\r\n-              <tr mat-row *matRowDef=\"let agency; columns: agencyDisplayedColumns;\" (click)=\"showAgencyDetails(agency)\" class=\"agency-row\"></tr>\r\n-\r\n-              <!-- Ligne si pas de données -->\r\n-              <tr class=\"mat-row\" *matNoDataRow>\r\n-                 <td class=\"mat-cell\" [attr.colspan]=\"agencyDisplayedColumns.length\">\r\n-                    {{ searchQuery ? 'Aucune agence trouvée pour \"' + searchQuery + '\".' : 'Aucune agence à afficher.' }}\r\n-                 </td>\r\n-              </tr>\r\n-            </table>\r\n-        </div>\r\n-         <!-- Optionnel: Pagination (Uncomment and configure if needed) -->\r\n+           <!-- Ligne si pas de données -->\r\n+           <tr class=\"mat-row\" *matNoDataRow>\r\n+              <td class=\"mat-cell\" [attr.colspan]=\"agencyDisplayedColumns.length\">Aucune agence trouvée.</td>\r\n+           </tr>\r\n+        </table>\r\n+         <!-- Optionnel: Pagination -->\r\n          <!-- <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\" showFirstLastButtons></mat-paginator> -->\r\n      </mat-card-content>\r\n   </mat-card>\r\n \r\n-</div>\n+</div>\r\n"
                },
                {
                    "date": 1745620872644,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,63 +79,7 @@\n       </div>\r\n     </mat-card-content>\r\n   </mat-card>\r\n \r\n-  <!-- Section Liste des Agences (Exemple, si nécessaire) -->\r\n-  <mat-card class=\"project-list-section\"> <!-- Réutilisation du style de liste -->\r\n-     <mat-card-header>\r\n-       <mat-card-title>Gestion des Agences</mat-card-title>\r\n-       <!-- Filtres ou autres options ici -->\r\n-     </mat-card-header>\r\n-     <mat-card-content>\r\n-        <table mat-table [dataSource]=\"agencyDataSource\" class=\"project-table\"> <!-- Réutilisation classe table -->\r\n+ \r\n \r\n-          <!-- Colonne Nom Agence -->\r\n-          <ng-container matColumnDef=\"name\">\r\n-            <th mat-header-cell *matHeaderCellDef> Nom de l'Agence </th>\r\n-            <td mat-cell *matCellDef=\"let agency\"> {{agency.name}} </td>\r\n-          </ng-container>\r\n-\r\n-          <!-- Colonne Statut Agence -->\r\n-          <ng-container matColumnDef=\"status\">\r\n-            <th mat-header-cell *matHeaderCellDef> Statut </th>\r\n-            <td mat-cell *matCellDef=\"let agency\">\r\n-              <span class=\"status-badge\" [ngClass]=\"agency.statusClass\">{{agency.statusText}}</span>\r\n-            </td>\r\n-          </ng-container>\r\n-\r\n-          <!-- Colonne Nombre d'Utilisateurs -->\r\n-           <ng-container matColumnDef=\"userCount\">\r\n-             <th mat-header-cell *matHeaderCellDef> Utilisateurs </th>\r\n-             <td mat-cell *matCellDef=\"let agency\"> {{agency.userCount}} </td>\r\n-           </ng-container>\r\n-\r\n-          <!-- Colonne Actions -->\r\n-          <ng-container matColumnDef=\"actions\">\r\n-            <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n-            <td mat-cell *matCellDef=\"let agency\">\r\n-              <button mat-icon-button color=\"primary\" aria-label=\"Voir l'agence\" matTooltip=\"Voir Détails\" (click)=\"viewAgency(agency)\">\r\n-                <mat-icon>visibility</mat-icon>\r\n-              </button>\r\n-              <button mat-icon-button color=\"accent\" aria-label=\"Modifier l'agence\" matTooltip=\"Modifier\" (click)=\"editAgency(agency)\">\r\n-                <mat-icon>edit</mat-icon>\r\n-              </button>\r\n-               <button mat-icon-button color=\"warn\" aria-label=\"Supprimer l'agence\" matTooltip=\"Supprimer\" (click)=\"deleteAgency(agency)\">\r\n-                <mat-icon>delete_outline</mat-icon>\r\n-              </button>\r\n-            </td>\r\n-          </ng-container>\r\n-\r\n-          <tr mat-header-row *matHeaderRowDef=\"agencyDisplayedColumns\"></tr>\r\n-          <tr mat-row *matRowDef=\"let row; columns: agencyDisplayedColumns;\"></tr>\r\n-\r\n-           <!-- Ligne si pas de données -->\r\n-           <tr class=\"mat-row\" *matNoDataRow>\r\n-              <td class=\"mat-cell\" [attr.colspan]=\"agencyDisplayedColumns.length\">Aucune agence trouvée.</td>\r\n-           </tr>\r\n-        </table>\r\n-         <!-- Optionnel: Pagination -->\r\n-         <!-- <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\" showFirstLastButtons></mat-paginator> -->\r\n-     </mat-card-content>\r\n-  </mat-card>\r\n-\r\n\\ No newline at end of file\n-</div>\n+</div>\r\n"
                },
                {
                    "date": 1745621040488,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n   <!-- Section Résumé des Statistiques -->\r\n   <div class=\"stats-header\">\r\n     <h2>Statistiques Générales</h2>\r\n     <!-- Optionnel: Bouton pour ajouter une agence si pertinent ici -->\r\n-    <button mat-flat-button color=\"primary\" class=\"add-agency-button\" (click)=\"addNewAgency()\">\r\n+    <button mat-flat-button class=\"add-agency-button\" (click)=\"addNewAgency()\">\r\n       <mat-icon>add_business</mat-icon> <!-- Icône pour ajouter une agence -->\r\n       <span>Nouvelle Agence</span>\r\n     </button>\r\n   </div>\r\n"
                },
                {
                    "date": 1745624551199,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,9 +41,9 @@\n         <div mat-card-avatar class=\"stat-icon-container\">\r\n           <mat-icon>group</mat-icon> <!-- Icône Material pour utilisateurs -->\r\n         </div>\r\n         <mat-card-title>{{ userCount }}</mat-card-title> <!-- Remplacer par variable dynamique -->\r\n-        <mat-card-subtitle>Utilisateurs Enregistrés</mat-card-subtitle>\r\n+        <mat-card-subtitle>Membre Enregistrés</mat-card-subtitle>\r\n       </mat-card-header>\r\n     </mat-card>\r\n   </div>\r\n \r\n"
                }
            ],
            "date": 1743945875724,
            "name": "Commit-0",
            "content": "<div class=\"dashboard-container\">\r\n    <app-header [title]=\"'Tableau de bord'\"></app-header>\r\n    <!-- Task Summary -->\r\n    <div class=\"task-summary\">\r\n      <h2>les Projets</h2>\r\n      <p>Ajouter un nouveau projet et les gérer </p>\r\n      <button mat-button class=\"add-project\">\r\n        <i class=\"bi bi-plus\"></i>Nouveau Projet\r\n      </button>\r\n  \r\n      <div class=\"task-cards\">\r\n        <div class=\"task-card pending\">\r\n        <i class=\"bi bi-clock-history\"></i>\r\n          <h2>12</h2>\r\n          <p>Projets en attente</p>\r\n        </div>\r\n        <div class=\"task-card in-progress\">\r\n            <i class=\"bi bi-tools\"></i>\r\n          <h2>64</h2>\r\n          <p>Projets en cours</p>\r\n        </div>\r\n        <div class=\"task-card completed\">\r\n        <i class=\"bi bi-check-circle-fill\"></i>\r\n          <h2>105</h2>\r\n          <p>Projets terminés</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  \r\n    <!-- Task Activity -->\r\n    <div class=\"task-activity\">\r\n      <h2>Activité des Tâches</h2>\r\n      <canvas id=\"taskChart\"></canvas>\r\n  \r\n      <div class=\"task-stats\">\r\n        <div class=\"stat\">\r\n          <i class=\"bi bi-calendar-check\"></i>\r\n          <p>Total Tâches</p>\r\n          <h3>56</h3>\r\n        </div>\r\n        <div class=\"stat\">\r\n            <i class=\"bi bi-people\"></i>\r\n          <p>Membres</p>\r\n          <h3>8</h3>\r\n        </div>\r\n        <div class=\"stat\">\r\n        <i class=\"bi bi-bar-chart\"></i>\r\n          <p>Projets</p>\r\n          <h3>30</h3>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  \r\n<div class=\"project-list\">\r\n    <h2>Liste des Projets</h2>\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>Nom du Projet</th>\r\n          <th>Statut</th>\r\n          <th>Progression</th>\r\n          <th>Actions</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>Projet 1</td>\r\n          <td><span class=\"status in-progress\">En cours</span></td>\r\n          <td>\r\n            <div class=\"progress-bar\"><div class=\"progress\" style=\"width: 60%;\"></div></div>\r\n          </td>\r\n          <td><i class=\"bi bi-eye icon-spacing\"></i> <i class=\"bi bi-pencil\"></i></td>\r\n        </tr>\r\n        <tr>\r\n          <td>Projet 2</td>\r\n          <td><span class=\"status completed\">Terminé</span></td>\r\n          <td>\r\n            <div class=\"progress-bar\"><div class=\"progress\" style=\"width: 100%;\"></div></div>\r\n          </td>\r\n          <td><i class=\"bi bi-eye icon-spacing\" ></i> <i class=\"bi bi-pencil\"></i></td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</div>"
        }
    ]
}