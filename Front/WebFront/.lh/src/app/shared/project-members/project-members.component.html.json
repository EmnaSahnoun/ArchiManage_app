{
    "sourceFile": "src/app/shared/project-members/project-members.component.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 99,
            "patches": [
                {
                    "date": 1746216026471,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1746217266040,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,109 +1,160 @@\n-<!-- Titre de la Modale -->\r\n-<h2 mat-dialog-title>\r\n-    Membres du Projet : {{ project?.name || 'Projet sans nom' }}\r\n-    <button mat-icon-button (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n-      <mat-icon>close</mat-icon>\r\n-    </button>\r\n-  </h2>\r\n-  \r\n-  <!-- Contenu de la Modale -->\r\n-  <mat-dialog-content class=\"mat-typography\">\r\n-  \r\n-    <!-- Indicateur de chargement global -->\r\n-    <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n-      <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\r\n-    </div>\r\n-  \r\n-    <!-- Section: Liste des Membres Actuels -->\r\n-    <div class=\"members-list-section\">\r\n-      <h3>Membres Actuels ({{ members.length }})</h3>\r\n-      <div class=\"table-container mat-elevation-z2\">\r\n-        <table mat-table [dataSource]=\"members\" class=\"members-table\">\r\n-  \r\n-          <!-- Colonne Avatar/Nom -->\r\n-          <ng-container matColumnDef=\"name\">\r\n-            <th mat-header-cell *matHeaderCellDef> Nom Complet </th>\r\n-            <td mat-cell *matCellDef=\"let member\">\r\n-              <img [src]=\"getMemberAvatar(member)\" alt=\"Avatar\" class=\"member-avatar\">\r\n-              <span>{{ getMemberFullName(member) }}</span>\r\n-            </td>\r\n-          </ng-container>\r\n-  \r\n-          <!-- Colonne Email -->\r\n-          <ng-container matColumnDef=\"email\">\r\n-            <th mat-header-cell *matHeaderCellDef> Email </th>\r\n-            <td mat-cell *matCellDef=\"let member\"> {{ getMemberEmail(member) }} </td>\r\n-          </ng-container>\r\n-  \r\n-          <!-- Colonne Rôle -->\r\n-          <ng-container matColumnDef=\"role\">\r\n-            <th mat-header-cell *matHeaderCellDef> Rôle </th>\r\n-            <td mat-cell *matCellDef=\"let member\">\r\n-              <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n-            </td>\r\n-          </ng-container>\r\n-  \r\n-          <!-- Colonne Actions (Supprimer) -->\r\n-          <ng-container matColumnDef=\"actions\">\r\n-            <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n-            <td mat-cell *matCellDef=\"let member\">\r\n-              <button mat-icon-button color=\"warn\" (click)=\"removeMember(member)\" matTooltip=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n-                <mat-icon>person_remove</mat-icon>\r\n-              </button>\r\n-            </td>\r\n-          </ng-container>\r\n-  \r\n-          <!-- Définition des lignes -->\r\n-          <tr mat-header-row *matHeaderRowDef=\"['name', 'email', 'role', 'actions']\"></tr>\r\n-          <tr mat-row *matRowDef=\"let row; columns: ['name', 'email', 'role', 'actions'];\"></tr>\r\n-  \r\n-        </table>\r\n-         <!-- Message si aucune donnée -->\r\n-         <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n-           Aucun membre n'est actuellement assigné à ce projet.\r\n-         </div>\r\n-      </div>\r\n-    </div>\r\n-  \r\n-    <mat-divider></mat-divider>\r\n-  \r\n-    <!-- Section: Ajouter un Membre -->\r\n-    <div class=\"add-member-section\">\r\n-      <h3>Ajouter un Membre</h3>\r\n-      <div class=\"add-member-form\">\r\n-         <!-- Option: Select/Dropdown (plus simple) -->\r\n-         <mat-form-field appearance=\"outline\" class=\"user-select-field\">\r\n-           <mat-label>Sélectionner un utilisateur</mat-label>\r\n-           <mat-select [(ngModel)]=\"selectedUserId\" (focus)=\"loadPotentialMembers()\" [disabled]=\"isLoading\">\r\n-              <mat-option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n-                Chargement ou aucun utilisateur disponible...\r\n-              </mat-option>\r\n-             <mat-option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-               {{ user.name }} ({{ user.email }})\r\n-             </mat-option>\r\n-           </mat-select>\r\n-         </mat-form-field>\r\n-  \r\n-         <!-- Bouton Ajouter -->\r\n-         <button mat-flat-button color=\"primary\" (click)=\"addMember()\" [disabled]=\"!selectedUserId || isLoading\">\r\n-           <mat-icon>person_add</mat-icon>\r\n-           Ajouter au Projet\r\n-         </button>\r\n-  \r\n-         <!-- Alternative: Autocomplete (plus complexe, nécessite plus de logique TS) -->\r\n-         <!-- Mettez ici le code pour un mat-autocomplete si vous préférez -->\r\n-      </div>\r\n-       <p class=\"info-text\">\r\n-         Seuls les utilisateurs non membres du projet sont listés.\r\n-         La logique d'ajout/suppression est simulée ici.\r\n-       </p>\r\n-    </div>\r\n-  \r\n-  </mat-dialog-content>\r\n-  \r\n-  <!-- Actions de la Modale (Bouton Fermer) -->\r\n-  <mat-dialog-actions align=\"end\">\r\n-    <button mat-stroked-button (click)=\"closeDialog()\">Fermer</button>\r\n-    <!-- Pas besoin de bouton \"Sauvegarder\" si les actions sont immédiates -->\r\n-  </mat-dialog-actions>\r\n-  \n\\ No newline at end of file\n+--- a/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\shared\\project-form\\project-form.component.html\r\n++++ b/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\shared\\project-form\\project-form.component.html\r\n+@@ -1,53 +1,90 @@\r\n+-<div class=\"user-form-container\"> <!-- Utilisation de la même classe que agence-form -->\r\n+-  <h2>Nouveau Projet</h2>\r\n++<!-- Titre de la Modale -->\r\n++<h2 mat-dialog-title>\r\n++  Membres du Projet : {{ project?.name || 'Projet sans nom' }}\r\n++  <button mat-icon-button (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n++    <mat-icon>close</mat-icon>\r\n++  </button>\r\n++</h2>\r\n+ \r\n+-  <form [formGroup]=\"projectForm\" (ngSubmit)=\"saveProject()\" novalidate>\r\n+-    <!-- Champ Nom du Projet -->\r\n+-    <div class=\"form-group\">\r\n+-      <label for=\"projectName\">Nom du Projet</label>\r\n+-      <input type=\"text\" id=\"projectName\" formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n+-      <!-- Affichage des erreurs spécifiques -->\r\n+-      <div *ngIf=\"name?.touched && name?.invalid\" class=\"error-message\">\r\n+-        <div *ngIf=\"name?.hasError('required')\">\r\n+-          Le nom du projet est requis.\r\n+-        </div>\r\n+-        <div *ngIf=\"name?.hasError('minlength')\">\r\n+-          Le nom doit contenir au moins 3 caractères.\r\n+-        </div>\r\n++<!-- Contenu de la Modale -->\r\n++<mat-dialog-content class=\"mat-typography\">\r\n++\r\n++  <!-- Indicateur de chargement global -->\r\n++  <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n++    <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\r\n++  </div>\r\n++\r\n++  <!-- Section: Liste des Membres Actuels -->\r\n++  <div class=\"members-list-section\">\r\n++    <h3>Membres Actuels ({{ members.length }})</h3>\r\n++    <div class=\"table-container mat-elevation-z2\">\r\n++      <table mat-table [dataSource]=\"members\" class=\"members-table\">\r\n++\r\n++        <!-- Colonne Avatar/Nom -->\r\n++        <ng-container matColumnDef=\"name\">\r\n++          <th mat-header-cell *matHeaderCellDef> Nom Complet </th>\r\n++          <td mat-cell *matCellDef=\"let member\">\r\n++            <img [src]=\"getMemberAvatar(member)\" alt=\"Avatar\" class=\"member-avatar\">\r\n++            <span>{{ getMemberFullName(member) }}</span>\r\n++          </td>\r\n++        </ng-container>\r\n++\r\n++        <!-- Colonne Email -->\r\n++        <ng-container matColumnDef=\"email\">\r\n++          <th mat-header-cell *matHeaderCellDef> Email </th>\r\n++          <td mat-cell *matCellDef=\"let member\"> {{ getMemberEmail(member) }} </td>\r\n++        </ng-container>\r\n++\r\n++        <!-- Colonne Rôle -->\r\n++        <ng-container matColumnDef=\"role\">\r\n++          <th mat-header-cell *matHeaderCellDef> Rôle </th>\r\n++          <td mat-cell *matCellDef=\"let member\">\r\n++            <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n++          </td>\r\n++        </ng-container>\r\n++\r\n++        <!-- Colonne Actions (Supprimer) -->\r\n++        <ng-container matColumnDef=\"actions\">\r\n++          <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n++          <td mat-cell *matCellDef=\"let member\">\r\n++            <button mat-icon-button color=\"warn\" (click)=\"removeMember(member)\" matTooltip=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n++              <mat-icon>person_remove</mat-icon>\r\n++            </button>\r\n++          </td>\r\n++        </ng-container>\r\n++\r\n++        <!-- Définition des lignes -->\r\n++        <tr mat-header-row *matHeaderRowDef=\"['name', 'email', 'role', 'actions']\"></tr>\r\n++        <tr mat-row *matRowDef=\"let row; columns: ['name', 'email', 'role', 'actions'];\"></tr>\r\n++\r\n++      </table>\r\n++       <!-- Message si aucune donnée -->\r\n++       <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n++         Aucun membre n'est actuellement assigné à ce projet.\r\n++       </div>\r\n++    </div>\r\n++  </div>\r\n++\r\n++  <mat-divider></mat-divider>\r\n++\r\n++  <!-- Section: Ajouter un Membre -->\r\n++  <div class=\"add-member-section\">\r\n++    <h3>Ajouter un Membre</h3>\r\n++    <div class=\"add-member-form\">\r\n++       <!-- Option: Select/Dropdown (plus simple) -->\r\n++       <mat-form-field appearance=\"outline\" class=\"user-select-field\">\r\n++         <mat-label>Sélectionner un utilisateur</mat-label>\r\n++         <mat-select [(ngModel)]=\"selectedUserId\" (focus)=\"loadPotentialMembers()\" [disabled]=\"isLoading\">\r\n++            <mat-option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n++              Chargement ou aucun utilisateur disponible...\r\n++            </mat-option>\r\n++           <mat-option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n++             {{ user.name }} ({{ user.email }})\r\n++           </mat-option>\r\n++         </mat-select>\r\n++       </mat-form-field>\r\n++\r\n++       <!-- Bouton Ajouter -->\r\n++       <button mat-flat-button color=\"primary\" (click)=\"addMember()\" [disabled]=\"!selectedUserId || isLoading\">\r\n++         <mat-icon>person_add</mat-icon>\r\n++         Ajouter au Projet\r\n++       </button>\r\n++\r\n++       <!-- Alternative: Autocomplete (plus complexe, nécessite plus de logique TS) -->\r\n++       <!-- Mettez ici le code pour un mat-autocomplete si vous préférez -->\r\n++    </div>\r\n++     <p class=\"info-text\">\r\n++       Seuls les utilisateurs non membres du projet sont listés.\r\n++       La logique d'ajout/suppression est simulée ici.\r\n++     </p>\r\n++  </div>\r\n++\r\n++</mat-dialog-content>\r\n++\r\n++<!-- Actions de la Modale (Bouton Fermer) -->\r\n++<mat-dialog-actions align=\"end\">\r\n++  <button mat-stroked-button (click)=\"closeDialog()\">Fermer</button>\r\n++  <!-- Pas besoin de bouton \"Sauvegarder\" si les actions sont immédiates -->\r\n++</mat-dialog-actions>\r\n+-    </div>\r\n+-\r\n+-    <!-- Champ Description -->\r\n+-    <div class=\"form-group\">\r\n+-      <label for=\"projectDescription\">Description (Optionnel)</label>\r\n+-      <!-- Utilisation d'un textarea standard -->\r\n+-      <textarea id=\"projectDescription\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n+-      <!-- Affichage des erreurs spécifiques -->\r\n+-      <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n+-         <div *ngIf=\"description?.hasError('maxlength')\">\r\n+-           La description ne doit pas dépasser 500 caractères.\r\n+-         </div>\r\n+-      </div>\r\n+-    </div>\r\n+-\r\n+-    <!-- Affichage des erreurs générales (si nécessaire) -->\r\n+-    <div *ngIf=\"errorMessage\" class=\"error-message general-error-display\"> <!-- Classe spécifique pour erreur générale si besoin -->\r\n+-      {{ errorMessage }}\r\n+-    </div>\r\n+-\r\n+-    <!-- Actions du formulaire -->\r\n+-    <div class=\"form-actions\">\r\n+-      <button type=\"button\" class=\"cancel-btn\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n+-        Annuler\r\n+-      </button>\r\n+-      <button type=\"submit\" class=\"submit-btn\" [disabled]=\"projectForm.invalid || isLoading\">\r\n+-        <!-- Affichage conditionnel du texte ou spinner simple -->\r\n+-        <span *ngIf=\"!isLoading\">Enregistrer</span>\r\n+-        <span *ngIf=\"isLoading\">En cours...</span>\r\n+-      </button>\r\n+-    </div>\r\n+-  </form>\r\n+-</div>\r\n+\r\n"
                },
                {
                    "date": 1746217274363,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,5 @@\n---- a/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\shared\\project-form\\project-form.component.html\r\n-+++ b/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\shared\\project-form\\project-form.component.html\r\n-@@ -1,53 +1,90 @@\r\n+\r\n -<div class=\"user-form-container\"> <!-- Utilisation de la même classe que agence-form -->\r\n -  <h2>Nouveau Projet</h2>\r\n +<!-- Titre de la Modale -->\r\n +<h2 mat-dialog-title>\r\n"
                },
                {
                    "date": 1746217282354,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,158 +1,109 @@\n-\r\n--<div class=\"user-form-container\"> <!-- Utilisation de la même classe que agence-form -->\r\n--  <h2>Nouveau Projet</h2>\r\n-+<!-- Titre de la Modale -->\r\n-+<h2 mat-dialog-title>\r\n-+  Membres du Projet : {{ project?.name || 'Projet sans nom' }}\r\n-+  <button mat-icon-button (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n-+    <mat-icon>close</mat-icon>\r\n-+  </button>\r\n-+</h2>\r\n- \r\n--  <form [formGroup]=\"projectForm\" (ngSubmit)=\"saveProject()\" novalidate>\r\n--    <!-- Champ Nom du Projet -->\r\n--    <div class=\"form-group\">\r\n--      <label for=\"projectName\">Nom du Projet</label>\r\n--      <input type=\"text\" id=\"projectName\" formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n--      <!-- Affichage des erreurs spécifiques -->\r\n--      <div *ngIf=\"name?.touched && name?.invalid\" class=\"error-message\">\r\n--        <div *ngIf=\"name?.hasError('required')\">\r\n--          Le nom du projet est requis.\r\n--        </div>\r\n--        <div *ngIf=\"name?.hasError('minlength')\">\r\n--          Le nom doit contenir au moins 3 caractères.\r\n--        </div>\r\n-+<!-- Contenu de la Modale -->\r\n-+<mat-dialog-content class=\"mat-typography\">\r\n-+\r\n-+  <!-- Indicateur de chargement global -->\r\n-+  <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n-+    <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\r\n-+  </div>\r\n-+\r\n-+  <!-- Section: Liste des Membres Actuels -->\r\n-+  <div class=\"members-list-section\">\r\n-+    <h3>Membres Actuels ({{ members.length }})</h3>\r\n-+    <div class=\"table-container mat-elevation-z2\">\r\n-+      <table mat-table [dataSource]=\"members\" class=\"members-table\">\r\n-+\r\n-+        <!-- Colonne Avatar/Nom -->\r\n-+        <ng-container matColumnDef=\"name\">\r\n-+          <th mat-header-cell *matHeaderCellDef> Nom Complet </th>\r\n-+          <td mat-cell *matCellDef=\"let member\">\r\n-+            <img [src]=\"getMemberAvatar(member)\" alt=\"Avatar\" class=\"member-avatar\">\r\n-+            <span>{{ getMemberFullName(member) }}</span>\r\n-+          </td>\r\n-+        </ng-container>\r\n-+\r\n-+        <!-- Colonne Email -->\r\n-+        <ng-container matColumnDef=\"email\">\r\n-+          <th mat-header-cell *matHeaderCellDef> Email </th>\r\n-+          <td mat-cell *matCellDef=\"let member\"> {{ getMemberEmail(member) }} </td>\r\n-+        </ng-container>\r\n-+\r\n-+        <!-- Colonne Rôle -->\r\n-+        <ng-container matColumnDef=\"role\">\r\n-+          <th mat-header-cell *matHeaderCellDef> Rôle </th>\r\n-+          <td mat-cell *matCellDef=\"let member\">\r\n-+            <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n-+          </td>\r\n-+        </ng-container>\r\n-+\r\n-+        <!-- Colonne Actions (Supprimer) -->\r\n-+        <ng-container matColumnDef=\"actions\">\r\n-+          <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n-+          <td mat-cell *matCellDef=\"let member\">\r\n-+            <button mat-icon-button color=\"warn\" (click)=\"removeMember(member)\" matTooltip=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n-+              <mat-icon>person_remove</mat-icon>\r\n-+            </button>\r\n-+          </td>\r\n-+        </ng-container>\r\n-+\r\n-+        <!-- Définition des lignes -->\r\n-+        <tr mat-header-row *matHeaderRowDef=\"['name', 'email', 'role', 'actions']\"></tr>\r\n-+        <tr mat-row *matRowDef=\"let row; columns: ['name', 'email', 'role', 'actions'];\"></tr>\r\n-+\r\n-+      </table>\r\n-+       <!-- Message si aucune donnée -->\r\n-+       <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n-+         Aucun membre n'est actuellement assigné à ce projet.\r\n-+       </div>\r\n-+    </div>\r\n-+  </div>\r\n-+\r\n-+  <mat-divider></mat-divider>\r\n-+\r\n-+  <!-- Section: Ajouter un Membre -->\r\n-+  <div class=\"add-member-section\">\r\n-+    <h3>Ajouter un Membre</h3>\r\n-+    <div class=\"add-member-form\">\r\n-+       <!-- Option: Select/Dropdown (plus simple) -->\r\n-+       <mat-form-field appearance=\"outline\" class=\"user-select-field\">\r\n-+         <mat-label>Sélectionner un utilisateur</mat-label>\r\n-+         <mat-select [(ngModel)]=\"selectedUserId\" (focus)=\"loadPotentialMembers()\" [disabled]=\"isLoading\">\r\n-+            <mat-option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n-+              Chargement ou aucun utilisateur disponible...\r\n-+            </mat-option>\r\n-+           <mat-option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-+             {{ user.name }} ({{ user.email }})\r\n-+           </mat-option>\r\n-+         </mat-select>\r\n-+       </mat-form-field>\r\n-+\r\n-+       <!-- Bouton Ajouter -->\r\n-+       <button mat-flat-button color=\"primary\" (click)=\"addMember()\" [disabled]=\"!selectedUserId || isLoading\">\r\n-+         <mat-icon>person_add</mat-icon>\r\n-+         Ajouter au Projet\r\n-+       </button>\r\n-+\r\n-+       <!-- Alternative: Autocomplete (plus complexe, nécessite plus de logique TS) -->\r\n-+       <!-- Mettez ici le code pour un mat-autocomplete si vous préférez -->\r\n-+    </div>\r\n-+     <p class=\"info-text\">\r\n-+       Seuls les utilisateurs non membres du projet sont listés.\r\n-+       La logique d'ajout/suppression est simulée ici.\r\n-+     </p>\r\n-+  </div>\r\n-+\r\n-+</mat-dialog-content>\r\n-+\r\n-+<!-- Actions de la Modale (Bouton Fermer) -->\r\n-+<mat-dialog-actions align=\"end\">\r\n-+  <button mat-stroked-button (click)=\"closeDialog()\">Fermer</button>\r\n-+  <!-- Pas besoin de bouton \"Sauvegarder\" si les actions sont immédiates -->\r\n-+</mat-dialog-actions>\r\n--    </div>\r\n--\r\n--    <!-- Champ Description -->\r\n--    <div class=\"form-group\">\r\n--      <label for=\"projectDescription\">Description (Optionnel)</label>\r\n--      <!-- Utilisation d'un textarea standard -->\r\n--      <textarea id=\"projectDescription\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n--      <!-- Affichage des erreurs spécifiques -->\r\n--      <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n--         <div *ngIf=\"description?.hasError('maxlength')\">\r\n--           La description ne doit pas dépasser 500 caractères.\r\n--         </div>\r\n--      </div>\r\n--    </div>\r\n--\r\n--    <!-- Affichage des erreurs générales (si nécessaire) -->\r\n--    <div *ngIf=\"errorMessage\" class=\"error-message general-error-display\"> <!-- Classe spécifique pour erreur générale si besoin -->\r\n--      {{ errorMessage }}\r\n--    </div>\r\n--\r\n--    <!-- Actions du formulaire -->\r\n--    <div class=\"form-actions\">\r\n--      <button type=\"button\" class=\"cancel-btn\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n--        Annuler\r\n--      </button>\r\n--      <button type=\"submit\" class=\"submit-btn\" [disabled]=\"projectForm.invalid || isLoading\">\r\n--        <!-- Affichage conditionnel du texte ou spinner simple -->\r\n--        <span *ngIf=\"!isLoading\">Enregistrer</span>\r\n--        <span *ngIf=\"isLoading\">En cours...</span>\r\n--      </button>\r\n--    </div>\r\n--  </form>\r\n--</div>\r\n-\r\n+<!-- Titre de la Modale -->\r\n+<h2 mat-dialog-title>\r\n+    Membres du Projet : {{ project?.name || 'Projet sans nom' }}\r\n+    <button mat-icon-button (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n+      <mat-icon>close</mat-icon>\r\n+    </button>\r\n+  </h2>\r\n+  \r\n+  <!-- Contenu de la Modale -->\r\n+  <mat-dialog-content class=\"mat-typography\">\r\n+  \r\n+    <!-- Indicateur de chargement global -->\r\n+    <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n+      <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\r\n+    </div>\r\n+  \r\n+    <!-- Section: Liste des Membres Actuels -->\r\n+    <div class=\"members-list-section\">\r\n+      <h3>Membres Actuels ({{ members.length }})</h3>\r\n+      <div class=\"table-container mat-elevation-z2\">\r\n+        <table mat-table [dataSource]=\"members\" class=\"members-table\">\r\n+  \r\n+          <!-- Colonne Avatar/Nom -->\r\n+          <ng-container matColumnDef=\"name\">\r\n+            <th mat-header-cell *matHeaderCellDef> Nom Complet </th>\r\n+            <td mat-cell *matCellDef=\"let member\">\r\n+              <img [src]=\"getMemberAvatar(member)\" alt=\"Avatar\" class=\"member-avatar\">\r\n+              <span>{{ getMemberFullName(member) }}</span>\r\n+            </td>\r\n+          </ng-container>\r\n+  \r\n+          <!-- Colonne Email -->\r\n+          <ng-container matColumnDef=\"email\">\r\n+            <th mat-header-cell *matHeaderCellDef> Email </th>\r\n+            <td mat-cell *matCellDef=\"let member\"> {{ getMemberEmail(member) }} </td>\r\n+          </ng-container>\r\n+  \r\n+          <!-- Colonne Rôle -->\r\n+          <ng-container matColumnDef=\"role\">\r\n+            <th mat-header-cell *matHeaderCellDef> Rôle </th>\r\n+            <td mat-cell *matCellDef=\"let member\">\r\n+              <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n+            </td>\r\n+          </ng-container>\r\n+  \r\n+          <!-- Colonne Actions (Supprimer) -->\r\n+          <ng-container matColumnDef=\"actions\">\r\n+            <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n+            <td mat-cell *matCellDef=\"let member\">\r\n+              <button mat-icon-button color=\"warn\" (click)=\"removeMember(member)\" matTooltip=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n+                <mat-icon>person_remove</mat-icon>\r\n+              </button>\r\n+            </td>\r\n+          </ng-container>\r\n+  \r\n+          <!-- Définition des lignes -->\r\n+          <tr mat-header-row *matHeaderRowDef=\"['name', 'email', 'role', 'actions']\"></tr>\r\n+          <tr mat-row *matRowDef=\"let row; columns: ['name', 'email', 'role', 'actions'];\"></tr>\r\n+  \r\n+        </table>\r\n+         <!-- Message si aucune donnée -->\r\n+         <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n+           Aucun membre n'est actuellement assigné à ce projet.\r\n+         </div>\r\n+      </div>\r\n+    </div>\r\n+  \r\n+    <mat-divider></mat-divider>\r\n+  \r\n+    <!-- Section: Ajouter un Membre -->\r\n+    <div class=\"add-member-section\">\r\n+      <h3>Ajouter un Membre</h3>\r\n+      <div class=\"add-member-form\">\r\n+         <!-- Option: Select/Dropdown (plus simple) -->\r\n+         <mat-form-field appearance=\"outline\" class=\"user-select-field\">\r\n+           <mat-label>Sélectionner un utilisateur</mat-label>\r\n+           <mat-select [(ngModel)]=\"selectedUserId\" (focus)=\"loadPotentialMembers()\" [disabled]=\"isLoading\">\r\n+              <mat-option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n+                Chargement ou aucun utilisateur disponible...\r\n+              </mat-option>\r\n+             <mat-option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n+               {{ user.name }} ({{ user.email }})\r\n+             </mat-option>\r\n+           </mat-select>\r\n+         </mat-form-field>\r\n+  \r\n+         <!-- Bouton Ajouter -->\r\n+         <button mat-flat-button color=\"primary\" (click)=\"addMember()\" [disabled]=\"!selectedUserId || isLoading\">\r\n+           <mat-icon>person_add</mat-icon>\r\n+           Ajouter au Projet\r\n+         </button>\r\n+  \r\n+         <!-- Alternative: Autocomplete (plus complexe, nécessite plus de logique TS) -->\r\n+         <!-- Mettez ici le code pour un mat-autocomplete si vous préférez -->\r\n+      </div>\r\n+       <p class=\"info-text\">\r\n+         Seuls les utilisateurs non membres du projet sont listés.\r\n+         La logique d'ajout/suppression est simulée ici.\r\n+       </p>\r\n+    </div>\r\n+  \r\n+  </mat-dialog-content>\r\n+  \r\n+  <!-- Actions de la Modale (Bouton Fermer) -->\r\n+  <mat-dialog-actions align=\"end\">\r\n+    <button mat-stroked-button (click)=\"closeDialog()\">Fermer</button>\r\n+    <!-- Pas besoin de bouton \"Sauvegarder\" si les actions sont immédiates -->\r\n+  </mat-dialog-actions>\r\n+  \n\\ No newline at end of file\n"
                },
                {
                    "date": 1746217388357,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,109 +1,1 @@\n-<!-- Titre de la Modale -->\r\n-<h2 mat-dialog-title>\r\n-    Membres du Projet : {{ project?.name || 'Projet sans nom' }}\r\n-    <button mat-icon-button (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n-      <mat-icon>close</mat-icon>\r\n-    </button>\r\n-  </h2>\r\n-  \r\n-  <!-- Contenu de la Modale -->\r\n-  <mat-dialog-content class=\"mat-typography\">\r\n-  \r\n-    <!-- Indicateur de chargement global -->\r\n-    <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n-      <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\r\n-    </div>\r\n-  \r\n-    <!-- Section: Liste des Membres Actuels -->\r\n-    <div class=\"members-list-section\">\r\n-      <h3>Membres Actuels ({{ members.length }})</h3>\r\n-      <div class=\"table-container mat-elevation-z2\">\r\n-        <table mat-table [dataSource]=\"members\" class=\"members-table\">\r\n-  \r\n-          <!-- Colonne Avatar/Nom -->\r\n-          <ng-container matColumnDef=\"name\">\r\n-            <th mat-header-cell *matHeaderCellDef> Nom Complet </th>\r\n-            <td mat-cell *matCellDef=\"let member\">\r\n-              <img [src]=\"getMemberAvatar(member)\" alt=\"Avatar\" class=\"member-avatar\">\r\n-              <span>{{ getMemberFullName(member) }}</span>\r\n-            </td>\r\n-          </ng-container>\r\n-  \r\n-          <!-- Colonne Email -->\r\n-          <ng-container matColumnDef=\"email\">\r\n-            <th mat-header-cell *matHeaderCellDef> Email </th>\r\n-            <td mat-cell *matCellDef=\"let member\"> {{ getMemberEmail(member) }} </td>\r\n-          </ng-container>\r\n-  \r\n-          <!-- Colonne Rôle -->\r\n-          <ng-container matColumnDef=\"role\">\r\n-            <th mat-header-cell *matHeaderCellDef> Rôle </th>\r\n-            <td mat-cell *matCellDef=\"let member\">\r\n-              <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n-            </td>\r\n-          </ng-container>\r\n-  \r\n-          <!-- Colonne Actions (Supprimer) -->\r\n-          <ng-container matColumnDef=\"actions\">\r\n-            <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n-            <td mat-cell *matCellDef=\"let member\">\r\n-              <button mat-icon-button color=\"warn\" (click)=\"removeMember(member)\" matTooltip=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n-                <mat-icon>person_remove</mat-icon>\r\n-              </button>\r\n-            </td>\r\n-          </ng-container>\r\n-  \r\n-          <!-- Définition des lignes -->\r\n-          <tr mat-header-row *matHeaderRowDef=\"['name', 'email', 'role', 'actions']\"></tr>\r\n-          <tr mat-row *matRowDef=\"let row; columns: ['name', 'email', 'role', 'actions'];\"></tr>\r\n-  \r\n-        </table>\r\n-         <!-- Message si aucune donnée -->\r\n-         <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n-           Aucun membre n'est actuellement assigné à ce projet.\r\n-         </div>\r\n-      </div>\r\n-    </div>\r\n-  \r\n-    <mat-divider></mat-divider>\r\n-  \r\n-    <!-- Section: Ajouter un Membre -->\r\n-    <div class=\"add-member-section\">\r\n-      <h3>Ajouter un Membre</h3>\r\n-      <div class=\"add-member-form\">\r\n-         <!-- Option: Select/Dropdown (plus simple) -->\r\n-         <mat-form-field appearance=\"outline\" class=\"user-select-field\">\r\n-           <mat-label>Sélectionner un utilisateur</mat-label>\r\n-           <mat-select [(ngModel)]=\"selectedUserId\" (focus)=\"loadPotentialMembers()\" [disabled]=\"isLoading\">\r\n-              <mat-option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n-                Chargement ou aucun utilisateur disponible...\r\n-              </mat-option>\r\n-             <mat-option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-               {{ user.name }} ({{ user.email }})\r\n-             </mat-option>\r\n-           </mat-select>\r\n-         </mat-form-field>\r\n-  \r\n-         <!-- Bouton Ajouter -->\r\n-         <button mat-flat-button color=\"primary\" (click)=\"addMember()\" [disabled]=\"!selectedUserId || isLoading\">\r\n-           <mat-icon>person_add</mat-icon>\r\n-           Ajouter au Projet\r\n-         </button>\r\n-  \r\n-         <!-- Alternative: Autocomplete (plus complexe, nécessite plus de logique TS) -->\r\n-         <!-- Mettez ici le code pour un mat-autocomplete si vous préférez -->\r\n-      </div>\r\n-       <p class=\"info-text\">\r\n-         Seuls les utilisateurs non membres du projet sont listés.\r\n-         La logique d'ajout/suppression est simulée ici.\r\n-       </p>\r\n-    </div>\r\n-  \r\n-  </mat-dialog-content>\r\n-  \r\n-  <!-- Actions de la Modale (Bouton Fermer) -->\r\n-  <mat-dialog-actions align=\"end\">\r\n-    <button mat-stroked-button (click)=\"closeDialog()\">Fermer</button>\r\n-    <!-- Pas besoin de bouton \"Sauvegarder\" si les actions sont immédiates -->\r\n-  </mat-dialog-actions>\r\n-  \n\\ No newline at end of file\n+<p>project-members works!</p>\r\n"
                },
                {
                    "date": 1746217498698,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,51 @@\n-<p>project-members works!</p>\r\n+<div class=\"user-form-container\"> <!-- Utilisation de la même classe que agence-form -->\r\n+    <h2>Nouveau Projet</h2>\r\n+  \r\n+    <form [formGroup]=\"projectForm\" (ngSubmit)=\"saveProject()\" novalidate>\r\n+      <!-- Champ Nom du Projet -->\r\n+      <div class=\"form-group\">\r\n+        <label for=\"projectName\">Nom du Projet</label>\r\n+        <input type=\"text\" id=\"projectName\" formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n+        <!-- Affichage des erreurs spécifiques -->\r\n+        <div *ngIf=\"name?.touched && name?.invalid\" class=\"error-message\">\r\n+          <div *ngIf=\"name?.hasError('required')\">\r\n+            Le nom du projet est requis.\r\n+          </div>\r\n+          <div *ngIf=\"name?.hasError('minlength')\">\r\n+            Le nom doit contenir au moins 3 caractères.\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+  \r\n+      <!-- Champ Description -->\r\n+      <div class=\"form-group\">\r\n+        <label for=\"projectDescription\">Description (Optionnel)</label>\r\n+        <!-- Utilisation d'un textarea standard -->\r\n+        <textarea id=\"projectDescription\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n+        <!-- Affichage des erreurs spécifiques -->\r\n+        <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n+           <div *ngIf=\"description?.hasError('maxlength')\">\r\n+             La description ne doit pas dépasser 500 caractères.\r\n+           </div>\r\n+        </div>\r\n+      </div>\r\n+  \r\n+      <!-- Affichage des erreurs générales (si nécessaire) -->\r\n+      <div *ngIf=\"errorMessage\" class=\"error-message general-error-display\"> <!-- Classe spécifique pour erreur générale si besoin -->\r\n+        {{ errorMessage }}\r\n+      </div>\r\n+  \r\n+      <!-- Actions du formulaire -->\r\n+      <div class=\"form-actions\">\r\n+        <button type=\"button\" class=\"cancel-btn\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n+          Annuler\r\n+        </button>\r\n+        <button type=\"submit\" class=\"submit-btn\" [disabled]=\"projectForm.invalid || isLoading\">\r\n+          <!-- Affichage conditionnel du texte ou spinner simple -->\r\n+          <span *ngIf=\"!isLoading\">Enregistrer</span>\r\n+          <span *ngIf=\"isLoading\">En cours...</span>\r\n+        </button>\r\n+      </div>\r\n+    </form>\r\n+  </div>\r\n+  \n\\ No newline at end of file\n"
                },
                {
                    "date": 1746217513206,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,51 +1,109 @@\n-<div class=\"user-form-container\"> <!-- Utilisation de la même classe que agence-form -->\r\n-    <h2>Nouveau Projet</h2>\r\n+<!-- Titre de la Modale -->\r\n+<h2 mat-dialog-title>\r\n+    Membres du Projet : {{ project?.name || 'Projet sans nom' }}\r\n+    <button mat-icon-button (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n+      <mat-icon>close</mat-icon>\r\n+    </button>\r\n+  </h2>\r\n   \r\n-    <form [formGroup]=\"projectForm\" (ngSubmit)=\"saveProject()\" novalidate>\r\n-      <!-- Champ Nom du Projet -->\r\n-      <div class=\"form-group\">\r\n-        <label for=\"projectName\">Nom du Projet</label>\r\n-        <input type=\"text\" id=\"projectName\" formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n-        <!-- Affichage des erreurs spécifiques -->\r\n-        <div *ngIf=\"name?.touched && name?.invalid\" class=\"error-message\">\r\n-          <div *ngIf=\"name?.hasError('required')\">\r\n-            Le nom du projet est requis.\r\n-          </div>\r\n-          <div *ngIf=\"name?.hasError('minlength')\">\r\n-            Le nom doit contenir au moins 3 caractères.\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n+  <!-- Contenu de la Modale -->\r\n+  <mat-dialog-content class=\"mat-typography\">\r\n   \r\n-      <!-- Champ Description -->\r\n-      <div class=\"form-group\">\r\n-        <label for=\"projectDescription\">Description (Optionnel)</label>\r\n-        <!-- Utilisation d'un textarea standard -->\r\n-        <textarea id=\"projectDescription\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n-        <!-- Affichage des erreurs spécifiques -->\r\n-        <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n-           <div *ngIf=\"description?.hasError('maxlength')\">\r\n-             La description ne doit pas dépasser 500 caractères.\r\n-           </div>\r\n-        </div>\r\n+    <!-- Indicateur de chargement global -->\r\n+    <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n+      <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\r\n+    </div>\r\n+  \r\n+    <!-- Section: Liste des Membres Actuels -->\r\n+    <div class=\"members-list-section\">\r\n+      <h3>Membres Actuels ({{ members.length }})</h3>\r\n+      <div class=\"table-container mat-elevation-z2\">\r\n+        <table mat-table [dataSource]=\"members\" class=\"members-table\">\r\n+  \r\n+          <!-- Colonne Avatar/Nom -->\r\n+          <ng-container matColumnDef=\"name\">\r\n+            <th mat-header-cell *matHeaderCellDef> Nom Complet </th>\r\n+            <td mat-cell *matCellDef=\"let member\">\r\n+              <img [src]=\"getMemberAvatar(member)\" alt=\"Avatar\" class=\"member-avatar\">\r\n+              <span>{{ getMemberFullName(member) }}</span>\r\n+            </td>\r\n+          </ng-container>\r\n+  \r\n+          <!-- Colonne Email -->\r\n+          <ng-container matColumnDef=\"email\">\r\n+            <th mat-header-cell *matHeaderCellDef> Email </th>\r\n+            <td mat-cell *matCellDef=\"let member\"> {{ getMemberEmail(member) }} </td>\r\n+          </ng-container>\r\n+  \r\n+          <!-- Colonne Rôle -->\r\n+          <ng-container matColumnDef=\"role\">\r\n+            <th mat-header-cell *matHeaderCellDef> Rôle </th>\r\n+            <td mat-cell *matCellDef=\"let member\">\r\n+              <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n+            </td>\r\n+          </ng-container>\r\n+  \r\n+          <!-- Colonne Actions (Supprimer) -->\r\n+          <ng-container matColumnDef=\"actions\">\r\n+            <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n+            <td mat-cell *matCellDef=\"let member\">\r\n+              <button mat-icon-button color=\"warn\" (click)=\"removeMember(member)\" matTooltip=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n+                <mat-icon>person_remove</mat-icon>\r\n+              </button>\r\n+            </td>\r\n+          </ng-container>\r\n+  \r\n+          <!-- Définition des lignes -->\r\n+          <tr mat-header-row *matHeaderRowDef=\"['name', 'email', 'role', 'actions']\"></tr>\r\n+          <tr mat-row *matRowDef=\"let row; columns: ['name', 'email', 'role', 'actions'];\"></tr>\r\n+  \r\n+        </table>\r\n+         <!-- Message si aucune donnée -->\r\n+         <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n+           Aucun membre n'est actuellement assigné à ce projet.\r\n+         </div>\r\n       </div>\r\n+    </div>\r\n   \r\n-      <!-- Affichage des erreurs générales (si nécessaire) -->\r\n-      <div *ngIf=\"errorMessage\" class=\"error-message general-error-display\"> <!-- Classe spécifique pour erreur générale si besoin -->\r\n-        {{ errorMessage }}\r\n+    <mat-divider></mat-divider>\r\n+  \r\n+    <!-- Section: Ajouter un Membre -->\r\n+    <div class=\"add-member-section\">\r\n+      <h3>Ajouter un Membre</h3>\r\n+      <div class=\"add-member-form\">\r\n+         <!-- Option: Select/Dropdown (plus simple) -->\r\n+         <mat-form-field appearance=\"outline\" class=\"user-select-field\">\r\n+           <mat-label>Sélectionner un utilisateur</mat-label>\r\n+           <mat-select [(ngModel)]=\"selectedUserId\" (focus)=\"loadPotentialMembers()\" [disabled]=\"isLoading\">\r\n+              <mat-option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n+                Chargement ou aucun utilisateur disponible...\r\n+              </mat-option>\r\n+             <mat-option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n+               {{ user.name }} ({{ user.email }})\r\n+             </mat-option>\r\n+           </mat-select>\r\n+         </mat-form-field>\r\n+  \r\n+         <!-- Bouton Ajouter -->\r\n+         <button mat-flat-button color=\"primary\" (click)=\"addMember()\" [disabled]=\"!selectedUserId || isLoading\">\r\n+           <mat-icon>person_add</mat-icon>\r\n+           Ajouter au Projet\r\n+         </button>\r\n+  \r\n+         <!-- Alternative: Autocomplete (plus complexe, nécessite plus de logique TS) -->\r\n+         <!-- Mettez ici le code pour un mat-autocomplete si vous préférez -->\r\n       </div>\r\n+       <p class=\"info-text\">\r\n+         Seuls les utilisateurs non membres du projet sont listés.\r\n+         La logique d'ajout/suppression est simulée ici.\r\n+       </p>\r\n+    </div>\r\n   \r\n-      <!-- Actions du formulaire -->\r\n-      <div class=\"form-actions\">\r\n-        <button type=\"button\" class=\"cancel-btn\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n-          Annuler\r\n-        </button>\r\n-        <button type=\"submit\" class=\"submit-btn\" [disabled]=\"projectForm.invalid || isLoading\">\r\n-          <!-- Affichage conditionnel du texte ou spinner simple -->\r\n-          <span *ngIf=\"!isLoading\">Enregistrer</span>\r\n-          <span *ngIf=\"isLoading\">En cours...</span>\r\n-        </button>\r\n-      </div>\r\n-    </form>\r\n-  </div>\r\n+  </mat-dialog-content>\r\n+  \r\n+  <!-- Actions de la Modale (Bouton Fermer) -->\r\n+  <mat-dialog-actions align=\"end\">\r\n+    <button mat-stroked-button (click)=\"closeDialog()\">Fermer</button>\r\n+    <!-- Pas besoin de bouton \"Sauvegarder\" si les actions sont immédiates -->\r\n+  </mat-dialog-actions>\r\n   \n\\ No newline at end of file\n"
                },
                {
                    "date": 1746217966723,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,109 +1,111 @@\n-<!-- Titre de la Modale -->\r\n-<h2 mat-dialog-title>\r\n-    Membres du Projet : {{ project?.name || 'Projet sans nom' }}\r\n-    <button mat-icon-button (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n-      <mat-icon>close</mat-icon>\r\n-    </button>\r\n-  </h2>\r\n-  \r\n-  <!-- Contenu de la Modale -->\r\n-  <mat-dialog-content class=\"mat-typography\">\r\n-  \r\n-    <!-- Indicateur de chargement global -->\r\n-    <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n-      <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\r\n+<div class=\"modal-container\"> <!-- Ajoutez une classe pour styler le conteneur global -->\r\n+\r\n+    <!-- Titre de la Modale -->\r\n+    <div class=\"modal-header\"> <!-- Remplace mat-dialog-title -->\r\n+      <h2>\r\n+        Membres du Projet : {{ project?.name || 'Projet sans nom' }}\r\n+      </h2>\r\n+      <button type=\"button\" (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n+        <!-- Remplacer mat-icon par <i> ou <img>/svg -->\r\n+        <i class=\"icon-close\"></i> <!-- Exemple avec une classe d'icône -->\r\n+        <!-- Ou simplement du texte : <span>&times;</span> -->\r\n+      </button>\r\n     </div>\r\n   \r\n-    <!-- Section: Liste des Membres Actuels -->\r\n-    <div class=\"members-list-section\">\r\n-      <h3>Membres Actuels ({{ members.length }})</h3>\r\n-      <div class=\"table-container mat-elevation-z2\">\r\n-        <table mat-table [dataSource]=\"members\" class=\"members-table\">\r\n+    <!-- Contenu de la Modale -->\r\n+    <div class=\"modal-content\"> <!-- Remplace mat-dialog-content -->\r\n   \r\n-          <!-- Colonne Avatar/Nom -->\r\n-          <ng-container matColumnDef=\"name\">\r\n-            <th mat-header-cell *matHeaderCellDef> Nom Complet </th>\r\n-            <td mat-cell *matCellDef=\"let member\">\r\n-              <img [src]=\"getMemberAvatar(member)\" alt=\"Avatar\" class=\"member-avatar\">\r\n-              <span>{{ getMemberFullName(member) }}</span>\r\n-            </td>\r\n-          </ng-container>\r\n+      <!-- Indicateur de chargement global -->\r\n+      <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n+        <!-- Remplacer mat-progress-bar par une div stylée ou un autre composant -->\r\n+        <div class=\"progress-bar-placeholder\">Chargement...</div>\r\n+      </div>\r\n   \r\n-          <!-- Colonne Email -->\r\n-          <ng-container matColumnDef=\"email\">\r\n-            <th mat-header-cell *matHeaderCellDef> Email </th>\r\n-            <td mat-cell *matCellDef=\"let member\"> {{ getMemberEmail(member) }} </td>\r\n-          </ng-container>\r\n+      <!-- Section: Liste des Membres Actuels -->\r\n+      <div class=\"members-list-section\">\r\n+        <h3>Membres Actuels ({{ members.length }})</h3>\r\n+        <!-- Retrait de mat-elevation-z2, ajoutez une classe CSS pour l'ombre si besoin -->\r\n+        <div class=\"table-container\">\r\n+          <!-- Remplacement de mat-table par une table HTML standard -->\r\n+          <table class=\"members-table\">\r\n+            <thead>\r\n+              <tr>\r\n+                <th>Nom Complet</th>\r\n+                <th>Email</th>\r\n+                <th>Rôle</th>\r\n+                <th>Actions</th>\r\n+              </tr>\r\n+            </thead>\r\n+            <tbody>\r\n+              <!-- Remplacement de mat-row et mat-cell par tr/td et *ngFor -->\r\n+              <tr *ngFor=\"let member of members\">\r\n+                <td>\r\n+                  <img [src]=\"getMemberAvatar(member)\" alt=\"Avatar\" class=\"member-avatar\">\r\n+                  <span>{{ getMemberFullName(member) }}</span>\r\n+                </td>\r\n+                <td>{{ getMemberEmail(member) }}</td>\r\n+                <td>\r\n+                  <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n+                </td>\r\n+                <td>\r\n+                  <!-- Remplacement de mat-icon-button par button standard -->\r\n+                  <!-- Remplacement de matTooltip par l'attribut title standard -->\r\n+                  <button type=\"button\" class=\"button-icon button-warn\" (click)=\"removeMember(member)\" title=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n+                    <!-- Remplacer mat-icon par <i> ou <img>/svg -->\r\n+                    <i class=\"icon-person-remove\"></i> <!-- Exemple -->\r\n+                  </button>\r\n+                </td>\r\n+              </tr>\r\n+            </tbody>\r\n+          </table>\r\n+           <!-- Message si aucune donnée -->\r\n+           <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n+             Aucun membre n'est actuellement assigné à ce projet.\r\n+           </div>\r\n+        </div>\r\n+      </div>\r\n   \r\n-          <!-- Colonne Rôle -->\r\n-          <ng-container matColumnDef=\"role\">\r\n-            <th mat-header-cell *matHeaderCellDef> Rôle </th>\r\n-            <td mat-cell *matCellDef=\"let member\">\r\n-              <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n-            </td>\r\n-          </ng-container>\r\n+      <!-- Remplacement de mat-divider par hr -->\r\n+      <hr>\r\n   \r\n-          <!-- Colonne Actions (Supprimer) -->\r\n-          <ng-container matColumnDef=\"actions\">\r\n-            <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n-            <td mat-cell *matCellDef=\"let member\">\r\n-              <button mat-icon-button color=\"warn\" (click)=\"removeMember(member)\" matTooltip=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n-                <mat-icon>person_remove</mat-icon>\r\n-              </button>\r\n-            </td>\r\n-          </ng-container>\r\n+      <!-- Section: Ajouter un Membre -->\r\n+      <div class=\"add-member-section\">\r\n+        <h3>Ajouter un Membre</h3>\r\n+        <div class=\"add-member-form\">\r\n+           <!-- Remplacement de mat-form-field et mat-select par label/select standard -->\r\n+           <div class=\"form-group user-select-field\"> <!-- Wrapper pour le select -->\r\n+             <label for=\"userSelect\">Sélectionner un utilisateur</label>\r\n+             <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"loadPotentialMembers()\" [disabled]=\"isLoading\">\r\n+                <!-- Remplacement de mat-option par option standard -->\r\n+                <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n+                  Chargement ou aucun utilisateur disponible...\r\n+                </option>\r\n+               <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n+                 {{ user.name }} ({{ user.email }})\r\n+               </option>\r\n+             </select>\r\n+           </div>\r\n   \r\n-          <!-- Définition des lignes -->\r\n-          <tr mat-header-row *matHeaderRowDef=\"['name', 'email', 'role', 'actions']\"></tr>\r\n-          <tr mat-row *matRowDef=\"let row; columns: ['name', 'email', 'role', 'actions'];\"></tr>\r\n+           <!-- Remplacement de mat-flat-button par button standard -->\r\n+           <button type=\"button\" class=\"button-primary\" (click)=\"addMember()\" [disabled]=\"!selectedUserId || isLoading\">\r\n+             <!-- Remplacer mat-icon par <i> ou <img>/svg -->\r\n+             <i class=\"icon-person-add\"></i> <!-- Exemple -->\r\n+             Ajouter au Projet\r\n+           </button>\r\n+        </div>\r\n+         <p class=\"info-text\">\r\n+           Seuls les utilisateurs non membres du projet sont listés.\r\n+           La logique d'ajout/suppression est simulée ici.\r\n+         </p>\r\n+      </div>\r\n   \r\n-        </table>\r\n-         <!-- Message si aucune donnée -->\r\n-         <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n-           Aucun membre n'est actuellement assigné à ce projet.\r\n-         </div>\r\n-      </div>\r\n     </div>\r\n   \r\n-    <mat-divider></mat-divider>\r\n-  \r\n-    <!-- Section: Ajouter un Membre -->\r\n-    <div class=\"add-member-section\">\r\n-      <h3>Ajouter un Membre</h3>\r\n-      <div class=\"add-member-form\">\r\n-         <!-- Option: Select/Dropdown (plus simple) -->\r\n-         <mat-form-field appearance=\"outline\" class=\"user-select-field\">\r\n-           <mat-label>Sélectionner un utilisateur</mat-label>\r\n-           <mat-select [(ngModel)]=\"selectedUserId\" (focus)=\"loadPotentialMembers()\" [disabled]=\"isLoading\">\r\n-              <mat-option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n-                Chargement ou aucun utilisateur disponible...\r\n-              </mat-option>\r\n-             <mat-option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-               {{ user.name }} ({{ user.email }})\r\n-             </mat-option>\r\n-           </mat-select>\r\n-         </mat-form-field>\r\n-  \r\n-         <!-- Bouton Ajouter -->\r\n-         <button mat-flat-button color=\"primary\" (click)=\"addMember()\" [disabled]=\"!selectedUserId || isLoading\">\r\n-           <mat-icon>person_add</mat-icon>\r\n-           Ajouter au Projet\r\n-         </button>\r\n-  \r\n-         <!-- Alternative: Autocomplete (plus complexe, nécessite plus de logique TS) -->\r\n-         <!-- Mettez ici le code pour un mat-autocomplete si vous préférez -->\r\n-      </div>\r\n-       <p class=\"info-text\">\r\n-         Seuls les utilisateurs non membres du projet sont listés.\r\n-         La logique d'ajout/suppression est simulée ici.\r\n-       </p>\r\n+    <!-- Actions de la Modale -->\r\n+    <div class=\"modal-actions\"> <!-- Remplace mat-dialog-actions -->\r\n+      <!-- Remplacement de mat-stroked-button par button standard -->\r\n+      <button type=\"button\" class=\"button-stroked\" (click)=\"closeDialog()\">Fermer</button>\r\n     </div>\r\n   \r\n-  </mat-dialog-content>\r\n-  \r\n-  <!-- Actions de la Modale (Bouton Fermer) -->\r\n-  <mat-dialog-actions align=\"end\">\r\n-    <button mat-stroked-button (click)=\"closeDialog()\">Fermer</button>\r\n-    <!-- Pas besoin de bouton \"Sauvegarder\" si les actions sont immédiates -->\r\n-  </mat-dialog-actions>\r\n+  </div>\r\n   \n\\ No newline at end of file\n"
                },
                {
                    "date": 1746217973534,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,13 @@\n <div class=\"modal-container\"> <!-- Ajoutez une classe pour styler le conteneur global -->\r\n \r\n     <!-- Titre de la Modale -->\r\n-    <div class=\"modal-header\"> <!-- Remplace mat-dialog-title -->\r\n+    <div class=\"modal-header\"> \r\n       <h2>\r\n         Membres du Projet : {{ project?.name || 'Projet sans nom' }}\r\n       </h2>\r\n       <button type=\"button\" (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n-        <!-- Remplacer mat-icon par <i> ou <img>/svg -->\r\n+        \r\n         <i class=\"icon-close\"></i> <!-- Exemple avec une classe d'icône -->\r\n         <!-- Ou simplement du texte : <span>&times;</span> -->\r\n       </button>\r\n     </div>\r\n"
                },
                {
                    "date": 1746217982499,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,20 +12,20 @@\n       </button>\r\n     </div>\r\n   \r\n     <!-- Contenu de la Modale -->\r\n-    <div class=\"modal-content\"> <!-- Remplace mat-dialog-content -->\r\n+    <div class=\"modal-content\">\r\n   \r\n       <!-- Indicateur de chargement global -->\r\n       <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n-        <!-- Remplacer mat-progress-bar par une div stylée ou un autre composant -->\r\n+        \r\n         <div class=\"progress-bar-placeholder\">Chargement...</div>\r\n       </div>\r\n   \r\n       <!-- Section: Liste des Membres Actuels -->\r\n       <div class=\"members-list-section\">\r\n         <h3>Membres Actuels ({{ members.length }})</h3>\r\n-        <!-- Retrait de mat-elevation-z2, ajoutez une classe CSS pour l'ombre si besoin -->\r\n+        \r\n         <div class=\"table-container\">\r\n           <!-- Remplacement de mat-table par une table HTML standard -->\r\n           <table class=\"members-table\">\r\n             <thead>\r\n"
                },
                {
                    "date": 1746217987963,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n       <div class=\"members-list-section\">\r\n         <h3>Membres Actuels ({{ members.length }})</h3>\r\n         \r\n         <div class=\"table-container\">\r\n-          <!-- Remplacement de mat-table par une table HTML standard -->\r\n+          \r\n           <table class=\"members-table\">\r\n             <thead>\r\n               <tr>\r\n                 <th>Nom Complet</th>\r\n"
                },
                {
                    "date": 1746217995262,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,9 +36,9 @@\n                 <th>Actions</th>\r\n               </tr>\r\n             </thead>\r\n             <tbody>\r\n-              <!-- Remplacement de mat-row et mat-cell par tr/td et *ngFor -->\r\n+              \r\n               <tr *ngFor=\"let member of members\">\r\n                 <td>\r\n                   <img [src]=\"getMemberAvatar(member)\" alt=\"Avatar\" class=\"member-avatar\">\r\n                   <span>{{ getMemberFullName(member) }}</span>\r\n@@ -47,10 +47,9 @@\n                 <td>\r\n                   <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n                 </td>\r\n                 <td>\r\n-                  <!-- Remplacement de mat-icon-button par button standard -->\r\n-                  <!-- Remplacement de matTooltip par l'attribut title standard -->\r\n+                  \r\n                   <button type=\"button\" class=\"button-icon button-warn\" (click)=\"removeMember(member)\" title=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n                     <!-- Remplacer mat-icon par <i> ou <img>/svg -->\r\n                     <i class=\"icon-person-remove\"></i> <!-- Exemple -->\r\n                   </button>\r\n"
                },
                {
                    "date": 1746218003563,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,9 +49,9 @@\n                 </td>\r\n                 <td>\r\n                   \r\n                   <button type=\"button\" class=\"button-icon button-warn\" (click)=\"removeMember(member)\" title=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n-                    <!-- Remplacer mat-icon par <i> ou <img>/svg -->\r\n+                    \r\n                     <i class=\"icon-person-remove\"></i> <!-- Exemple -->\r\n                   </button>\r\n                 </td>\r\n               </tr>\r\n@@ -62,17 +62,14 @@\n              Aucun membre n'est actuellement assigné à ce projet.\r\n            </div>\r\n         </div>\r\n       </div>\r\n+        <hr>\r\n   \r\n-      <!-- Remplacement de mat-divider par hr -->\r\n-      <hr>\r\n-  \r\n       <!-- Section: Ajouter un Membre -->\r\n       <div class=\"add-member-section\">\r\n         <h3>Ajouter un Membre</h3>\r\n         <div class=\"add-member-form\">\r\n-           <!-- Remplacement de mat-form-field et mat-select par label/select standard -->\r\n            <div class=\"form-group user-select-field\"> <!-- Wrapper pour le select -->\r\n              <label for=\"userSelect\">Sélectionner un utilisateur</label>\r\n              <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"loadPotentialMembers()\" [disabled]=\"isLoading\">\r\n                 <!-- Remplacement de mat-option par option standard -->\r\n"
                },
                {
                    "date": 1746218010345,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,9 @@\n         <div class=\"add-member-form\">\r\n            <div class=\"form-group user-select-field\"> <!-- Wrapper pour le select -->\r\n              <label for=\"userSelect\">Sélectionner un utilisateur</label>\r\n              <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"loadPotentialMembers()\" [disabled]=\"isLoading\">\r\n-                <!-- Remplacement de mat-option par option standard -->\r\n+               \r\n                 <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n                   Chargement ou aucun utilisateur disponible...\r\n                 </option>\r\n                <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n@@ -83,9 +83,9 @@\n            </div>\r\n   \r\n            <!-- Remplacement de mat-flat-button par button standard -->\r\n            <button type=\"button\" class=\"button-primary\" (click)=\"addMember()\" [disabled]=\"!selectedUserId || isLoading\">\r\n-             <!-- Remplacer mat-icon par <i> ou <img>/svg -->\r\n+             \r\n              <i class=\"icon-person-add\"></i> <!-- Exemple -->\r\n              Ajouter au Projet\r\n            </button>\r\n         </div>\r\n"
                },
                {
                    "date": 1746218015699,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,9 +81,8 @@\n                </option>\r\n              </select>\r\n            </div>\r\n   \r\n-           <!-- Remplacement de mat-flat-button par button standard -->\r\n            <button type=\"button\" class=\"button-primary\" (click)=\"addMember()\" [disabled]=\"!selectedUserId || isLoading\">\r\n              \r\n              <i class=\"icon-person-add\"></i> <!-- Exemple -->\r\n              Ajouter au Projet\r\n@@ -97,10 +96,9 @@\n   \r\n     </div>\r\n   \r\n     <!-- Actions de la Modale -->\r\n-    <div class=\"modal-actions\"> <!-- Remplace mat-dialog-actions -->\r\n-      <!-- Remplacement de mat-stroked-button par button standard -->\r\n+    <div class=\"modal-actions\"> \r\n       <button type=\"button\" class=\"button-stroked\" (click)=\"closeDialog()\">Fermer</button>\r\n     </div>\r\n   \r\n   </div>\r\n"
                },
                {
                    "date": 1746219058730,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,9 +70,9 @@\n         <h3>Ajouter un Membre</h3>\r\n         <div class=\"add-member-form\">\r\n            <div class=\"form-group user-select-field\"> <!-- Wrapper pour le select -->\r\n              <label for=\"userSelect\">Sélectionner un utilisateur</label>\r\n-             <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"loadPotentialMembers()\" [disabled]=\"isLoading\">\r\n+             <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\" [disabled]=\"isLoading\">\r\n                \r\n                 <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n                   Chargement ou aucun utilisateur disponible...\r\n                 </option>\r\n"
                },
                {
                    "date": 1746219123227,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n                 <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n                   Chargement ou aucun utilisateur disponible...\r\n                 </option>\r\n                <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-                 {{ user.name }} ({{ user.email }})\r\n+                 {{ user.username }} ({{ user.email }})\r\n                </option>\r\n              </select>\r\n            </div>\r\n   \r\n"
                },
                {
                    "date": 1746219289943,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,15 +70,15 @@\n         <h3>Ajouter un Membre</h3>\r\n         <div class=\"add-member-form\">\r\n            <div class=\"form-group user-select-field\"> <!-- Wrapper pour le select -->\r\n              <label for=\"userSelect\">Sélectionner un utilisateur</label>\r\n-             <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\" [disabled]=\"isLoading\">\r\n+             <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\" >\r\n                \r\n                 <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n                   Chargement ou aucun utilisateur disponible...\r\n                 </option>\r\n                <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-                 {{ user.username }} ({{ user.email }})\r\n+                 {{ user.username }} \r\n                </option>\r\n              </select>\r\n            </div>\r\n   \r\n"
                },
                {
                    "date": 1746219622568,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,9 +75,9 @@\n                \r\n                 <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n                   Chargement ou aucun utilisateur disponible...\r\n                 </option>\r\n-               <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n+               <option *ngFor=\"let user of usersToAdd\" >\r\n                  {{ user.username }} \r\n                </option>\r\n              </select>\r\n            </div>\r\n"
                },
                {
                    "date": 1746219637466,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,9 +75,9 @@\n                \r\n                 <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n                   Chargement ou aucun utilisateur disponible...\r\n                 </option>\r\n-               <option *ngFor=\"let user of usersToAdd\" >\r\n+               <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n                  {{ user.username }} \r\n                </option>\r\n              </select>\r\n            </div>\r\n"
                },
                {
                    "date": 1746219803744,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -84,9 +84,9 @@\n   \r\n            <button type=\"button\" class=\"button-primary\" (click)=\"addMember()\" [disabled]=\"!selectedUserId || isLoading\">\r\n              \r\n              <i class=\"icon-person-add\"></i> <!-- Exemple -->\r\n-             Ajouter au Projet\r\n+             Inviter au Projet\r\n            </button>\r\n         </div>\r\n          <p class=\"info-text\">\r\n            Seuls les utilisateurs non membres du projet sont listés.\r\n"
                },
                {
                    "date": 1746220530749,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n             <tbody>\r\n               \r\n               <tr *ngFor=\"let member of members\">\r\n                 <td>\r\n-                  <img [src]=\"getMemberAvatar(member)\" alt=\"Avatar\" class=\"member-avatar\">\r\n+                  \r\n                   <span>{{ getMemberFullName(member) }}</span>\r\n                 </td>\r\n                 <td>{{ getMemberEmail(member) }}</td>\r\n                 <td>\r\n"
                },
                {
                    "date": 1746220545693,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,11 +38,10 @@\n             </thead>\r\n             <tbody>\r\n               \r\n               <tr *ngFor=\"let member of members\">\r\n-                <td>\r\n-                  \r\n-                  <span>{{ getMemberFullName(member) }}</span>\r\n+                <td> \r\n+                  <span>{{ member) }}</span>\r\n                 </td>\r\n                 <td>{{ getMemberEmail(member) }}</td>\r\n                 <td>\r\n                   <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n"
                },
                {
                    "date": 1746220640951,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n             <tbody>\r\n               \r\n               <tr *ngFor=\"let member of members\">\r\n                 <td> \r\n-                  <span>{{ member) }}</span>\r\n+                  <span>{{ member.username }}</span>\r\n                 </td>\r\n                 <td>{{ getMemberEmail(member) }}</td>\r\n                 <td>\r\n                   <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n"
                },
                {
                    "date": 1746220725178,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,9 +80,9 @@\n                </option>\r\n              </select>\r\n            </div>\r\n   \r\n-           <button type=\"button\" class=\"button-primary\" (click)=\"addMember()\" [disabled]=\"!selectedUserId || isLoading\">\r\n+           <button type=\"button\" class=\"button-primary\" (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n              \r\n              <i class=\"icon-person-add\"></i> <!-- Exemple -->\r\n              Inviter au Projet\r\n            </button>\r\n"
                },
                {
                    "date": 1746220764464,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,9 +75,9 @@\n                 <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n                   Chargement ou aucun utilisateur disponible...\r\n                 </option>\r\n                <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-                 {{ user.username }} \r\n+                 {{ user.name }} \r\n                </option>\r\n              </select>\r\n            </div>\r\n   \r\n"
                },
                {
                    "date": 1746220865290,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,9 +75,9 @@\n                 <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n                   Chargement ou aucun utilisateur disponible...\r\n                 </option>\r\n                <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-                 {{ user.name }} \r\n+                 {{ user.username }} \r\n                </option>\r\n              </select>\r\n            </div>\r\n   \r\n"
                },
                {
                    "date": 1746220879195,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n             <tbody>\r\n               \r\n               <tr *ngFor=\"let member of members\">\r\n                 <td> \r\n-                  <span>{{ member.username }}</span>\r\n+                  <span>{{ member.name }}</span>\r\n                 </td>\r\n                 <td>{{ getMemberEmail(member) }}</td>\r\n                 <td>\r\n                   <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n"
                },
                {
                    "date": 1746221337455,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,104 +1,148 @@\n-<div class=\"modal-container\"> <!-- Ajoutez une classe pour styler le conteneur global -->\r\n+<div class=\"modal-container\">\r\n \r\n-    <!-- Titre de la Modale -->\r\n-    <div class=\"modal-header\"> \r\n-      <h2>\r\n-        Membres du Projet : {{ project?.name || 'Projet sans nom' }}\r\n-      </h2>\r\n-      <button type=\"button\" (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n-        \r\n-        <i class=\"icon-close\"></i> <!-- Exemple avec une classe d'icône -->\r\n-        <!-- Ou simplement du texte : <span>&times;</span> -->\r\n-      </button>\r\n+  <!-- Titre de la Modale -->\r\n+  <div class=\"modal-header\"> \r\n+    <h2>\r\n+      Membres du Projet : {{ project?.name || 'Projet sans nom' }}\r\n+    </h2>\r\n+    <button type=\"button\" (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n+      \r\n+      <i class=\"fas fa-times icon-close\"></i> <!-- Mise à jour exemple icône (Font Awesome) -->\r\n+      <!-- Ou simplement du texte : <span>&times;</span> -->\r\n+    </button>\r\n+  </div>\r\n+\r\n+  <!-- Contenu de la Modale -->\r\n+  <div class=\"modal-content\">\r\n+\r\n+    <!-- Indicateur de chargement global -->\r\n+    <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n+      <div class=\"progress-bar-placeholder\">Chargement...</div>\r\n     </div>\r\n-  \r\n-    <!-- Contenu de la Modale -->\r\n-    <div class=\"modal-content\">\r\n-  \r\n-      <!-- Indicateur de chargement global -->\r\n-      <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n-        \r\n-        <div class=\"progress-bar-placeholder\">Chargement...</div>\r\n-      </div>\r\n-  \r\n-      <!-- Section: Liste des Membres Actuels -->\r\n-      <div class=\"members-list-section\">\r\n-        <h3>Membres Actuels ({{ members.length }})</h3>\r\n-        \r\n-        <div class=\"table-container\">\r\n-          \r\n-          <table class=\"members-table\">\r\n-            <thead>\r\n-              <tr>\r\n-                <th>Nom Complet</th>\r\n-                <th>Email</th>\r\n-                <th>Rôle</th>\r\n-                <th>Actions</th>\r\n-              </tr>\r\n-            </thead>\r\n-            <tbody>\r\n-              \r\n-              <tr *ngFor=\"let member of members\">\r\n-                <td> \r\n-                  <span>{{ member.name }}</span>\r\n-                </td>\r\n-                <td>{{ getMemberEmail(member) }}</td>\r\n-                <td>\r\n-                  <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n-                </td>\r\n-                <td>\r\n-                  \r\n-                  <button type=\"button\" class=\"button-icon button-warn\" (click)=\"removeMember(member)\" title=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n-                    \r\n-                    <i class=\"icon-person-remove\"></i> <!-- Exemple -->\r\n-                  </button>\r\n-                </td>\r\n-              </tr>\r\n-            </tbody>\r\n-          </table>\r\n-           <!-- Message si aucune donnée -->\r\n-           <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n-             Aucun membre n'est actuellement assigné à ce projet.\r\n-           </div>\r\n-        </div>\r\n-      </div>\r\n-        <hr>\r\n-  \r\n-      <!-- Section: Ajouter un Membre -->\r\n-      <div class=\"add-member-section\">\r\n-        <h3>Ajouter un Membre</h3>\r\n-        <div class=\"add-member-form\">\r\n-           <div class=\"form-group user-select-field\"> <!-- Wrapper pour le select -->\r\n-             <label for=\"userSelect\">Sélectionner un utilisateur</label>\r\n-             <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\" >\r\n-               \r\n-                <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n-                  Chargement ou aucun utilisateur disponible...\r\n-                </option>\r\n-               <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-                 {{ user.username }} \r\n-               </option>\r\n-             </select>\r\n-           </div>\r\n-  \r\n-           <button type=\"button\" class=\"button-primary\" (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n-             \r\n\\ No newline at end of file\n-             <i class=\"icon-person-add\"></i> <!-- Exemple -->\r\n-             Inviter au Projet\r\n-           </button>\r\n-        </div>\r\n-         <p class=\"info-text\">\r\n-           Seuls les utilisateurs non membres du projet sont listés.\r\n-           La logique d'ajout/suppression est simulée ici.\r\n-         </p>\r\n-      </div>\r\n-  \r\n-    </div>\r\n-  \r\n-    <!-- Actions de la Modale -->\r\n-    <div class=\"modal-actions\"> \r\n-      <button type=\"button\" class=\"button-stroked\" (click)=\"closeDialog()\">Fermer</button>\r\n-    </div>\r\n-  \r\n+\r\n+    <!-- Utilisation des onglets NgbTabset -->\r\n+    <ngb-tabset [destroyOnHide]=\"false\" type=\"pills\" class=\"member-tabs\">\r\n+\r\n+      <!-- Onglet 1: Membres Actuels -->\r\n+      <ngb-tab id=\"tab-current-members\" title=\"Membres Actuels ({{ members.length }})\">\r\n+        <ng-template ngbTabContent>\r\n+          <div class=\"tab-pane-content members-list-section\">\r\n+            <!-- Message si aucune donnée -->\r\n+            <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n+              Aucun membre n'est actuellement assigné à ce projet.\r\n+            </div>\r\n+            <!-- Table des membres actuels -->\r\n+            <div *ngIf=\"members.length > 0\" class=\"table-container\">\r\n+              <table class=\"members-table\">\r\n+                <thead>\r\n+                  <tr>\r\n+                    <th>Nom Complet</th>\r\n+                    <th>Email</th>\r\n+                    <th>Rôle</th>\r\n+                    <th>Actions</th>\r\n+                  </tr>\r\n+                </thead>\r\n+                <tbody>\r\n+                  <tr *ngFor=\"let member of members\">\r\n+                    <td>\r\n+                      <!-- Vous pourriez remettre l'avatar ici si vous le souhaitez -->\r\n+                      <!-- <img [src]=\"getMemberAvatar(member)\" alt=\"Avatar\" class=\"member-avatar\"> -->\r\n+                      <span>{{ member.name }}</span>\r\n+                    </td>\r\n+                    <td>{{ getMemberEmail(member) }}</td>\r\n+                    <td>\r\n+                      <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n+                    </td>\r\n+                    <td>\r\n+                      <button type=\"button\" class=\"button-icon button-warn\" (click)=\"removeMember(member)\" title=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n+                        <i class=\"fas fa-user-minus icon-person-remove\"></i> <!-- Mise à jour exemple icône -->\r\n+                      </button>\r\n+                    </td>\r\n+                  </tr>\r\n+                </tbody>\r\n+              </table>\r\n+            </div>\r\n+          </div>\r\n+        </ng-template>\r\n+      </ngb-tab>\r\n+\r\n+      <!-- Onglet 2: Membres Invités -->\r\n+      <ngb-tab id=\"tab-invited-members\" title=\"Invitations en Attente ({{ invitedMembers?.length || 0 }})\">\r\n+        <ng-template ngbTabContent>\r\n+          <div class=\"tab-pane-content invited-members-section\">\r\n+            <!-- Message si aucune donnée -->\r\n+            <div *ngIf=\"!isLoading && (!invitedMembers || invitedMembers.length === 0)\" class=\"no-members-message\">\r\n+              Aucune invitation en attente pour ce projet.\r\n+            </div>\r\n+            <!-- Table des membres invités (à adapter selon vos données) -->\r\n+            <div *ngIf=\"invitedMembers && invitedMembers.length > 0\" class=\"table-container\">\r\n+              <table class=\"members-table invited-table\">\r\n+                <thead>\r\n+                  <tr>\r\n+                    <th>Email Invité</th>\r\n+                    <th>Date Invitation</th>\r\n+                    <th>Statut</th>\r\n+                    <th>Actions</th>\r\n+                  </tr>\r\n+                </thead>\r\n+                <tbody>\r\n+                  <tr *ngFor=\"let invitation of invitedMembers\">\r\n+                    <td>{{ invitation.email }}</td>\r\n+                    <td>{{ invitation.invitedAt | date:'dd/MM/yy HH:mm' }}</td>\r\n+                    <td>\r\n+                      <span class=\"status-badge status-pending\">En attente</span>\r\n+                    </td>\r\n+                    <td>\r\n+                      <button type=\"button\" class=\"button-icon button-secondary\" (click)=\"resendInvitation(invitation)\" title=\"Renvoyer l'invitation\" [disabled]=\"isLoading\">\r\n+                        <i class=\"fas fa-paper-plane\"></i>\r\n+                      </button>\r\n+                      <button type=\"button\" class=\"button-icon button-warn\" (click)=\"cancelInvitation(invitation)\" title=\"Annuler l'invitation\" [disabled]=\"isLoading\">\r\n+                        <i class=\"fas fa-times-circle\"></i>\r\n+                      </button>\r\n+                    </td>\r\n+                  </tr>\r\n+                </tbody>\r\n+              </table>\r\n+            </div>\r\n+          </div>\r\n+        </ng-template>\r\n+      </ngb-tab>\r\n+\r\n+      <!-- Onglet 3: Ajouter des Membres -->\r\n+      <ngb-tab id=\"tab-add-member\" title=\"Inviter des Membres\">\r\n+        <ng-template ngbTabContent>\r\n+          <div class=\"tab-pane-content add-member-section\">\r\n+            <div class=\"add-member-form\">\r\n+              <div class=\"form-group user-select-field\">\r\n+                <label for=\"userSelect\">Sélectionner un utilisateur de l'agence</label>\r\n+                <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n+                  <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n+                    Chargement ou aucun utilisateur disponible...\r\n+                  </option>\r\n+                  <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n+                    {{ user.username }} ({{ user.email }}) <!-- Afficher aussi l'email -->\r\n+                  </option>\r\n+                </select>\r\n+              </div>\r\n+              <button type=\"button\" class=\"button-primary\" (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n+                <i class=\"fas fa-user-plus icon-person-add\"></i> <!-- Mise à jour exemple icône -->\r\n+                Inviter au Projet\r\n+              </button>\r\n+            </div>\r\n+            <p class=\"info-text\">\r\n+              Seuls les utilisateurs de votre agence non membres ou non déjà invités sont listés.\r\n+            </p>\r\n+          </div>\r\n+        </ng-template>\r\n+      </ngb-tab>\r\n+\r\n+    </ngb-tabset>\r\n+\r\n   </div>\r\n-  \n+\r\n+  <!-- Actions de la Modale -->\r\n+  <div class=\"modal-actions\"> \r\n+    <button type=\"button\" class=\"button-stroked\" (click)=\"closeDialog()\">Fermer</button>\r\n+  </div>\r\n+\r\n+</div>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746221463408,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,148 +1,148 @@\n <div class=\"modal-container\">\r\n \r\n-  <!-- Titre de la Modale -->\r\n-  <div class=\"modal-header\"> \r\n-    <h2>\r\n-      Membres du Projet : {{ project?.name || 'Projet sans nom' }}\r\n-    </h2>\r\n-    <button type=\"button\" (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n-      \r\n-      <i class=\"fas fa-times icon-close\"></i> <!-- Mise à jour exemple icône (Font Awesome) -->\r\n-      <!-- Ou simplement du texte : <span>&times;</span> -->\r\n-    </button>\r\n-  </div>\r\n-\r\n-  <!-- Contenu de la Modale -->\r\n-  <div class=\"modal-content\">\r\n-\r\n-    <!-- Indicateur de chargement global -->\r\n-    <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n-      <div class=\"progress-bar-placeholder\">Chargement...</div>\r\n+    <!-- Titre de la Modale -->\r\n+    <div class=\"modal-header\"> \r\n+      <h2>\r\n+        Membres du Projet : {{ project?.name || 'Projet sans nom' }}\r\n+      </h2>\r\n+      <button type=\"button\" (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n+        \r\n+        <i class=\"fas fa-times icon-close\"></i> <!-- Mise à jour exemple icône (Font Awesome) -->\r\n+        <!-- Ou simplement du texte : <span>&times;</span> -->\r\n+      </button>\r\n     </div>\r\n+  \r\n+    <!-- Contenu de la Modale -->\r\n+    <div class=\"modal-content\">\r\n+  \r\n+      <!-- Indicateur de chargement global -->\r\n+      <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n+        <div class=\"progress-bar-placeholder\">Chargement...</div>\r\n+      </div>\r\n+  \r\n+      <!-- Utilisation des onglets NgbTabset -->\r\n+      <ngb-tabset [destroyOnHide]=\"false\" type=\"pills\" class=\"member-tabs\">\r\n \r\n-    <!-- Utilisation des onglets NgbTabset -->\r\n-    <ngb-tabset [destroyOnHide]=\"false\" type=\"pills\" class=\"member-tabs\">\r\n-\r\n-      <!-- Onglet 1: Membres Actuels -->\r\n-      <ngb-tab id=\"tab-current-members\" title=\"Membres Actuels ({{ members.length }})\">\r\n-        <ng-template ngbTabContent>\r\n-          <div class=\"tab-pane-content members-list-section\">\r\n-            <!-- Message si aucune donnée -->\r\n-            <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n-              Aucun membre n'est actuellement assigné à ce projet.\r\n+        <!-- Onglet 1: Membres Actuels -->\r\n+        <ngb-tab id=\"tab-current-members\" title=\"Membres Actuels ({{ members.length }})\">\r\n+          <ng-template ngbTabContent>\r\n+            <div class=\"tab-pane-content members-list-section\">\r\n+              <!-- Message si aucune donnée -->\r\n+              <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n+                Aucun membre n'est actuellement assigné à ce projet.\r\n+              </div>\r\n+              <!-- Table des membres actuels -->\r\n+              <div *ngIf=\"members.length > 0\" class=\"table-container\">\r\n+                <table class=\"members-table\">\r\n+                  <thead>\r\n+                    <tr>\r\n+                      <th>Nom Complet</th>\r\n+                      <th>Email</th>\r\n+                      <th>Rôle</th>\r\n+                      <th>Actions</th>\r\n+                    </tr>\r\n+                  </thead>\r\n+                  <tbody>\r\n+                    <tr *ngFor=\"let member of members\">\r\n+                      <td>\r\n+                        <!-- Vous pourriez remettre l'avatar ici si vous le souhaitez -->\r\n+                        <!-- <img [src]=\"getMemberAvatar(member)\" alt=\"Avatar\" class=\"member-avatar\"> -->\r\n+                        <span>{{ member.name }}</span>\r\n+                      </td>\r\n+                      <td>{{ getMemberEmail(member) }}</td>\r\n+                      <td>\r\n+                        <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n+                      </td>\r\n+                      <td>\r\n+                        <button type=\"button\" class=\"button-icon button-warn\" (click)=\"removeMember(member)\" title=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n+                          <i class=\"fas fa-user-minus icon-person-remove\"></i> <!-- Mise à jour exemple icône -->\r\n+                        </button>\r\n+                      </td>\r\n+                    </tr>\r\n+                  </tbody>\r\n+                </table>\r\n+              </div>\r\n             </div>\r\n-            <!-- Table des membres actuels -->\r\n-            <div *ngIf=\"members.length > 0\" class=\"table-container\">\r\n-              <table class=\"members-table\">\r\n-                <thead>\r\n-                  <tr>\r\n-                    <th>Nom Complet</th>\r\n-                    <th>Email</th>\r\n-                    <th>Rôle</th>\r\n-                    <th>Actions</th>\r\n-                  </tr>\r\n-                </thead>\r\n-                <tbody>\r\n-                  <tr *ngFor=\"let member of members\">\r\n-                    <td>\r\n-                      <!-- Vous pourriez remettre l'avatar ici si vous le souhaitez -->\r\n-                      <!-- <img [src]=\"getMemberAvatar(member)\" alt=\"Avatar\" class=\"member-avatar\"> -->\r\n-                      <span>{{ member.name }}</span>\r\n-                    </td>\r\n-                    <td>{{ getMemberEmail(member) }}</td>\r\n-                    <td>\r\n-                      <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n-                    </td>\r\n-                    <td>\r\n-                      <button type=\"button\" class=\"button-icon button-warn\" (click)=\"removeMember(member)\" title=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n-                        <i class=\"fas fa-user-minus icon-person-remove\"></i> <!-- Mise à jour exemple icône -->\r\n-                      </button>\r\n-                    </td>\r\n-                  </tr>\r\n-                </tbody>\r\n-              </table>\r\n-            </div>\r\n-          </div>\r\n-        </ng-template>\r\n-      </ngb-tab>\r\n+          </ng-template>\r\n+        </ngb-tab>\r\n \r\n-      <!-- Onglet 2: Membres Invités -->\r\n-      <ngb-tab id=\"tab-invited-members\" title=\"Invitations en Attente ({{ invitedMembers?.length || 0 }})\">\r\n-        <ng-template ngbTabContent>\r\n-          <div class=\"tab-pane-content invited-members-section\">\r\n-            <!-- Message si aucune donnée -->\r\n-            <div *ngIf=\"!isLoading && (!invitedMembers || invitedMembers.length === 0)\" class=\"no-members-message\">\r\n-              Aucune invitation en attente pour ce projet.\r\n+        <!-- Onglet 2: Membres Invités -->\r\n+        <ngb-tab id=\"tab-invited-members\" title=\"Invitations en Attente ({{ invitedMembers?.length || 0 }})\">\r\n+          <ng-template ngbTabContent>\r\n+            <div class=\"tab-pane-content invited-members-section\">\r\n+              <!-- Message si aucune donnée -->\r\n+              <div *ngIf=\"!isLoading && (!invitedMembers || invitedMembers.length === 0)\" class=\"no-members-message\">\r\n+                Aucune invitation en attente pour ce projet.\r\n+              </div>\r\n+              <!-- Table des membres invités (à adapter selon vos données) -->\r\n+              <div *ngIf=\"invitedMembers && invitedMembers.length > 0\" class=\"table-container\">\r\n+                <table class=\"members-table invited-table\">\r\n\\ No newline at end of file\n+                  <thead>\r\n+                    <tr>\r\n+                      <th>Email Invité</th>\r\n+                      <th>Date Invitation</th>\r\n+                      <th>Statut</th>\r\n+                      <th>Actions</th>\r\n+                    </tr>\r\n+                  </thead>\r\n+                  <tbody>\r\n+                    <tr *ngFor=\"let invitation of invitedMembers\">\r\n+                      <td>{{ invitation.email }}</td>\r\n+                      <td>{{ invitation.invitedAt | date:'dd/MM/yy HH:mm' }}</td>\r\n+                      <td>\r\n+                        <span class=\"status-badge status-pending\">En attente</span>\r\n+                      </td>\r\n+                      <td>\r\n+                        <button type=\"button\" class=\"button-icon button-secondary\" (click)=\"resendInvitation(invitation)\" title=\"Renvoyer l'invitation\" [disabled]=\"isLoading\">\r\n+                          <i class=\"fas fa-paper-plane\"></i>\r\n+                        </button>\r\n+                        <button type=\"button\" class=\"button-icon button-warn\" (click)=\"cancelInvitation(invitation)\" title=\"Annuler l'invitation\" [disabled]=\"isLoading\">\r\n+                          <i class=\"fas fa-times-circle\"></i>\r\n+                        </button>\r\n+                      </td>\r\n+                    </tr>\r\n+                  </tbody>\r\n+                </table>\r\n+              </div>\r\n             </div>\r\n-            <!-- Table des membres invités (à adapter selon vos données) -->\r\n-            <div *ngIf=\"invitedMembers && invitedMembers.length > 0\" class=\"table-container\">\r\n-              <table class=\"members-table invited-table\">\r\n-                <thead>\r\n-                  <tr>\r\n-                    <th>Email Invité</th>\r\n-                    <th>Date Invitation</th>\r\n-                    <th>Statut</th>\r\n-                    <th>Actions</th>\r\n-                  </tr>\r\n-                </thead>\r\n-                <tbody>\r\n-                  <tr *ngFor=\"let invitation of invitedMembers\">\r\n-                    <td>{{ invitation.email }}</td>\r\n-                    <td>{{ invitation.invitedAt | date:'dd/MM/yy HH:mm' }}</td>\r\n-                    <td>\r\n-                      <span class=\"status-badge status-pending\">En attente</span>\r\n-                    </td>\r\n-                    <td>\r\n-                      <button type=\"button\" class=\"button-icon button-secondary\" (click)=\"resendInvitation(invitation)\" title=\"Renvoyer l'invitation\" [disabled]=\"isLoading\">\r\n-                        <i class=\"fas fa-paper-plane\"></i>\r\n-                      </button>\r\n-                      <button type=\"button\" class=\"button-icon button-warn\" (click)=\"cancelInvitation(invitation)\" title=\"Annuler l'invitation\" [disabled]=\"isLoading\">\r\n-                        <i class=\"fas fa-times-circle\"></i>\r\n-                      </button>\r\n-                    </td>\r\n-                  </tr>\r\n-                </tbody>\r\n-              </table>\r\n-            </div>\r\n-          </div>\r\n-        </ng-template>\r\n-      </ngb-tab>\r\n+          </ng-template>\r\n+        </ngb-tab>\r\n \r\n-      <!-- Onglet 3: Ajouter des Membres -->\r\n-      <ngb-tab id=\"tab-add-member\" title=\"Inviter des Membres\">\r\n-        <ng-template ngbTabContent>\r\n-          <div class=\"tab-pane-content add-member-section\">\r\n-            <div class=\"add-member-form\">\r\n-              <div class=\"form-group user-select-field\">\r\n-                <label for=\"userSelect\">Sélectionner un utilisateur de l'agence</label>\r\n-                <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n-                  <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n-                    Chargement ou aucun utilisateur disponible...\r\n-                  </option>\r\n-                  <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-                    {{ user.username }} ({{ user.email }}) <!-- Afficher aussi l'email -->\r\n-                  </option>\r\n-                </select>\r\n+        <!-- Onglet 3: Ajouter des Membres -->\r\n+        <ngb-tab id=\"tab-add-member\" title=\"Inviter des Membres\">\r\n+          <ng-template ngbTabContent>\r\n+            <div class=\"tab-pane-content add-member-section\">\r\n+              <div class=\"add-member-form\">\r\n+                <div class=\"form-group user-select-field\">\r\n+                  <label for=\"userSelect\">Sélectionner un utilisateur de l'agence</label>\r\n+                  <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n+                    <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n+                      Chargement ou aucun utilisateur disponible...\r\n+                    </option>\r\n+                    <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n+                      {{ user.username }} ({{ user.email }}) <!-- Afficher aussi l'email -->\r\n+                    </option>\r\n+                  </select>\r\n+                </div>\r\n+                <button type=\"button\" class=\"button-primary\" (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n+                  <i class=\"fas fa-user-plus icon-person-add\"></i> <!-- Mise à jour exemple icône -->\r\n+                  Inviter au Projet\r\n+                </button>\r\n               </div>\r\n-              <button type=\"button\" class=\"button-primary\" (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n-                <i class=\"fas fa-user-plus icon-person-add\"></i> <!-- Mise à jour exemple icône -->\r\n-                Inviter au Projet\r\n-              </button>\r\n+              <p class=\"info-text\">\r\n+                Seuls les utilisateurs de votre agence non membres ou non déjà invités sont listés.\r\n+              </p>\r\n             </div>\r\n-            <p class=\"info-text\">\r\n-              Seuls les utilisateurs de votre agence non membres ou non déjà invités sont listés.\r\n-            </p>\r\n-          </div>\r\n-        </ng-template>\r\n-      </ngb-tab>\r\n+          </ng-template>\r\n+        </ngb-tab>\r\n \r\n-    </ngb-tabset>\r\n-\r\n-  </div>\r\n-\r\n-  <!-- Actions de la Modale -->\r\n-  <div class=\"modal-actions\"> \r\n-    <button type=\"button\" class=\"button-stroked\" (click)=\"closeDialog()\">Fermer</button>\r\n-  </div>\r\n-\r\n-</div>\n+      </ngb-tabset>\r\n+  \r\n+    </div>\r\n+  \r\n+    <!-- Actions de la Modale -->\r\n+    <div class=\"modal-actions\"> \r\n+      <button type=\"button\" class=\"button-stroked\" (click)=\"closeDialog()\">Fermer</button>\r\n+    </div>\r\n+  \r\n+  </div>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746221624441,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,148 +1,145 @@\n <div class=\"modal-container\">\r\n+  <!-- Titre de la Modale -->\r\n+  <div class=\"modal-header\">\r\n+    <h2>Membres du Projet : {{ project?.name || 'Projet sans nom' }}</h2>\r\n+    <button type=\"button\" (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n+      <i class=\"icon-close\"></i>\r\n+    </button>\r\n+  </div>\r\n \r\n-    <!-- Titre de la Modale -->\r\n-    <div class=\"modal-header\"> \r\n-      <h2>\r\n-        Membres du Projet : {{ project?.name || 'Projet sans nom' }}\r\n-      </h2>\r\n-      <button type=\"button\" (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n-        \r\n-        <i class=\"fas fa-times icon-close\"></i> <!-- Mise à jour exemple icône (Font Awesome) -->\r\n-        <!-- Ou simplement du texte : <span>&times;</span> -->\r\n-      </button>\r\n+  <!-- Contenu de la Modale avec onglets -->\r\n+  <div class=\"modal-content\">\r\n+    <!-- Indicateur de chargement global -->\r\n+    <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n+      <div class=\"progress-bar-placeholder\">Chargement...</div>\r\n     </div>\r\n-  \r\n-    <!-- Contenu de la Modale -->\r\n-    <div class=\"modal-content\">\r\n-  \r\n-      <!-- Indicateur de chargement global -->\r\n-      <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n-        <div class=\"progress-bar-placeholder\">Chargement...</div>\r\n+\r\n+    <!-- Onglets -->\r\n+    <div class=\"modal-tabs\">\r\n+      <div class=\"tab-header\">\r\n+        <button class=\"tab-button\" \r\n+                [class.active]=\"activeTab === 'current'\"\r\n+                (click)=\"activeTab = 'current'\">\r\n+          Membres Actuels ({{ members.length }})\r\n+        </button>\r\n+        <button class=\"tab-button\" \r\n+                [class.active]=\"activeTab === 'pending'\"\r\n+                (click)=\"activeTab = 'pending'\">\r\n+          Invitations en attente ({{ pendingMembers.length }})\r\n+        </button>\r\n+        <button class=\"tab-button\" \r\n+                [class.active]=\"activeTab === 'add'\"\r\n+                (click)=\"activeTab = 'add'\">\r\n+          Ajouter des membres\r\n+        </button>\r\n       </div>\r\n-  \r\n-      <!-- Utilisation des onglets NgbTabset -->\r\n-      <ngb-tabset [destroyOnHide]=\"false\" type=\"pills\" class=\"member-tabs\">\r\n \r\n-        <!-- Onglet 1: Membres Actuels -->\r\n-        <ngb-tab id=\"tab-current-members\" title=\"Membres Actuels ({{ members.length }})\">\r\n-          <ng-template ngbTabContent>\r\n-            <div class=\"tab-pane-content members-list-section\">\r\n-              <!-- Message si aucune donnée -->\r\n-              <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n-                Aucun membre n'est actuellement assigné à ce projet.\r\n-              </div>\r\n-              <!-- Table des membres actuels -->\r\n-              <div *ngIf=\"members.length > 0\" class=\"table-container\">\r\n-                <table class=\"members-table\">\r\n-                  <thead>\r\n-                    <tr>\r\n-                      <th>Nom Complet</th>\r\n-                      <th>Email</th>\r\n-                      <th>Rôle</th>\r\n-                      <th>Actions</th>\r\n-                    </tr>\r\n-                  </thead>\r\n-                  <tbody>\r\n-                    <tr *ngFor=\"let member of members\">\r\n-                      <td>\r\n-                        <!-- Vous pourriez remettre l'avatar ici si vous le souhaitez -->\r\n-                        <!-- <img [src]=\"getMemberAvatar(member)\" alt=\"Avatar\" class=\"member-avatar\"> -->\r\n-                        <span>{{ member.name }}</span>\r\n-                      </td>\r\n-                      <td>{{ getMemberEmail(member) }}</td>\r\n-                      <td>\r\n-                        <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n-                      </td>\r\n-                      <td>\r\n-                        <button type=\"button\" class=\"button-icon button-warn\" (click)=\"removeMember(member)\" title=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n-                          <i class=\"fas fa-user-minus icon-person-remove\"></i> <!-- Mise à jour exemple icône -->\r\n-                        </button>\r\n-                      </td>\r\n-                    </tr>\r\n-                  </tbody>\r\n-                </table>\r\n-              </div>\r\n+      <!-- Contenu des onglets -->\r\n+      <div class=\"tab-content\">\r\n+        <!-- Onglet Membres Actuels -->\r\n+        <div *ngIf=\"activeTab === 'current'\" class=\"tab-pane\">\r\n+          <div class=\"table-container\">\r\n+            <table class=\"members-table\">\r\n+              <thead>\r\n+                <tr>\r\n+                  <th>Nom Complet</th>\r\n+                  <th>Email</th>\r\n+                  <th>Rôle</th>\r\n+                  <th>Actions</th>\r\n+                </tr>\r\n+              </thead>\r\n+              <tbody>\r\n+                <tr *ngFor=\"let member of members\">\r\n+                  <td><span>{{ member.name }}</span></td>\r\n+                  <td>{{ getMemberEmail(member) }}</td>\r\n+                  <td>\r\n+                    <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n+                  </td>\r\n+                  <td>\r\n+                    <button type=\"button\" class=\"button-icon button-warn\" \r\n+                            (click)=\"removeMember(member)\" \r\n+                            title=\"Retirer le membre\" \r\n+                            [disabled]=\"isLoading\">\r\n+                      <i class=\"icon-person-remove\"></i>\r\n+                    </button>\r\n+                  </td>\r\n+                </tr>\r\n+              </tbody>\r\n+            </table>\r\n+            <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n+              Aucun membre n'est actuellement assigné à ce projet.\r\n             </div>\r\n-          </ng-template>\r\n-        </ngb-tab>\r\n+          </div>\r\n+        </div>\r\n \r\n-        <!-- Onglet 2: Membres Invités -->\r\n-        <ngb-tab id=\"tab-invited-members\" title=\"Invitations en Attente ({{ invitedMembers?.length || 0 }})\">\r\n-          <ng-template ngbTabContent>\r\n-            <div class=\"tab-pane-content invited-members-section\">\r\n-              <!-- Message si aucune donnée -->\r\n-              <div *ngIf=\"!isLoading && (!invitedMembers || invitedMembers.length === 0)\" class=\"no-members-message\">\r\n-                Aucune invitation en attente pour ce projet.\r\n-              </div>\r\n-              <!-- Table des membres invités (à adapter selon vos données) -->\r\n-              <div *ngIf=\"invitedMembers && invitedMembers.length > 0\" class=\"table-container\">\r\n-                <table class=\"members-table invited-table\">\r\n-                  <thead>\r\n-                    <tr>\r\n\\ No newline at end of file\n-                      <th>Email Invité</th>\r\n-                      <th>Date Invitation</th>\r\n-                      <th>Statut</th>\r\n-                      <th>Actions</th>\r\n-                    </tr>\r\n-                  </thead>\r\n-                  <tbody>\r\n-                    <tr *ngFor=\"let invitation of invitedMembers\">\r\n-                      <td>{{ invitation.email }}</td>\r\n-                      <td>{{ invitation.invitedAt | date:'dd/MM/yy HH:mm' }}</td>\r\n-                      <td>\r\n-                        <span class=\"status-badge status-pending\">En attente</span>\r\n-                      </td>\r\n-                      <td>\r\n-                        <button type=\"button\" class=\"button-icon button-secondary\" (click)=\"resendInvitation(invitation)\" title=\"Renvoyer l'invitation\" [disabled]=\"isLoading\">\r\n-                          <i class=\"fas fa-paper-plane\"></i>\r\n-                        </button>\r\n-                        <button type=\"button\" class=\"button-icon button-warn\" (click)=\"cancelInvitation(invitation)\" title=\"Annuler l'invitation\" [disabled]=\"isLoading\">\r\n-                          <i class=\"fas fa-times-circle\"></i>\r\n-                        </button>\r\n-                      </td>\r\n-                    </tr>\r\n-                  </tbody>\r\n-                </table>\r\n-              </div>\r\n+        <!-- Onglet Invitations en attente -->\r\n+        <div *ngIf=\"activeTab === 'pending'\" class=\"tab-pane\">\r\n+          <div class=\"table-container\">\r\n+            <table class=\"members-table\">\r\n+              <thead>\r\n+                <tr>\r\n+                  <th>Nom Complet</th>\r\n+                  <th>Email</th>\r\n+                  <th>Statut</th>\r\n+                  <th>Actions</th>\r\n+                </tr>\r\n+              </thead>\r\n+              <tbody>\r\n+                <tr *ngFor=\"let member of pendingMembers\">\r\n+                  <td><span>{{ member.name }}</span></td>\r\n+                  <td>{{ getMemberEmail(member) }}</td>\r\n+                  <td>\r\n+                    <span class=\"status-badge pending\">En attente</span>\r\n+                  </td>\r\n+                  <td>\r\n+                    <button type=\"button\" class=\"button-icon button-cancel\" \r\n+                            (click)=\"cancelInvitation(member)\" \r\n+                            title=\"Annuler l'invitation\" \r\n+                            [disabled]=\"isLoading\">\r\n+                      <i class=\"icon-close\"></i>\r\n+                    </button>\r\n+                  </td>\r\n+                </tr>\r\n+              </tbody>\r\n+            </table>\r\n+            <div *ngIf=\"!isLoading && pendingMembers.length === 0\" class=\"no-members-message\">\r\n+              Aucune invitation en attente.\r\n             </div>\r\n-          </ng-template>\r\n-        </ngb-tab>\r\n+          </div>\r\n+        </div>\r\n \r\n-        <!-- Onglet 3: Ajouter des Membres -->\r\n-        <ngb-tab id=\"tab-add-member\" title=\"Inviter des Membres\">\r\n-          <ng-template ngbTabContent>\r\n-            <div class=\"tab-pane-content add-member-section\">\r\n-              <div class=\"add-member-form\">\r\n-                <div class=\"form-group user-select-field\">\r\n-                  <label for=\"userSelect\">Sélectionner un utilisateur de l'agence</label>\r\n-                  <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n-                    <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n-                      Chargement ou aucun utilisateur disponible...\r\n-                    </option>\r\n-                    <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-                      {{ user.username }} ({{ user.email }}) <!-- Afficher aussi l'email -->\r\n-                    </option>\r\n-                  </select>\r\n-                </div>\r\n-                <button type=\"button\" class=\"button-primary\" (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n-                  <i class=\"fas fa-user-plus icon-person-add\"></i> <!-- Mise à jour exemple icône -->\r\n-                  Inviter au Projet\r\n-                </button>\r\n-              </div>\r\n-              <p class=\"info-text\">\r\n-                Seuls les utilisateurs de votre agence non membres ou non déjà invités sont listés.\r\n-              </p>\r\n+        <!-- Onglet Ajouter des membres -->\r\n+        <div *ngIf=\"activeTab === 'add'\" class=\"tab-pane\">\r\n+          <div class=\"add-member-form\">\r\n+            <div class=\"form-group user-select-field\">\r\n+              <label for=\"userSelect\">Sélectionner un utilisateur</label>\r\n+              <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n+                <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n+                  Chargement ou aucun utilisateur disponible...\r\n+                </option>\r\n+                <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n+                  {{ user.username }} \r\n+                </option>\r\n+              </select>\r\n             </div>\r\n-          </ng-template>\r\n-        </ngb-tab>\r\n \r\n-      </ngb-tabset>\r\n-  \r\n+            <button type=\"button\" class=\"button-primary\" \r\n+                    (click)=\"sendInvitation()\" \r\n+                    [disabled]=\"!selectedUserId || isLoading\">\r\n+              <i class=\"icon-person-add\"></i>\r\n+              Inviter au Projet\r\n+            </button>\r\n+          </div>\r\n+          <p class=\"info-text\">\r\n+            Seuls les utilisateurs non membres du projet sont listés.\r\n+          </p>\r\n+        </div>\r\n+      </div>\r\n     </div>\r\n-  \r\n-    <!-- Actions de la Modale -->\r\n-    <div class=\"modal-actions\"> \r\n-      <button type=\"button\" class=\"button-stroked\" (click)=\"closeDialog()\">Fermer</button>\r\n-    </div>\r\n-  \r\n-  </div>\n+  </div>\r\n+\r\n+  <!-- Actions de la Modale -->\r\n+  <div class=\"modal-actions\">\r\n+    <button type=\"button\" class=\"button-stroked\" (click)=\"closeDialog()\">Fermer</button>\r\n+  </div>\r\n+</div>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746221668276,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n                     <span class=\"status-badge pending\">En attente</span>\r\n                   </td>\r\n                   <td>\r\n                     <button type=\"button\" class=\"button-icon button-cancel\" \r\n-                            (click)=\"cancelInvitation(member)\" \r\n+                            //(click)=\"cancelInvitation(member)\" \r\n                             title=\"Annuler l'invitation\" \r\n                             [disabled]=\"isLoading\">\r\n                       <i class=\"icon-close\"></i>\r\n                     </button>\r\n"
                },
                {
                    "date": 1746221759471,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,145 +1,104 @@\n-<div class=\"modal-container\">\r\n-  <!-- Titre de la Modale -->\r\n-  <div class=\"modal-header\">\r\n-    <h2>Membres du Projet : {{ project?.name || 'Projet sans nom' }}</h2>\r\n-    <button type=\"button\" (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n-      <i class=\"icon-close\"></i>\r\n-    </button>\r\n-  </div>\r\n+<div class=\"modal-container\"> <!-- Ajoutez une classe pour styler le conteneur global -->\r\n \r\n-  <!-- Contenu de la Modale avec onglets -->\r\n-  <div class=\"modal-content\">\r\n-    <!-- Indicateur de chargement global -->\r\n-    <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n-      <div class=\"progress-bar-placeholder\">Chargement...</div>\r\n+    <!-- Titre de la Modale -->\r\n+    <div class=\"modal-header\"> \r\n+      <h2>\r\n+        Membres du Projet : {{ project?.name || 'Projet sans nom' }}\r\n+      </h2>\r\n+      <button type=\"button\" (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n+        \r\n+        <i class=\"icon-close\"></i> <!-- Exemple avec une classe d'icône -->\r\n+        <!-- Ou simplement du texte : <span>&times;</span> -->\r\n+      </button>\r\n     </div>\r\n-\r\n-    <!-- Onglets -->\r\n-    <div class=\"modal-tabs\">\r\n-      <div class=\"tab-header\">\r\n-        <button class=\"tab-button\" \r\n-                [class.active]=\"activeTab === 'current'\"\r\n-                (click)=\"activeTab = 'current'\">\r\n-          Membres Actuels ({{ members.length }})\r\n-        </button>\r\n-        <button class=\"tab-button\" \r\n-                [class.active]=\"activeTab === 'pending'\"\r\n-                (click)=\"activeTab = 'pending'\">\r\n-          Invitations en attente ({{ pendingMembers.length }})\r\n-        </button>\r\n-        <button class=\"tab-button\" \r\n-                [class.active]=\"activeTab === 'add'\"\r\n-                (click)=\"activeTab = 'add'\">\r\n-          Ajouter des membres\r\n-        </button>\r\n+  \r\n+    <!-- Contenu de la Modale -->\r\n+    <div class=\"modal-content\">\r\n+  \r\n+      <!-- Indicateur de chargement global -->\r\n+      <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n+        \r\n+        <div class=\"progress-bar-placeholder\">Chargement...</div>\r\n       </div>\r\n-\r\n-      <!-- Contenu des onglets -->\r\n-      <div class=\"tab-content\">\r\n-        <!-- Onglet Membres Actuels -->\r\n-        <div *ngIf=\"activeTab === 'current'\" class=\"tab-pane\">\r\n-          <div class=\"table-container\">\r\n-            <table class=\"members-table\">\r\n-              <thead>\r\n-                <tr>\r\n-                  <th>Nom Complet</th>\r\n-                  <th>Email</th>\r\n-                  <th>Rôle</th>\r\n-                  <th>Actions</th>\r\n-                </tr>\r\n-              </thead>\r\n-              <tbody>\r\n-                <tr *ngFor=\"let member of members\">\r\n-                  <td><span>{{ member.name }}</span></td>\r\n-                  <td>{{ getMemberEmail(member) }}</td>\r\n-                  <td>\r\n-                    <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n-                  </td>\r\n-                  <td>\r\n-                    <button type=\"button\" class=\"button-icon button-warn\" \r\n-                            (click)=\"removeMember(member)\" \r\n-                            title=\"Retirer le membre\" \r\n-                            [disabled]=\"isLoading\">\r\n-                      <i class=\"icon-person-remove\"></i>\r\n-                    </button>\r\n-                  </td>\r\n-                </tr>\r\n-              </tbody>\r\n-            </table>\r\n-            <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n-              Aucun membre n'est actuellement assigné à ce projet.\r\n-            </div>\r\n-          </div>\r\n+  \r\n+      <!-- Section: Liste des Membres Actuels -->\r\n+      <div class=\"members-list-section\">\r\n+        <h3>Membres Actuels ({{ members.length }})</h3>\r\n+        \r\n+        <div class=\"table-container\">\r\n+          \r\n+          <table class=\"members-table\">\r\n+            <thead>\r\n+              <tr>\r\n+                <th>Nom Complet</th>\r\n+                <th>Email</th>\r\n+                <th>Rôle</th>\r\n+                <th>Actions</th>\r\n+              </tr>\r\n+            </thead>\r\n+            <tbody>\r\n+              \r\n+              <tr *ngFor=\"let member of members\">\r\n+                <td> \r\n+                  <span>{{ member.name }}</span>\r\n+                </td>\r\n+                <td>{{ getMemberEmail(member) }}</td>\r\n+                <td>\r\n+                  <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n+                </td>\r\n+                <td>\r\n+                  \r\n+                  <button type=\"button\" class=\"button-icon button-warn\" (click)=\"removeMember(member)\" title=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n+                    \r\n+                    <i class=\"icon-person-remove\"></i> <!-- Exemple -->\r\n+                  </button>\r\n+                </td>\r\n+              </tr>\r\n+            </tbody>\r\n+          </table>\r\n+           <!-- Message si aucune donnée -->\r\n+           <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n+             Aucun membre n'est actuellement assigné à ce projet.\r\n+           </div>\r\n         </div>\r\n-\r\n-        <!-- Onglet Invitations en attente -->\r\n-        <div *ngIf=\"activeTab === 'pending'\" class=\"tab-pane\">\r\n-          <div class=\"table-container\">\r\n-            <table class=\"members-table\">\r\n-              <thead>\r\n-                <tr>\r\n-                  <th>Nom Complet</th>\r\n-                  <th>Email</th>\r\n-                  <th>Statut</th>\r\n-                  <th>Actions</th>\r\n-                </tr>\r\n-              </thead>\r\n\\ No newline at end of file\n-              <tbody>\r\n-                <tr *ngFor=\"let member of pendingMembers\">\r\n-                  <td><span>{{ member.name }}</span></td>\r\n-                  <td>{{ getMemberEmail(member) }}</td>\r\n-                  <td>\r\n-                    <span class=\"status-badge pending\">En attente</span>\r\n-                  </td>\r\n-                  <td>\r\n-                    <button type=\"button\" class=\"button-icon button-cancel\" \r\n-                            //(click)=\"cancelInvitation(member)\" \r\n-                            title=\"Annuler l'invitation\" \r\n-                            [disabled]=\"isLoading\">\r\n-                      <i class=\"icon-close\"></i>\r\n-                    </button>\r\n-                  </td>\r\n-                </tr>\r\n-              </tbody>\r\n-            </table>\r\n-            <div *ngIf=\"!isLoading && pendingMembers.length === 0\" class=\"no-members-message\">\r\n-              Aucune invitation en attente.\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-\r\n-        <!-- Onglet Ajouter des membres -->\r\n-        <div *ngIf=\"activeTab === 'add'\" class=\"tab-pane\">\r\n-          <div class=\"add-member-form\">\r\n-            <div class=\"form-group user-select-field\">\r\n-              <label for=\"userSelect\">Sélectionner un utilisateur</label>\r\n-              <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n+      </div>\r\n+        <hr>\r\n+  \r\n+      <!-- Section: Ajouter un Membre -->\r\n+      <div class=\"add-member-section\">\r\n+        <h3>Ajouter un Membre</h3>\r\n+        <div class=\"add-member-form\">\r\n+           <div class=\"form-group user-select-field\"> <!-- Wrapper pour le select -->\r\n+             <label for=\"userSelect\">Sélectionner un utilisateur</label>\r\n+             <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\" >\r\n+               \r\n                 <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n                   Chargement ou aucun utilisateur disponible...\r\n                 </option>\r\n-                <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-                  {{ user.username }} \r\n-                </option>\r\n-              </select>\r\n-            </div>\r\n-\r\n-            <button type=\"button\" class=\"button-primary\" \r\n-                    (click)=\"sendInvitation()\" \r\n-                    [disabled]=\"!selectedUserId || isLoading\">\r\n-              <i class=\"icon-person-add\"></i>\r\n-              Inviter au Projet\r\n-            </button>\r\n-          </div>\r\n-          <p class=\"info-text\">\r\n-            Seuls les utilisateurs non membres du projet sont listés.\r\n-          </p>\r\n+               <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n+                 {{ user.username }} \r\n+               </option>\r\n+             </select>\r\n+           </div>\r\n+  \r\n+           <button type=\"button\" class=\"button-primary\" (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n+             \r\n+             <i class=\"icon-person-add\"></i> <!-- Exemple -->\r\n+             Inviter au Projet\r\n+           </button>\r\n         </div>\r\n+         <p class=\"info-text\">\r\n+           Seuls les utilisateurs non membres du projet sont listés.\r\n+           La logique d'ajout/suppression est simulée ici.\r\n+         </p>\r\n       </div>\r\n+  \r\n     </div>\r\n+  \r\n+    <!-- Actions de la Modale -->\r\n+    <div class=\"modal-actions\"> \r\n+      <button type=\"button\" class=\"button-stroked\" (click)=\"closeDialog()\">Fermer</button>\r\n+    </div>\r\n+  \r\n   </div>\r\n-\r\n-  <!-- Actions de la Modale -->\r\n-  <div class=\"modal-actions\">\r\n-    <button type=\"button\" class=\"button-stroked\" (click)=\"closeDialog()\">Fermer</button>\r\n-  </div>\r\n-</div>\n+  \n\\ No newline at end of file\n"
                },
                {
                    "date": 1746221798613,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,104 +1,126 @@\n-<div class=\"modal-container\"> <!-- Ajoutez une classe pour styler le conteneur global -->\r\n+<div class=\"modal-container\">\r\n+  <!-- En-tête de la modale -->\r\n+  <div class=\"modal-header\">\r\n+    <h2>Membres du Projet : {{ project?.name || 'Projet sans nom' }}</h2>\r\n+    <button type=\"button\" (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n+      <i class=\"icon-close\"></i>\r\n+    </button>\r\n+  </div>\r\n \r\n-    <!-- Titre de la Modale -->\r\n-    <div class=\"modal-header\"> \r\n-      <h2>\r\n-        Membres du Projet : {{ project?.name || 'Projet sans nom' }}\r\n-      </h2>\r\n-      <button type=\"button\" (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n-        \r\n-        <i class=\"icon-close\"></i> <!-- Exemple avec une classe d'icône -->\r\n-        <!-- Ou simplement du texte : <span>&times;</span> -->\r\n+  <!-- Contenu de la modale avec onglets -->\r\n+  <div class=\"modal-content\">\r\n+    <!-- Onglets -->\r\n+    <div class=\"modal-tabs\">\r\n+      <button class=\"tab-button\" [class.active]=\"activeTab === 'current'\" (click)=\"activeTab = 'current'\">\r\n+        Membres Actuels ({{ members.length }})\r\n       </button>\r\n+      <button class=\"tab-button\" [class.active]=\"activeTab === 'invited'\" (click)=\"activeTab = 'invited'\">\r\n+        Membres Invités ({{ invitedMembers.length }})\r\n+      </button>\r\n+      <button class=\"tab-button\" [class.active]=\"activeTab === 'add'\" (click)=\"activeTab = 'add'\">\r\n+        Ajouter Membre\r\n+      </button>\r\n     </div>\r\n-  \r\n-    <!-- Contenu de la Modale -->\r\n-    <div class=\"modal-content\">\r\n-  \r\n-      <!-- Indicateur de chargement global -->\r\n-      <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n-        \r\n-        <div class=\"progress-bar-placeholder\">Chargement...</div>\r\n+\r\n+    <!-- Contenu des onglets -->\r\n+    <div class=\"tab-content\">\r\n+      <!-- Onglet Membres Actuels -->\r\n+      <div *ngIf=\"activeTab === 'current'\" class=\"tab-pane\">\r\n+        <div class=\"members-list-section\">\r\n+          <div class=\"table-container\">\r\n+            <table class=\"members-table\">\r\n+              <!-- ... même contenu que votre table actuelle ... -->\r\n+              <thead>\r\n+                <tr>\r\n+                  <th>Nom Complet</th>\r\n+                  <th>Email</th>\r\n+                  <th>Rôle</th>\r\n+                  <th>Actions</th>\r\n+                </tr>\r\n+              </thead>\r\n+              <tbody>\r\n+                <tr *ngFor=\"let member of members\">\r\n+                  <td><span>{{ member.name }}</span></td>\r\n+                  <td>{{ getMemberEmail(member) }}</td>\r\n+                  <td><span class=\"role-badge\">{{ getMemberRole(member) }}</span></td>\r\n+                  <td>\r\n+                    <button type=\"button\" class=\"button-icon button-warn\" (click)=\"removeMember(member)\" \r\n+                            title=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n+                      <i class=\"icon-person-remove\"></i>\r\n+                    </button>\r\n+                  </td>\r\n+                </tr>\r\n+              </tbody>\r\n+            </table>\r\n+            <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n+              Aucun membre n'est actuellement assigné à ce projet.\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n       </div>\r\n-  \r\n-      <!-- Section: Liste des Membres Actuels -->\r\n-      <div class=\"members-list-section\">\r\n-        <h3>Membres Actuels ({{ members.length }})</h3>\r\n-        \r\n-        <div class=\"table-container\">\r\n-          \r\n-          <table class=\"members-table\">\r\n-            <thead>\r\n-              <tr>\r\n-                <th>Nom Complet</th>\r\n-                <th>Email</th>\r\n-                <th>Rôle</th>\r\n-                <th>Actions</th>\r\n-              </tr>\r\n-            </thead>\r\n-            <tbody>\r\n-              \r\n-              <tr *ngFor=\"let member of members\">\r\n-                <td> \r\n-                  <span>{{ member.name }}</span>\r\n-                </td>\r\n-                <td>{{ getMemberEmail(member) }}</td>\r\n-                <td>\r\n-                  <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n-                </td>\r\n\\ No newline at end of file\n-                <td>\r\n-                  \r\n-                  <button type=\"button\" class=\"button-icon button-warn\" (click)=\"removeMember(member)\" title=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n-                    \r\n-                    <i class=\"icon-person-remove\"></i> <!-- Exemple -->\r\n-                  </button>\r\n-                </td>\r\n-              </tr>\r\n-            </tbody>\r\n-          </table>\r\n-           <!-- Message si aucune donnée -->\r\n-           <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n-             Aucun membre n'est actuellement assigné à ce projet.\r\n-           </div>\r\n+\r\n+      <!-- Onglet Membres Invités -->\r\n+      <div *ngIf=\"activeTab === 'invited'\" class=\"tab-pane\">\r\n+        <div class=\"members-list-section\">\r\n+          <div class=\"table-container\">\r\n+            <table class=\"members-table\">\r\n+              <thead>\r\n+                <tr>\r\n+                  <th>Nom Complet</th>\r\n+                  <th>Email</th>\r\n+                  <th>Statut</th>\r\n+                  <th>Actions</th>\r\n+                </tr>\r\n+              </thead>\r\n+              <tbody>\r\n+                <tr *ngFor=\"let member of invitedMembers\">\r\n+                  <td><span>{{ member.name }}</span></td>\r\n+                  <td>{{ member.email }}</td>\r\n+                  <td><span class=\"status-badge pending\">En attente</span></td>\r\n+                  <td>\r\n+                    <button type=\"button\" class=\"button-icon button-warn\" (click)=\"cancelInvitation(member)\" \r\n+                            title=\"Annuler l'invitation\" [disabled]=\"isLoading\">\r\n+                      <i class=\"icon-cancel\"></i>\r\n+                    </button>\r\n+                  </td>\r\n+                </tr>\r\n+              </tbody>\r\n+            </table>\r\n+            <div *ngIf=\"!isLoading && invitedMembers.length === 0\" class=\"no-members-message\">\r\n+              Aucune invitation en attente.\r\n+            </div>\r\n+          </div>\r\n         </div>\r\n       </div>\r\n-        <hr>\r\n-  \r\n-      <!-- Section: Ajouter un Membre -->\r\n-      <div class=\"add-member-section\">\r\n-        <h3>Ajouter un Membre</h3>\r\n-        <div class=\"add-member-form\">\r\n-           <div class=\"form-group user-select-field\"> <!-- Wrapper pour le select -->\r\n-             <label for=\"userSelect\">Sélectionner un utilisateur</label>\r\n-             <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\" >\r\n-               \r\n+\r\n+      <!-- Onglet Ajouter Membre -->\r\n+      <div *ngIf=\"activeTab === 'add'\" class=\"tab-pane\">\r\n+        <div class=\"add-member-section\">\r\n+          <div class=\"add-member-form\">\r\n+            <div class=\"form-group user-select-field\">\r\n+              <label for=\"userSelect\">Sélectionner un utilisateur</label>\r\n+              <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n                 <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n                   Chargement ou aucun utilisateur disponible...\r\n                 </option>\r\n-               <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-                 {{ user.username }} \r\n-               </option>\r\n-             </select>\r\n-           </div>\r\n-  \r\n-           <button type=\"button\" class=\"button-primary\" (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n-             \r\n-             <i class=\"icon-person-add\"></i> <!-- Exemple -->\r\n-             Inviter au Projet\r\n-           </button>\r\n+                <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n+                  {{ user.username }} \r\n+                </option>\r\n+              </select>\r\n+            </div>\r\n+            <button type=\"button\" class=\"button-primary\" (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n+              <i class=\"icon-person-add\"></i>\r\n+              Inviter au Projet\r\n+            </button>\r\n+          </div>\r\n+          <p class=\"info-text\">\r\n+            Seuls les utilisateurs non membres du projet sont listés.\r\n+          </p>\r\n         </div>\r\n-         <p class=\"info-text\">\r\n-           Seuls les utilisateurs non membres du projet sont listés.\r\n-           La logique d'ajout/suppression est simulée ici.\r\n-         </p>\r\n       </div>\r\n-  \r\n     </div>\r\n-  \r\n-    <!-- Actions de la Modale -->\r\n-    <div class=\"modal-actions\"> \r\n-      <button type=\"button\" class=\"button-stroked\" (click)=\"closeDialog()\">Fermer</button>\r\n-    </div>\r\n-  \r\n   </div>\r\n-  \n+\r\n+  <!-- Pied de la modale -->\r\n+  <div class=\"modal-actions\">\r\n+    <button type=\"button\" class=\"button-stroked\" (click)\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746221810531,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -122,5 +122,7 @@\n   </div>\r\n \r\n   <!-- Pied de la modale -->\r\n   <div class=\"modal-actions\">\r\n-    <button type=\"button\" class=\"button-stroked\" (click)\n\\ No newline at end of file\n+    <button type=\"button\" class=\"button-stroked\" (click)=\"closeDialog()\">Fermer</button>\r\n+  </div>\r\n+</div>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746221826944,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,9 @@\n     <div class=\"modal-tabs\">\r\n       <button class=\"tab-button\" [class.active]=\"activeTab === 'current'\" (click)=\"activeTab = 'current'\">\r\n         Membres Actuels ({{ members.length }})\r\n       </button>\r\n-      <button class=\"tab-button\" [class.active]=\"activeTab === 'invited'\" (click)=\"activeTab = 'invited'\">\r\n+      <button class=\"tab-button\" [class.active]=\"activeTab == 'invited'\" (click)=\"activeTab = 'invited'\">\r\n         Membres Invités ({{ invitedMembers.length }})\r\n       </button>\r\n       <button class=\"tab-button\" [class.active]=\"activeTab === 'add'\" (click)=\"activeTab = 'add'\">\r\n         Ajouter Membre\r\n"
                },
                {
                    "date": 1746222462029,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,10 +13,10 @@\n     <div class=\"modal-tabs\">\r\n       <button class=\"tab-button\" [class.active]=\"activeTab === 'current'\" (click)=\"activeTab = 'current'\">\r\n         Membres Actuels ({{ members.length }})\r\n       </button>\r\n-      <button class=\"tab-button\" [class.active]=\"activeTab == 'invited'\" (click)=\"activeTab = 'invited'\">\r\n-        Membres Invités ({{ invitedMembers.length }})\r\n+      <button class=\"tab-button\" [class.active]=\"activeTab === 'pending'\" (click)=\"activeTab = 'pending'\">\r\n+        Invitations en attente ({{ pendingMembers.length }})\r\n       </button>\r\n       <button class=\"tab-button\" [class.active]=\"activeTab === 'add'\" (click)=\"activeTab = 'add'\">\r\n         Ajouter Membre\r\n       </button>\r\n"
                },
                {
                    "date": 1746222479260,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n   <div class=\"modal-content\">\r\n     <!-- Onglets -->\r\n     <div class=\"modal-tabs\">\r\n       <button class=\"tab-button\" [class.active]=\"activeTab === 'current'\" (click)=\"activeTab = 'current'\">\r\n-        Membres Actuels ({{ members.length }})\r\n+        Membres Actuels ({{ invitedMembers.length }})\r\n       </button>\r\n       <button class=\"tab-button\" [class.active]=\"activeTab === 'pending'\" (click)=\"activeTab = 'pending'\">\r\n         Invitations en attente ({{ pendingMembers.length }})\r\n       </button>\r\n"
                },
                {
                    "date": 1746222553649,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,77 +22,52 @@\n       </button>\r\n     </div>\r\n \r\n     <!-- Contenu des onglets -->\r\n-    <div class=\"tab-content\">\r\n-      <!-- Onglet Membres Actuels -->\r\n-      <div *ngIf=\"activeTab === 'current'\" class=\"tab-pane\">\r\n-        <div class=\"members-list-section\">\r\n-          <div class=\"table-container\">\r\n-            <table class=\"members-table\">\r\n-              <!-- ... même contenu que votre table actuelle ... -->\r\n-              <thead>\r\n-                <tr>\r\n-                  <th>Nom Complet</th>\r\n-                  <th>Email</th>\r\n-                  <th>Rôle</th>\r\n-                  <th>Actions</th>\r\n-                </tr>\r\n-              </thead>\r\n-              <tbody>\r\n-                <tr *ngFor=\"let member of members\">\r\n-                  <td><span>{{ member.name }}</span></td>\r\n-                  <td>{{ getMemberEmail(member) }}</td>\r\n-                  <td><span class=\"role-badge\">{{ getMemberRole(member) }}</span></td>\r\n-                  <td>\r\n-                    <button type=\"button\" class=\"button-icon button-warn\" (click)=\"removeMember(member)\" \r\n-                            title=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n-                      <i class=\"icon-person-remove\"></i>\r\n-                    </button>\r\n-                  </td>\r\n-                </tr>\r\n-              </tbody>\r\n-            </table>\r\n-            <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n-              Aucun membre n'est actuellement assigné à ce projet.\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n+    <!-- Contenu des onglets -->\r\n+<div class=\"tab-content\">\r\n+  <!-- Onglet Membres Actuels -->\r\n+  <div *ngIf=\"activeTab === 'current'\" class=\"tab-pane\">\r\n+    <div class=\"members-list-section\">\r\n+      <div class=\"table-container\">\r\n+        <table class=\"members-table\">\r\n+          <!-- ... même structure que précédemment ... -->\r\n+        </table>\r\n       </div>\r\n+    </div>\r\n+  </div>\r\n \r\n-      <!-- Onglet Membres Invités -->\r\n-      <div *ngIf=\"activeTab === 'invited'\" class=\"tab-pane\">\r\n-        <div class=\"members-list-section\">\r\n-          <div class=\"table-container\">\r\n-            <table class=\"members-table\">\r\n-              <thead>\r\n-                <tr>\r\n-                  <th>Nom Complet</th>\r\n-                  <th>Email</th>\r\n-                  <th>Statut</th>\r\n-                  <th>Actions</th>\r\n-                </tr>\r\n-              </thead>\r\n-              <tbody>\r\n-                <tr *ngFor=\"let member of invitedMembers\">\r\n-                  <td><span>{{ member.name }}</span></td>\r\n-                  <td>{{ member.email }}</td>\r\n-                  <td><span class=\"status-badge pending\">En attente</span></td>\r\n-                  <td>\r\n-                    <button type=\"button\" class=\"button-icon button-warn\" (click)=\"cancelInvitation(member)\" \r\n-                            title=\"Annuler l'invitation\" [disabled]=\"isLoading\">\r\n-                      <i class=\"icon-cancel\"></i>\r\n-                    </button>\r\n-                  </td>\r\n-                </tr>\r\n-              </tbody>\r\n-            </table>\r\n-            <div *ngIf=\"!isLoading && invitedMembers.length === 0\" class=\"no-members-message\">\r\n-              Aucune invitation en attente.\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n+  <!-- Onglet Invitations en attente -->\r\n+  <div *ngIf=\"activeTab === 'pending'\" class=\"tab-pane\">\r\n+    <div class=\"members-list-section\">\r\n+      <div class=\"table-container\">\r\n+        <table class=\"members-table\">\r\n+          <thead>\r\n+            <tr>\r\n+              <th>Email</th>\r\n+              <th>Rôle</th>\r\n+              <th>Date d'invitation</th>\r\n+              <th>Actions</th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody>\r\n+            <tr *ngFor=\"let pending of pendingMembers\">\r\n+              <td>{{ pending.emailUser }}</td>\r\n+              <td><span class=\"role-badge\">{{ pending.role }}</span></td>\r\n+              <td>{{ pending.createdAt | date:'mediumDate' }}</td>\r\n+              <td>\r\n+                <button type=\"button\" class=\"button-icon button-warn\" \r\n+                        (click)=\"cancelInvitation(pending.id)\" \r\n+                        title=\"Annuler l'invitation\">\r\n+                  <i class=\"icon-cancel\"></i>\r\n+                </button>\r\n+              </td>\r\n+            </tr>\r\n+          </tbody>\r\n+        </table>\r\n       </div>\r\n+    </div>\r\n+  </div>\r\n \r\n       <!-- Onglet Ajouter Membre -->\r\n       <div *ngIf=\"activeTab === 'add'\" class=\"tab-pane\">\r\n         <div class=\"add-member-section\">\r\n"
                },
                {
                    "date": 1746222634164,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,8 @@\n       </button>\r\n     </div>\r\n \r\n     <!-- Contenu des onglets -->\r\n-    <!-- Contenu des onglets -->\r\n <div class=\"tab-content\">\r\n   <!-- Onglet Membres Actuels -->\r\n   <div *ngIf=\"activeTab === 'current'\" class=\"tab-pane\">\r\n     <div class=\"members-list-section\">\r\n"
                },
                {
                    "date": 1746222685540,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,10 +28,33 @@\n   <div *ngIf=\"activeTab === 'current'\" class=\"tab-pane\">\r\n     <div class=\"members-list-section\">\r\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n-          <!-- ... même structure que précédemment ... -->\r\n-        </table>\r\n+          <thead>\r\n+            <tr>\r\n+              <th>Nom Complet</th>\r\n+              <th>Email</th>\r\n+              <th>Rôle</th>\r\n+              <th>Actions</th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody>\r\n+            <tr *ngFor=\"let member of members\">\r\n+              <td>\r\n+                <img [src]=\"getMemberAvatar(member)\" alt=\"Avatar\" class=\"member-avatar\">\r\n+                <span>{{ getMemberFullName(member) }}</span>\r\n+              </td>\r\n+              <td>{{ getMemberEmail(member) }}</td>\r\n+              <td>\r\n+                <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n+              </td>\r\n+              <td>\r\n+                <button class=\"icon-button remove-button\" (click)=\"removeMember(member)\" title=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n+                  ×\r\n+                </button>\r\n+              </td>\r\n+            </tr>\r\n+          </tbody>        </table>\r\n       </div>\r\n     </div>\r\n   </div>\r\n \r\n"
                },
                {
                    "date": 1746222745433,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,10 @@\n               <th>Actions</th>\r\n             </tr>\r\n           </thead>\r\n           <tbody>\r\n-            <tr *ngFor=\"let pending of pendingMembers\">\r\n+            <tr *ngFor=\"let pending of         this.pendingMembers = accessList.filter(access => access.invitationStatus === 'PENDING');\r\n+              \">\r\n               <td>{{ pending.emailUser }}</td>\r\n               <td><span class=\"role-badge\">{{ pending.role }}</span></td>\r\n               <td>{{ pending.createdAt | date:'mediumDate' }}</td>\r\n               <td>\r\n"
                },
                {
                    "date": 1746222757886,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,10 +71,9 @@\n               <th>Actions</th>\r\n             </tr>\r\n           </thead>\r\n           <tbody>\r\n-            <tr *ngFor=\"let pending of         this.pendingMembers = accessList.filter(access => access.invitationStatus === 'PENDING');\r\n-              \">\r\n+            <tr *ngFor=\"let pending of pendingMembers\">\r\n               <td>{{ pending.emailUser }}</td>\r\n               <td><span class=\"role-badge\">{{ pending.role }}</span></td>\r\n               <td>{{ pending.createdAt | date:'mediumDate' }}</td>\r\n               <td>\r\n"
                },
                {
                    "date": 1746222963301,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,9 +64,9 @@\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n           <thead>\r\n             <tr>\r\n-              <th>Email</th>\r\n+              <th>Nom</th>\r\n               <th>Rôle</th>\r\n               <th>Date d'invitation</th>\r\n               <th>Actions</th>\r\n             </tr>\r\n"
                },
                {
                    "date": 1746222984881,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,9 +64,9 @@\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n           <thead>\r\n             <tr>\r\n-              <th>Nom</th>\r\n+              <th>Email</th>\r\n               <th>Rôle</th>\r\n               <th>Date d'invitation</th>\r\n               <th>Actions</th>\r\n             </tr>\r\n"
                },
                {
                    "date": 1746223299976,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n           </thead>\r\n           <tbody>\r\n             <tr *ngFor=\"let member of members\">\r\n               <td>\r\n-                <img [src]=\"getMemberAvatar(member)\" alt=\"Avatar\" class=\"member-avatar\">\r\n+                \r\n                 <span>{{ getMemberFullName(member) }}</span>\r\n               </td>\r\n               <td>{{ getMemberEmail(member) }}</td>\r\n               <td>\r\n"
                },
                {
                    "date": 1746223533361,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n   <div class=\"modal-content\">\r\n     <!-- Onglets -->\r\n     <div class=\"modal-tabs\">\r\n       <button class=\"tab-button\" [class.active]=\"activeTab === 'current'\" (click)=\"activeTab = 'current'\">\r\n-        Membres Actuels ({{ invitedMembers.length }})\r\n+        Membres Actuels ({{ m.length }})\r\n       </button>\r\n       <button class=\"tab-button\" [class.active]=\"activeTab === 'pending'\" (click)=\"activeTab = 'pending'\">\r\n         Invitations en attente ({{ pendingMembers.length }})\r\n       </button>\r\n"
                },
                {
                    "date": 1746223585440,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,125 +1,110 @@\n <div class=\"modal-container\">\r\n-  <!-- En-tête de la modale -->\r\n+  <!-- En-tête -->\r\n   <div class=\"modal-header\">\r\n     <h2>Membres du Projet : {{ project?.name || 'Projet sans nom' }}</h2>\r\n-    <button type=\"button\" (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n+    <button type=\"button\" (click)=\"closeDialog()\" class=\"close-button\">\r\n       <i class=\"icon-close\"></i>\r\n     </button>\r\n   </div>\r\n \r\n-  <!-- Contenu de la modale avec onglets -->\r\n-  <div class=\"modal-content\">\r\n-    <!-- Onglets -->\r\n-    <div class=\"modal-tabs\">\r\n-      <button class=\"tab-button\" [class.active]=\"activeTab === 'current'\" (click)=\"activeTab = 'current'\">\r\n-        Membres Actuels ({{ m.length }})\r\n-      </button>\r\n-      <button class=\"tab-button\" [class.active]=\"activeTab === 'pending'\" (click)=\"activeTab = 'pending'\">\r\n-        Invitations en attente ({{ pendingMembers.length }})\r\n-      </button>\r\n-      <button class=\"tab-button\" [class.active]=\"activeTab === 'add'\" (click)=\"activeTab = 'add'\">\r\n-        Ajouter Membre\r\n-      </button>\r\n-    </div>\r\n+  <!-- Onglets -->\r\n+  <div class=\"modal-tabs\">\r\n+    <button class=\"tab-button\" [class.active]=\"activeTab === 'current'\" (click)=\"activeTab = 'current'\">\r\n+      Membres Actuels ({{ members.length }})\r\n+    </button>\r\n+    <button class=\"tab-button\" [class.active]=\"activeTab === 'pending'\" (click)=\"activeTab = 'pending'\">\r\n+      Invitations ({{ pendingMembers.length }})\r\n+    </button>\r\n+    <button class=\"tab-button\" [class.active]=\"activeTab === 'add'\" (click)=\"activeTab = 'add'\">\r\n+      Ajouter Membre\r\n+    </button>\r\n+  </div>\r\n \r\n-    <!-- Contenu des onglets -->\r\n-<div class=\"tab-content\">\r\n-  <!-- Onglet Membres Actuels -->\r\n-  <div *ngIf=\"activeTab === 'current'\" class=\"tab-pane\">\r\n-    <div class=\"members-list-section\">\r\n+  <!-- Contenu -->\r\n+  <div class=\"tab-content\">\r\n+    <!-- Membres Actuels -->\r\n+    <div *ngIf=\"activeTab === 'current'\" class=\"tab-pane\">\r\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n           <thead>\r\n             <tr>\r\n-              <th>Nom Complet</th>\r\n+              <th>Nom</th>\r\n               <th>Email</th>\r\n               <th>Rôle</th>\r\n               <th>Actions</th>\r\n             </tr>\r\n           </thead>\r\n           <tbody>\r\n             <tr *ngFor=\"let member of members\">\r\n+              <td>{{ member.name }}</td>\r\n+              <td>{{ member.email }}</td>\r\n+              <td><span class=\"role-badge\">{{ member.role }}</span></td>\r\n               <td>\r\n-                \r\n-                <span>{{ getMemberFullName(member) }}</span>\r\n-              </td>\r\n-              <td>{{ getMemberEmail(member) }}</td>\r\n-              <td>\r\n-                <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n-              </td>\r\n-              <td>\r\n-                <button class=\"icon-button remove-button\" (click)=\"removeMember(member)\" title=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n-                  ×\r\n+                <button (click)=\"removeMember(member)\" class=\"button-icon button-warn\">\r\n+                  <i class=\"icon-person-remove\"></i>\r\n                 </button>\r\n               </td>\r\n             </tr>\r\n-          </tbody>        </table>\r\n+          </tbody>\r\n+        </table>\r\n+        <div *ngIf=\"members.length === 0\" class=\"no-data\">\r\n+          Aucun membre actif\r\n+        </div>\r\n       </div>\r\n     </div>\r\n-  </div>\r\n \r\n-  <!-- Onglet Invitations en attente -->\r\n-  <div *ngIf=\"activeTab === 'pending'\" class=\"tab-pane\">\r\n-    <div class=\"members-list-section\">\r\n+    <!-- Invitations en attente -->\r\n+    <div *ngIf=\"activeTab === 'pending'\" class=\"tab-pane\">\r\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n           <thead>\r\n             <tr>\r\n               <th>Email</th>\r\n               <th>Rôle</th>\r\n-              <th>Date d'invitation</th>\r\n+              <th>Date</th>\r\n               <th>Actions</th>\r\n             </tr>\r\n           </thead>\r\n           <tbody>\r\n             <tr *ngFor=\"let pending of pendingMembers\">\r\n               <td>{{ pending.emailUser }}</td>\r\n               <td><span class=\"role-badge\">{{ pending.role }}</span></td>\r\n-              <td>{{ pending.createdAt | date:'mediumDate' }}</td>\r\n+              <td>{{ pending.createdAt | date:'shortDate' }}</td>\r\n               <td>\r\n-                <button type=\"button\" class=\"button-icon button-warn\" \r\n-                        (click)=\"cancelInvitation(pending.id)\" \r\n-                        title=\"Annuler l'invitation\">\r\n+                <button (click)=\"cancelInvitation(pending)\" class=\"button-icon button-warn\">\r\n                   <i class=\"icon-cancel\"></i>\r\n                 </button>\r\n               </td>\r\n             </tr>\r\n           </tbody>\r\n         </table>\r\n+        <div *ngIf=\"pendingMembers.length === 0\" class=\"no-data\">\r\n+          Aucune invitation en attente\r\n+        </div>\r\n       </div>\r\n     </div>\r\n-  </div>\r\n \r\n-      <!-- Onglet Ajouter Membre -->\r\n-      <div *ngIf=\"activeTab === 'add'\" class=\"tab-pane\">\r\n-        <div class=\"add-member-section\">\r\n-          <div class=\"add-member-form\">\r\n-            <div class=\"form-group user-select-field\">\r\n-              <label for=\"userSelect\">Sélectionner un utilisateur</label>\r\n-              <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n-                <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n-                  Chargement ou aucun utilisateur disponible...\r\n-                </option>\r\n-                <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-                  {{ user.username }} \r\n-                </option>\r\n-              </select>\r\n-            </div>\r\n-            <button type=\"button\" class=\"button-primary\" (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n-              <i class=\"icon-person-add\"></i>\r\n-              Inviter au Projet\r\n-            </button>\r\n-          </div>\r\n-          <p class=\"info-text\">\r\n-            Seuls les utilisateurs non membres du projet sont listés.\r\n-          </p>\r\n+    <!-- Ajouter Membre -->\r\n+    <div *ngIf=\"activeTab === 'add'\" class=\"tab-pane\">\r\n+      <div class=\"add-member-form\">\r\n+        <div class=\"form-group\">\r\n+          <label>Sélectionner un utilisateur</label>\r\n+          <select [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n+            <option [value]=\"null\" disabled>Choisir un utilisateur...</option>\r\n+            <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n+              {{ user.username }} ({{ user.email }})\r\n+            </option>\r\n+          </select>\r\n         </div>\r\n+        <button (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n+          <i class=\"icon-person-add\"></i> Inviter\r\n+        </button>\r\n       </div>\r\n     </div>\r\n   </div>\r\n \r\n-  <!-- Pied de la modale -->\r\n+  <!-- Pied de page -->\r\n   <div class=\"modal-actions\">\r\n-    <button type=\"button\" class=\"button-stroked\" (click)=\"closeDialog()\">Fermer</button>\r\n+    <button (click)=\"closeDialog()\">Fermer</button>\r\n   </div>\r\n </div>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746223601525,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,110 +1,125 @@\n <div class=\"modal-container\">\r\n-  <!-- En-tête -->\r\n+  <!-- En-tête de la modale -->\r\n   <div class=\"modal-header\">\r\n     <h2>Membres du Projet : {{ project?.name || 'Projet sans nom' }}</h2>\r\n-    <button type=\"button\" (click)=\"closeDialog()\" class=\"close-button\">\r\n+    <button type=\"button\" (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n       <i class=\"icon-close\"></i>\r\n     </button>\r\n   </div>\r\n \r\n-  <!-- Onglets -->\r\n-  <div class=\"modal-tabs\">\r\n-    <button class=\"tab-button\" [class.active]=\"activeTab === 'current'\" (click)=\"activeTab = 'current'\">\r\n-      Membres Actuels ({{ members.length }})\r\n-    </button>\r\n-    <button class=\"tab-button\" [class.active]=\"activeTab === 'pending'\" (click)=\"activeTab = 'pending'\">\r\n-      Invitations ({{ pendingMembers.length }})\r\n-    </button>\r\n-    <button class=\"tab-button\" [class.active]=\"activeTab === 'add'\" (click)=\"activeTab = 'add'\">\r\n-      Ajouter Membre\r\n-    </button>\r\n-  </div>\r\n+  <!-- Contenu de la modale avec onglets -->\r\n+  <div class=\"modal-content\">\r\n+    <!-- Onglets -->\r\n+    <div class=\"modal-tabs\">\r\n+      <button class=\"tab-button\" [class.active]=\"activeTab === 'current'\" (click)=\"activeTab = 'current'\">\r\n+        Membres Actuels ({{ members.length }})\r\n+      </button>\r\n+      <button class=\"tab-button\" [class.active]=\"activeTab === 'pending'\" (click)=\"activeTab = 'pending'\">\r\n+        Invitations en attente ({{ pendingMembers.length }})\r\n+      </button>\r\n+      <button class=\"tab-button\" [class.active]=\"activeTab === 'add'\" (click)=\"activeTab = 'add'\">\r\n+        Ajouter Membre\r\n+      </button>\r\n+    </div>\r\n \r\n-  <!-- Contenu -->\r\n-  <div class=\"tab-content\">\r\n-    <!-- Membres Actuels -->\r\n-    <div *ngIf=\"activeTab === 'current'\" class=\"tab-pane\">\r\n+    <!-- Contenu des onglets -->\r\n+<div class=\"tab-content\">\r\n+  <!-- Onglet Membres Actuels -->\r\n+  <div *ngIf=\"activeTab === 'current'\" class=\"tab-pane\">\r\n+    <div class=\"members-list-section\">\r\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n           <thead>\r\n             <tr>\r\n-              <th>Nom</th>\r\n+              <th>Nom Complet</th>\r\n               <th>Email</th>\r\n               <th>Rôle</th>\r\n               <th>Actions</th>\r\n             </tr>\r\n           </thead>\r\n           <tbody>\r\n             <tr *ngFor=\"let member of members\">\r\n-              <td>{{ member.name }}</td>\r\n-              <td>{{ member.email }}</td>\r\n-              <td><span class=\"role-badge\">{{ member.role }}</span></td>\r\n               <td>\r\n-                <button (click)=\"removeMember(member)\" class=\"button-icon button-warn\">\r\n-                  <i class=\"icon-person-remove\"></i>\r\n+                \r\n+                <span>{{ getMemberFullName(member) }}</span>\r\n+              </td>\r\n+              <td>{{ getMemberEmail(member) }}</td>\r\n+              <td>\r\n+                <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n+              </td>\r\n+              <td>\r\n+                <button class=\"icon-button remove-button\" (click)=\"removeMember(member)\" title=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n+                  ×\r\n                 </button>\r\n               </td>\r\n             </tr>\r\n-          </tbody>\r\n-        </table>\r\n-        <div *ngIf=\"members.length === 0\" class=\"no-data\">\r\n-          Aucun membre actif\r\n-        </div>\r\n+          </tbody>        </table>\r\n       </div>\r\n     </div>\r\n+  </div>\r\n \r\n-    <!-- Invitations en attente -->\r\n-    <div *ngIf=\"activeTab === 'pending'\" class=\"tab-pane\">\r\n+  <!-- Onglet Invitations en attente -->\r\n+  <div *ngIf=\"activeTab === 'pending'\" class=\"tab-pane\">\r\n+    <div class=\"members-list-section\">\r\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n           <thead>\r\n             <tr>\r\n               <th>Email</th>\r\n               <th>Rôle</th>\r\n-              <th>Date</th>\r\n+              <th>Date d'invitation</th>\r\n               <th>Actions</th>\r\n             </tr>\r\n           </thead>\r\n           <tbody>\r\n             <tr *ngFor=\"let pending of pendingMembers\">\r\n               <td>{{ pending.emailUser }}</td>\r\n               <td><span class=\"role-badge\">{{ pending.role }}</span></td>\r\n-              <td>{{ pending.createdAt | date:'shortDate' }}</td>\r\n+              <td>{{ pending.createdAt | date:'mediumDate' }}</td>\r\n               <td>\r\n-                <button (click)=\"cancelInvitation(pending)\" class=\"button-icon button-warn\">\r\n+                <button type=\"button\" class=\"button-icon button-warn\" \r\n+                        (click)=\"cancelInvitation(pending.id)\" \r\n+                        title=\"Annuler l'invitation\">\r\n                   <i class=\"icon-cancel\"></i>\r\n                 </button>\r\n               </td>\r\n             </tr>\r\n           </tbody>\r\n         </table>\r\n-        <div *ngIf=\"pendingMembers.length === 0\" class=\"no-data\">\r\n-          Aucune invitation en attente\r\n-        </div>\r\n       </div>\r\n     </div>\r\n+  </div>\r\n \r\n-    <!-- Ajouter Membre -->\r\n-    <div *ngIf=\"activeTab === 'add'\" class=\"tab-pane\">\r\n-      <div class=\"add-member-form\">\r\n-        <div class=\"form-group\">\r\n-          <label>Sélectionner un utilisateur</label>\r\n-          <select [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n-            <option [value]=\"null\" disabled>Choisir un utilisateur...</option>\r\n-            <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-              {{ user.username }} ({{ user.email }})\r\n-            </option>\r\n-          </select>\r\n+      <!-- Onglet Ajouter Membre -->\r\n+      <div *ngIf=\"activeTab === 'add'\" class=\"tab-pane\">\r\n+        <div class=\"add-member-section\">\r\n+          <div class=\"add-member-form\">\r\n+            <div class=\"form-group user-select-field\">\r\n+              <label for=\"userSelect\">Sélectionner un utilisateur</label>\r\n+              <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n+                <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n+                  Chargement ou aucun utilisateur disponible...\r\n+                </option>\r\n+                <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n+                  {{ user.username }} \r\n+                </option>\r\n+              </select>\r\n+            </div>\r\n+            <button type=\"button\" class=\"button-primary\" (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n+              <i class=\"icon-person-add\"></i>\r\n+              Inviter au Projet\r\n+            </button>\r\n+          </div>\r\n+          <p class=\"info-text\">\r\n+            Seuls les utilisateurs non membres du projet sont listés.\r\n+          </p>\r\n         </div>\r\n-        <button (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n-          <i class=\"icon-person-add\"></i> Inviter\r\n-        </button>\r\n       </div>\r\n     </div>\r\n   </div>\r\n \r\n-  <!-- Pied de page -->\r\n+  <!-- Pied de la modale -->\r\n   <div class=\"modal-actions\">\r\n-    <button (click)=\"closeDialog()\">Fermer</button>\r\n+    <button type=\"button\" class=\"button-stroked\" (click)=\"closeDialog()\">Fermer</button>\r\n   </div>\r\n </div>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746223608221,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,124 +1,114 @@\n <div class=\"modal-container\">\r\n-  <!-- En-tête de la modale -->\r\n+  <!-- En-tête -->\r\n   <div class=\"modal-header\">\r\n     <h2>Membres du Projet : {{ project?.name || 'Projet sans nom' }}</h2>\r\n-    <button type=\"button\" (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n+    <button type=\"button\" (click)=\"closeDialog()\" class=\"close-button\">\r\n       <i class=\"icon-close\"></i>\r\n     </button>\r\n   </div>\r\n \r\n-  <!-- Contenu de la modale avec onglets -->\r\n-  <div class=\"modal-content\">\r\n-    <!-- Onglets -->\r\n-    <div class=\"modal-tabs\">\r\n-      <button class=\"tab-button\" [class.active]=\"activeTab === 'current'\" (click)=\"activeTab = 'current'\">\r\n-        Membres Actuels ({{ members.length }})\r\n-      </button>\r\n-      <button class=\"tab-button\" [class.active]=\"activeTab === 'pending'\" (click)=\"activeTab = 'pending'\">\r\n-        Invitations en attente ({{ pendingMembers.length }})\r\n-      </button>\r\n-      <button class=\"tab-button\" [class.active]=\"activeTab === 'add'\" (click)=\"activeTab = 'add'\">\r\n-        Ajouter Membre\r\n-      </button>\r\n-    </div>\r\n+  <!-- Onglets -->\r\n+  <div class=\"modal-tabs\">\r\n+    <button class=\"tab-button\" [class.active]=\"activeTab === 'current'\" (click)=\"activeTab = 'current'\">\r\n+      Membres Actuels ({{ members.length }})\r\n+    </button>\r\n+    <button class=\"tab-button\" [class.active]=\"activeTab === 'pending'\" (click)=\"activeTab = 'pending'\">\r\n+      Invitations ({{ pendingMembers.length }})\r\n+    </button>\r\n+    <button class=\"tab-button\" [class.active]=\"activeTab === 'add'\" (click)=\"activeTab = 'add'\">\r\n+      Ajouter Membre\r\n+    </button>\r\n+  </div>\r\n \r\n-    <!-- Contenu des onglets -->\r\n-<div class=\"tab-content\">\r\n-  <!-- Onglet Membres Actuels -->\r\n-  <div *ngIf=\"activeTab === 'current'\" class=\"tab-pane\">\r\n-    <div class=\"members-list-section\">\r\n+  <!-- Contenu -->\r\n+  <div class=\"tab-content\">\r\n+    <!-- Membres Actuels -->\r\n+    <div *ngIf=\"activeTab === 'current'\" class=\"tab-pane\">\r\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n           <thead>\r\n             <tr>\r\n-              <th>Nom Complet</th>\r\n+              <th>Nom</th>\r\n               <th>Email</th>\r\n               <th>Rôle</th>\r\n               <th>Actions</th>\r\n             </tr>\r\n           </thead>\r\n           <tbody>\r\n             <tr *ngFor=\"let member of members\">\r\n+              <td>{{ member.name }}</td>\r\n+              <td>{{ member.email }}</td>\r\n+              <td><span class=\"role-badge\">{{ member.role }}</span></td>\r\n               <td>\r\n-                \r\n-                <span>{{ getMemberFullName(member) }}</span>\r\n-              </td>\r\n-              <td>{{ getMemberEmail(member) }}</td>\r\n-              <td>\r\n-                <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n-              </td>\r\n-              <td>\r\n-                <button class=\"icon-button remove-button\" (click)=\"removeMember(member)\" title=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n-                  ×\r\n+                <button (click)=\"removeMember(member)\" class=\"button-icon button-warn\">\r\n+                  <i class=\"icon-person-remove\"></i>\r\n                 </button>\r\n               </td>\r\n             </tr>\r\n-          </tbody>        </table>\r\n+          </tbody>\r\n+        </table>\r\n+        <div *ngIf=\"members.length === 0\" class=\"no-data\">\r\n+          Aucun membre actif\r\n+        </div>\r\n       </div>\r\n     </div>\r\n-  </div>\r\n \r\n-  <!-- Onglet Invitations en attente -->\r\n-  <div *ngIf=\"activeTab === 'pending'\" class=\"tab-pane\">\r\n-    <div class=\"members-list-section\">\r\n+    <!-- Invitations en attente -->\r\n+    <div *ngIf=\"activeTab === 'pending'\" class=\"tab-pane\">\r\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n           <thead>\r\n             <tr>\r\n               <th>Email</th>\r\n               <th>Rôle</th>\r\n-              <th>Date d'invitation</th>\r\n+              <th>Date</th>\r\n               <th>Actions</th>\r\n             </tr>\r\n           </thead>\r\n           <tbody>\r\n             <tr *ngFor=\"let pending of pendingMembers\">\r\n               <td>{{ pending.emailUser }}</td>\r\n               <td><span class=\"role-badge\">{{ pending.role }}</span></td>\r\n-              <td>{{ pending.createdAt | date:'mediumDate' }}</td>\r\n+              <td>{{ pending.createdAt | date:'shortDate' }}</td>\r\n               <td>\r\n-                <button type=\"button\" class=\"button-icon button-warn\" \r\n-                        (click)=\"cancelInvitation(pending.id)\" \r\n-                        title=\"Annuler l'invitation\">\r\n+                <button (click)=\"cancelInvitation(pending)\" class=\"button-icon button-warn\">\r\n                   <i class=\"icon-cancel\"></i>\r\n                 </button>\r\n               </td>\r\n             </tr>\r\n           </tbody>\r\n         </table>\r\n+        <div *ngIf=\"pendingMembers.length === 0\" class=\"no-data\">\r\n+          Aucune invitation en attente\r\n+        </div>\r\n       </div>\r\n     </div>\r\n-  </div>\r\n \r\n-      <!-- Onglet Ajouter Membre -->\r\n-      <div *ngIf=\"activeTab === 'add'\" class=\"tab-pane\">\r\n-        <div class=\"add-member-section\">\r\n-          <div class=\"add-member-form\">\r\n-            <div class=\"form-group user-select-field\">\r\n-              <label for=\"userSelect\">Sélectionner un utilisateur</label>\r\n-              <select id=\"userSelect\" [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n-                <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n-                  Chargement ou aucun utilisateur disponible...\r\n-                </option>\r\n-                <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-                  {{ user.username }} \r\n-                </option>\r\n-              </select>\r\n-            </div>\r\n-            <button type=\"button\" class=\"button-primary\" (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n-              <i class=\"icon-person-add\"></i>\r\n-              Inviter au Projet\r\n-            </button>\r\n-          </div>\r\n-          <p class=\"info-text\">\r\n-            Seuls les utilisateurs non membres du projet sont listés.\r\n-          </p>\r\n+    <!-- Ajouter Membre -->\r\n+    <div *ngIf=\"activeTab === 'add'\" class=\"tab-pane\">\r\n+      <div class=\"add-member-form\">\r\n+        <div class=\"form-group\">\r\n+          <label>Sélectionner un utilisateur</label>\r\n+          <select [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n+            <option [value]=\"null\" disabled>Choisir un utilisateur...</option>\r\n+            <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n+              {{ user.username }} ({{ user.email }})\r\n+            </option>\r\n+          </select>\r\n         </div>\r\n+        <button (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n+          <i class=\"icon-person-add\"></i> Inviter\r\n+        </button>\r\n       </div>\r\n     </div>\r\n   </div>\r\n \r\n+  <!-- Pied de page -->\r\n+  <div class=\"modal-actions\">\r\n+    <button (click)=\"closeDialog()\">Fermer</button>\r\n+  </div>\r\n+</div>\r\n   <!-- Pied de la modale -->\r\n   <div class=\"modal-actions\">\r\n     <button type=\"button\" class=\"button-stroked\" (click)=\"closeDialog()\">Fermer</button>\r\n   </div>\r\n"
                },
                {
                    "date": 1746223615890,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -102,13 +102,9 @@\n       </div>\r\n     </div>\r\n   </div>\r\n \r\n-  <!-- Pied de page -->\r\n-  <div class=\"modal-actions\">\r\n-    <button (click)=\"closeDialog()\">Fermer</button>\r\n-  </div>\r\n-</div>\r\n+\r\n   <!-- Pied de la modale -->\r\n   <div class=\"modal-actions\">\r\n     <button type=\"button\" class=\"button-stroked\" (click)=\"closeDialog()\">Fermer</button>\r\n   </div>\r\n"
                },
                {
                    "date": 1746224115647,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,8 +85,9 @@\n     </div>\r\n \r\n     <!-- Ajouter Membre -->\r\n     <div *ngIf=\"activeTab === 'add'\" class=\"tab-pane\">\r\n+      \r\n       <div class=\"add-member-form\">\r\n         <div class=\"form-group\">\r\n           <label>Sélectionner un utilisateur</label>\r\n           <select [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n"
                },
                {
                    "date": 1746224122750,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -53,8 +53,9 @@\n       </div>\r\n     </div>\r\n \r\n     <!-- Invitations en attente -->\r\n+     bonjour\r\n     <div *ngIf=\"activeTab === 'pending'\" class=\"tab-pane\">\r\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n           <thead>\r\n@@ -85,9 +86,8 @@\n     </div>\r\n \r\n     <!-- Ajouter Membre -->\r\n     <div *ngIf=\"activeTab === 'add'\" class=\"tab-pane\">\r\n-      \r\n       <div class=\"add-member-form\">\r\n         <div class=\"form-group\">\r\n           <label>Sélectionner un utilisateur</label>\r\n           <select [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n"
                },
                {
                    "date": 1746224129711,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -53,14 +53,14 @@\n       </div>\r\n     </div>\r\n \r\n     <!-- Invitations en attente -->\r\n-     bonjour\r\n+     \r\n     <div *ngIf=\"activeTab === 'pending'\" class=\"tab-pane\">\r\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n           <thead>\r\n-            <tr>\r\n+            <tr>bonjour\r\n               <th>Email</th>\r\n               <th>Rôle</th>\r\n               <th>Date</th>\r\n               <th>Actions</th>\r\n"
                },
                {
                    "date": 1746224151414,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,9 +58,9 @@\n     <div *ngIf=\"activeTab === 'pending'\" class=\"tab-pane\">\r\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n           <thead>\r\n-            <tr>bonjour\r\n+            <tr>\r\n               <th>Email</th>\r\n               <th>Rôle</th>\r\n               <th>Date</th>\r\n               <th>Actions</th>\r\n"
                },
                {
                    "date": 1746224293822,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,9 +8,9 @@\n   </div>\r\n \r\n   <!-- Onglets -->\r\n   <div class=\"modal-tabs\">\r\n-    <button class=\"tab-button\" [class.active]=\"activeTab === 'current'\" (click)=\"activeTab = 'current'\">\r\n+    <button class=\"tab-button\" [class.active]=\"activeTab === 'current'\" (click)=\"setActiveTab('current')\">\r\n       Membres Actuels ({{ members.length }})\r\n     </button>\r\n     <button class=\"tab-button\" [class.active]=\"activeTab === 'pending'\" (click)=\"activeTab = 'pending'\">\r\n       Invitations ({{ pendingMembers.length }})\r\n"
                },
                {
                    "date": 1746224304091,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n   <div class=\"modal-tabs\">\r\n     <button class=\"tab-button\" [class.active]=\"activeTab === 'current'\" (click)=\"setActiveTab('current')\">\r\n       Membres Actuels ({{ members.length }})\r\n     </button>\r\n-    <button class=\"tab-button\" [class.active]=\"activeTab === 'pending'\" (click)=\"activeTab = 'pending'\">\r\n+    <button class=\"tab-button\" [class.active]=\"activeTab === 'pending'\" (click)=\"setActiveTab('pending')\">\r\n       Invitations ({{ pendingMembers.length }})\r\n     </button>\r\n     <button class=\"tab-button\" [class.active]=\"activeTab === 'add'\" (click)=\"activeTab = 'add'\">\r\n       Ajouter Membre\r\n"
                },
                {
                    "date": 1746224313888,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n     </button>\r\n     <button class=\"tab-button\" [class.active]=\"activeTab === 'pending'\" (click)=\"setActiveTab('pending')\">\r\n       Invitations ({{ pendingMembers.length }})\r\n     </button>\r\n-    <button class=\"tab-button\" [class.active]=\"activeTab === 'add'\" (click)=\"activeTab = 'add'\">\r\n+    <button class=\"tab-button\" [class.active]=\"activeTab === 'add'\" (click)=\"setActiveTab('add')\">\r\n       Ajouter Membre\r\n     </button>\r\n   </div>\r\n \r\n"
                },
                {
                    "date": 1746224412983,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n \r\n   <!-- Contenu -->\r\n   <div class=\"tab-content\">\r\n     <!-- Membres Actuels -->\r\n-    <div *ngIf=\"activeTab === 'current'\" class=\"tab-pane\">\r\n+    <div *ngIf=\"activeTab === 'current'\" >\r\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n           <thead>\r\n             <tr>\r\n"
                },
                {
                    "date": 1746224419913,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n \r\n   <!-- Contenu -->\r\n   <div class=\"tab-content\">\r\n     <!-- Membres Actuels -->\r\n-    <div *ngIf=\"activeTab === 'current'\" >\r\n+    <div *ngIf=\"activeTab === 'current'\" class=\"tab-pane\">\r\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n           <thead>\r\n             <tr>\r\n@@ -54,9 +54,9 @@\n     </div>\r\n \r\n     <!-- Invitations en attente -->\r\n      \r\n-    <div *ngIf=\"activeTab === 'pending'\" class=\"tab-pane\">\r\n+    <div *ngIf=\"activeTab === 'pending'\" >\r\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n           <thead>\r\n             <tr>\r\n"
                },
                {
                    "date": 1746224552979,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -54,9 +54,9 @@\n     </div>\r\n \r\n     <!-- Invitations en attente -->\r\n      \r\n-    <div *ngIf=\"activeTab === 'pending'\" >\r\n+    <div *ngIf=\"activeTab === 'pending'\" class=\"tab-pane\">\r\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n           <thead>\r\n             <tr>\r\n"
                },
                {
                    "date": 1746224593709,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -54,9 +54,9 @@\n     </div>\r\n \r\n     <!-- Invitations en attente -->\r\n      \r\n-    <div *ngIf=\"activeTab === 'pending'\" class=\"tab-pane\">\r\n+    <div *ngIf=\"activeTab === 'pending'\" >\r\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n           <thead>\r\n             <tr>\r\n"
                },
                {
                    "date": 1746224606016,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -54,9 +54,9 @@\n     </div>\r\n \r\n     <!-- Invitations en attente -->\r\n      \r\n-    <div *ngIf=\"activeTab === 'pending'\" >\r\n+    <div *ngIf=\"activeTab === 'pending'\" class=\"tab-pane\">\r\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n           <thead>\r\n             <tr>\r\n"
                },
                {
                    "date": 1746224612046,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -54,9 +54,9 @@\n     </div>\r\n \r\n     <!-- Invitations en attente -->\r\n      \r\n-    <div *ngIf=\"activeTab === 'pending'\" class=\"tab-pane\">\r\n+    <div *ngIf=\"activeTab === 'pending'\" >\r\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n           <thead>\r\n             <tr>\r\n"
                },
                {
                    "date": 1746224754685,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n \r\n   <!-- Contenu -->\r\n   <div class=\"tab-content\">\r\n     <!-- Membres Actuels -->\r\n-    <div *ngIf=\"activeTab === 'current'\" class=\"tab-pane\">\r\n+    <div *ngIf=\"activeTab === 'current'\"  >\r\n       <div class=\"table-container\">\r\n         <table class=\"members-table\">\r\n           <thead>\r\n             <tr>\r\n@@ -85,22 +85,36 @@\n       </div>\r\n     </div>\r\n \r\n     <!-- Ajouter Membre -->\r\n-    <div *ngIf=\"activeTab === 'add'\" class=\"tab-pane\">\r\n-      <div class=\"add-member-form\">\r\n-        <div class=\"form-group\">\r\n-          <label>Sélectionner un utilisateur</label>\r\n-          <select [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n-            <option [value]=\"null\" disabled>Choisir un utilisateur...</option>\r\n-            <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-              {{ user.username }} ({{ user.email }})\r\n-            </option>\r\n-          </select>\r\n+    <div *ngIf=\"activeTab === 'add'\"  >\r\n+      <div class=\"add-member-section\">\r\n+        <h3>Ajouter un Membre</h3>\r\n+        <div class=\"add-member-form\">\r\n+          <!-- Custom Select/Dropdown -->\r\n+          <div class=\"custom-select-field\" [class.disabled]=\"isLoading\">\r\n+            <label class=\"select-label\">Sélectionner un utilisateur</label>\r\n+            <div class=\"select-wrapper\">\r\n+              <select [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\" [disabled]=\"isLoading\">\r\n+                <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n+                  Chargement ou aucun utilisateur disponible...\r\n+                </option>\r\n+                <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n+                  {{ user.name }} ({{ user.email }})\r\n+                </option>\r\n+              </select>\r\n+              <div class=\"select-arrow\">▼</div>\r\n+            </div>\r\n+          </div>\r\n+      \r\n+          <!-- Bouton Ajouter -->\r\n+          <button type=\"button\" class=\"custom-primary-button\" \r\n+                  (click)=\"sendInvitation()\" \r\n+                  [disabled]=\"!selectedUserId || isLoading\">\r\n+            <span class=\"button-icon\">+</span>\r\n+            <span>Inviter au Projet</span>\r\n+          </button>\r\n         </div>\r\n-        <button (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n-          <i class=\"icon-person-add\"></i> Inviter\r\n-        </button>\r\n       </div>\r\n     </div>\r\n   </div>\r\n \r\n"
                },
                {
                    "date": 1746224774345,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,35 +86,21 @@\n     </div>\r\n \r\n     <!-- Ajouter Membre -->\r\n     <div *ngIf=\"activeTab === 'add'\"  >\r\n-      <div class=\"add-member-section\">\r\n-        <h3>Ajouter un Membre</h3>\r\n-        <div class=\"add-member-form\">\r\n-          <!-- Custom Select/Dropdown -->\r\n-          <div class=\"custom-select-field\" [class.disabled]=\"isLoading\">\r\n-            <label class=\"select-label\">Sélectionner un utilisateur</label>\r\n-            <div class=\"select-wrapper\">\r\n-              <select [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\" [disabled]=\"isLoading\">\r\n-                <option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n-                  Chargement ou aucun utilisateur disponible...\r\n-                </option>\r\n-                <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-                  {{ user.name }} ({{ user.email }})\r\n-                </option>\r\n-              </select>\r\n-              <div class=\"select-arrow\">▼</div>\r\n-            </div>\r\n-          </div>\r\n-      \r\n-          <!-- Bouton Ajouter -->\r\n-          <button type=\"button\" class=\"custom-primary-button\" \r\n-                  (click)=\"sendInvitation()\" \r\n-                  [disabled]=\"!selectedUserId || isLoading\">\r\n-            <span class=\"button-icon\">+</span>\r\n-            <span>Inviter au Projet</span>\r\n-          </button>\r\n+      <div class=\"add-member-form\">\r\n+        <div class=\"form-group\">\r\n+          <label>Sélectionner un utilisateur</label>\r\n+          <select [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n+            <option [value]=\"null\" disabled>Choisir un utilisateur...</option>\r\n+            <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n+              {{ user.username }} ({{ user.email }})\r\n+            </option>\r\n+          </select>\r\n         </div>\r\n+        <button (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n+          <i class=\"icon-person-add\"></i> Inviter\r\n+        </button>\r\n       </div>\r\n     </div>\r\n   </div>\r\n \r\n"
                },
                {
                    "date": 1746224907959,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,25 +85,38 @@\n       </div>\r\n     </div>\r\n \r\n     <!-- Ajouter Membre -->\r\n-    <div *ngIf=\"activeTab === 'add'\"  >\r\n-      <div class=\"add-member-form\">\r\n-        <div class=\"form-group\">\r\n-          <label>Sélectionner un utilisateur</label>\r\n-          <select [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n-            <option [value]=\"null\" disabled>Choisir un utilisateur...</option>\r\n-            <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-              {{ user.username }} ({{ user.email }})\r\n-            </option>\r\n-          </select>\r\n-        </div>\r\n-        <button (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n-          <i class=\"icon-person-add\"></i> Inviter\r\n-        </button>\r\n+    <!-- Ajouter Membre -->\r\n+<div *ngIf=\"activeTab === 'add'\">\r\n+  <div class=\"add-member-section\">\r\n+    <h3>Ajouter un Membre</h3>\r\n+    <div class=\"add-member-form\">\r\n+      <div class=\"form-group\">\r\n+        <label>Sélectionner un utilisateur</label>\r\n+        <select [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\" [disabled]=\"isLoading\">\r\n+          <option [value]=\"null\" disabled>Choisir un utilisateur...</option>\r\n+          <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n+            {{ user.username }} ({{ user.email }})\r\n+          </option>\r\n+        </select>\r\n       </div>\r\n+\r\n+      <div class=\"form-group\">\r\n+        <label>Sélectionner un rôle</label>\r\n+        <select [(ngModel)]=\"selectedRole\" [disabled]=\"!selectedUserId || isLoading\">\r\n+          <option value=\"MEMBER\">Membre</option>\r\n+          <option value=\"CLIENT\">Client</option>\r\n+        </select>\r\n+      </div>\r\n+\r\n+      <button (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n+        <i class=\"icon-person-add\"></i> Inviter\r\n+      </button>\r\n     </div>\r\n   </div>\r\n+</div>\r\n+  </div>\r\n \r\n \r\n   <!-- Pied de la modale -->\r\n   <div class=\"modal-actions\">\r\n"
                },
                {
                    "date": 1746225150577,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,38 +85,25 @@\n       </div>\r\n     </div>\r\n \r\n     <!-- Ajouter Membre -->\r\n-    <!-- Ajouter Membre -->\r\n-<div *ngIf=\"activeTab === 'add'\">\r\n-  <div class=\"add-member-section\">\r\n-    <h3>Ajouter un Membre</h3>\r\n-    <div class=\"add-member-form\">\r\n-      <div class=\"form-group\">\r\n-        <label>Sélectionner un utilisateur</label>\r\n-        <select [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\" [disabled]=\"isLoading\">\r\n-          <option [value]=\"null\" disabled>Choisir un utilisateur...</option>\r\n-          <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-            {{ user.username }} ({{ user.email }})\r\n-          </option>\r\n-        </select>\r\n+    <div *ngIf=\"activeTab === 'add'\"  >\r\n+      <div class=\"add-member-form\">\r\n+        <div class=\"form-group\">\r\n+          <label>Sélectionner un utilisateur</label>\r\n+          <select [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n+            <option [value]=\"null\" disabled>Choisir un utilisateur...</option>\r\n+            <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n+              {{ user.username }} ({{ user.email }})\r\n+            </option>\r\n+          </select>\r\n+        </div>\r\n+        <button (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n+          <i class=\"icon-person-add\"></i> Inviter\r\n+        </button>\r\n       </div>\r\n-\r\n-      <div class=\"form-group\">\r\n-        <label>Sélectionner un rôle</label>\r\n-        <select [(ngModel)]=\"selectedRole\" [disabled]=\"!selectedUserId || isLoading\">\r\n-          <option value=\"MEMBER\">Membre</option>\r\n-          <option value=\"CLIENT\">Client</option>\r\n-        </select>\r\n-      </div>\r\n-\r\n-      <button (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n-        <i class=\"icon-person-add\"></i> Inviter\r\n-      </button>\r\n     </div>\r\n   </div>\r\n-</div>\r\n-  </div>\r\n \r\n \r\n   <!-- Pied de la modale -->\r\n   <div class=\"modal-actions\">\r\n"
                },
                {
                    "date": 1746225987791,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,25 +85,38 @@\n       </div>\r\n     </div>\r\n \r\n     <!-- Ajouter Membre -->\r\n-    <div *ngIf=\"activeTab === 'add'\"  >\r\n-      <div class=\"add-member-form\">\r\n-        <div class=\"form-group\">\r\n-          <label>Sélectionner un utilisateur</label>\r\n-          <select [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\">\r\n-            <option [value]=\"null\" disabled>Choisir un utilisateur...</option>\r\n-            <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-              {{ user.username }} ({{ user.email }})\r\n-            </option>\r\n-          </select>\r\n-        </div>\r\n-        <button (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n-          <i class=\"icon-person-add\"></i> Inviter\r\n-        </button>\r\n+    <!-- Ajouter Membre -->\r\n+<div *ngIf=\"activeTab === 'add'\">\r\n+  <div class=\"add-member-section\">\r\n+    <h3>Ajouter un Membre</h3>\r\n+    <div class=\"add-member-form\">\r\n+      <div class=\"form-group\">\r\n+        <label>Sélectionner un utilisateur</label>\r\n+        <select [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\" [disabled]=\"isLoading\">\r\n+          <option [value]=\"null\" disabled>Choisir un utilisateur...</option>\r\n+          <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n+            {{ user.username }} ({{ user.email }})\r\n+          </option>\r\n+        </select>\r\n       </div>\r\n+\r\n+      <div class=\"form-group\">\r\n+        <label>Sélectionner un rôle</label>\r\n+        <select [(ngModel)]=\"selectedRole\" [disabled]=\"!selectedUserId || isLoading\">\r\n+          <option value=\"MEMBER\">Membre</option>\r\n+          <option value=\"CLIENT\">Client</option>\r\n+        </select>\r\n+      </div>\r\n+\r\n+      <button (click)=\"sendInvitation()\" [disabled]=\"!selectedUserId || isLoading\">\r\n+        <i class=\"icon-person-add \"></i> Inviter\r\n+      </button>\r\n     </div>\r\n   </div>\r\n+</div>\r\n+  </div>\r\n \r\n \r\n   <!-- Pied de la modale -->\r\n   <div class=\"modal-actions\">\r\n"
                },
                {
                    "date": 1746226645703,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -95,9 +95,9 @@\n         <label>Sélectionner un utilisateur</label>\r\n         <select [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\" [disabled]=\"isLoading\">\r\n           <option [value]=\"null\" disabled>Choisir un utilisateur...</option>\r\n           <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-            {{ user.username }} ({{ user.email }})\r\n+            {{ user.username }}\r\n           </option>\r\n         </select>\r\n       </div>\r\n \r\n"
                },
                {
                    "date": 1746226773600,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,11 +93,13 @@\n     <div class=\"add-member-form\">\r\n       <div class=\"form-group\">\r\n         <label>Sélectionner un utilisateur</label>\r\n         <select [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\" [disabled]=\"isLoading\">\r\n-          <option [value]=\"null\" disabled>Choisir un utilisateur...</option>\r\n+          <option *ngIf=\"usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n+            Chargement ou aucun utilisateur disponible...\r\n+          </option>\r\n           <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-            {{ user.username }}\r\n+            {{ user.username || user.name || user.email }}\r\n           </option>\r\n         </select>\r\n       </div>\r\n \r\n"
                },
                {
                    "date": 1746227061403,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,14 +92,19 @@\n     <h3>Ajouter un Membre</h3>\r\n     <div class=\"add-member-form\">\r\n       <div class=\"form-group\">\r\n         <label>Sélectionner un utilisateur</label>\r\n-        <select [(ngModel)]=\"selectedUserId\" (focus)=\"getMembersGroup()\" [disabled]=\"isLoading\">\r\n-          <option *ngIf=\"usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n-            Chargement ou aucun utilisateur disponible...\r\n+        <select [(ngModel)]=\"selectedUserId\" \r\n+                (focus)=\"getMembersGroup()\" \r\n+                [disabled]=\"isLoading\"\r\n+                class=\"custom-select\">\r\n+          <option [ngValue]=\"null\" disabled>\r\n+            {{ usersToAdd.length === 0 ? 'Aucun utilisateur disponible' : 'Sélectionnez...' }}\r\n           </option>\r\n-          <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-            {{ user.username || user.name || user.email }}\r\n+          <option *ngFor=\"let user of usersToAdd\" \r\n+                  [ngValue]=\"user.id\"\r\n+                  [title]=\"user.email\">\r\n+            {{ user.username || user.name }} ({{ user.email }})\r\n           </option>\r\n         </select>\r\n       </div>\r\n \r\n"
                },
                {
                    "date": 1746227361147,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,20 +92,12 @@\n     <h3>Ajouter un Membre</h3>\r\n     <div class=\"add-member-form\">\r\n       <div class=\"form-group\">\r\n         <label>Sélectionner un utilisateur</label>\r\n-        <select [(ngModel)]=\"selectedUserId\" \r\n-                (focus)=\"getMembersGroup()\" \r\n-                [disabled]=\"isLoading\"\r\n-                class=\"custom-select\">\r\n-          <option [ngValue]=\"null\" disabled>\r\n-            {{ usersToAdd.length === 0 ? 'Aucun utilisateur disponible' : 'Sélectionnez...' }}\r\n+        <select [(ngModel)]=\"selectedUserId\" #userSelect>\r\n+          <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n+            {{ user.username }}\r\n           </option>\r\n-          <option *ngFor=\"let user of usersToAdd\" \r\n-                  [ngValue]=\"user.id\"\r\n-                  [title]=\"user.email\">\r\n-            {{ user.username || user.name }} ({{ user.email }})\r\n-          </option>\r\n         </select>\r\n       </div>\r\n \r\n       <div class=\"form-group\">\r\n"
                },
                {
                    "date": 1746227400751,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,13 +92,13 @@\n     <h3>Ajouter un Membre</h3>\r\n     <div class=\"add-member-form\">\r\n       <div class=\"form-group\">\r\n         <label>Sélectionner un utilisateur</label>\r\n-        <select [(ngModel)]=\"selectedUserId\" #userSelect>\r\n-          <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-            {{ user.username }}\r\n-          </option>\r\n-        </select>\r\n+       <select [(ngModel)]=\"selectedUserId\" #userSelect>\r\n+  <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n+    {{ user.username }}\r\n+  </option>\r\n+</select>\r\n       </div>\r\n \r\n       <div class=\"form-group\">\r\n         <label>Sélectionner un rôle</label>\r\n"
                },
                {
                    "date": 1746227476790,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,13 +92,21 @@\n     <h3>Ajouter un Membre</h3>\r\n     <div class=\"add-member-form\">\r\n       <div class=\"form-group\">\r\n         <label>Sélectionner un utilisateur</label>\r\n-       <select [(ngModel)]=\"selectedUserId\" #userSelect>\r\n-  <option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-    {{ user.username }}\r\n-  </option>\r\n-</select>\r\n+        <select [(ngModel)]=\"selectedUserId\" \r\n+                (focus)=\"getMembersGroup()\" \r\n+                \r\n+                class=\"custom-select\">\r\n+          <option [ngValue]=\"null\" disabled>\r\n+            {{ usersToAdd.length === 0 ? 'Aucun utilisateur disponible' : 'Sélectionnez...' }}\r\n+          </option>\r\n+          <option *ngFor=\"let user of usersToAdd\" \r\n+                  [ngValue]=\"user.id\"\r\n+                  [title]=\"user.email\">\r\n+            {{ user.username || user.name }} ({{ user.email }})\r\n+          </option>\r\n+        </select>\r\n       </div>\r\n \r\n       <div class=\"form-group\">\r\n         <label>Sélectionner un rôle</label>\r\n"
                },
                {
                    "date": 1746255086171,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,8 +42,10 @@\n               <td>\r\n                 <button (click)=\"removeMember(member)\" class=\"button-icon button-warn\">\r\n                   <i class=\"icon-person-remove\"></i>\r\n                 </button>\r\n+\r\n+                \r\n               </td>\r\n             </tr>\r\n           </tbody>\r\n         </table>\r\n"
                },
                {
                    "date": 1746255096344,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,10 +42,18 @@\n               <td>\r\n                 <button (click)=\"removeMember(member)\" class=\"button-icon button-warn\">\r\n                   <i class=\"icon-person-remove\"></i>\r\n                 </button>\r\n+                <ng-container >\r\n+                  <button mat-icon-button class=\"edit-btn\" (click)=\"editUser(user)\" title=\"Modifier\" [disabled]=\"isDeletingUser === user.id || !!editingUserId\">\r\n+                    <i class=\"bi bi-pencil\"></i> <!-- Using MatIcon -->\r\n+                  </button>\r\n+                  <button mat-icon-button class=\"delete-btn\" (click)=\"deleteUser(user)\" title=\"Supprimer\" [disabled]=\"isDeletingUser === user.id || !!editingUserId\">\r\n+                    <i *ngIf=\"isDeletingUser !== user.id\" class=\"bi bi-trash\"></i> \r\n+                    <mat-spinner *ngIf=\"isDeletingUser === user.id\" [diameter]=\"20\"></mat-spinner>\r\n+                  </button>\r\n+                </ng-container>\r\n \r\n-                \r\n               </td>\r\n             </tr>\r\n           </tbody>\r\n         </table>\r\n"
                },
                {
                    "date": 1746255110038,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,11 +43,9 @@\n                 <button (click)=\"removeMember(member)\" class=\"button-icon button-warn\">\r\n                   <i class=\"icon-person-remove\"></i>\r\n                 </button>\r\n                 <ng-container >\r\n-                  <button mat-icon-button class=\"edit-btn\" (click)=\"editUser(user)\" title=\"Modifier\" [disabled]=\"isDeletingUser === user.id || !!editingUserId\">\r\n-                    <i class=\"bi bi-pencil\"></i> <!-- Using MatIcon -->\r\n-                  </button>\r\n+                  \r\n                   <button mat-icon-button class=\"delete-btn\" (click)=\"deleteUser(user)\" title=\"Supprimer\" [disabled]=\"isDeletingUser === user.id || !!editingUserId\">\r\n                     <i *ngIf=\"isDeletingUser !== user.id\" class=\"bi bi-trash\"></i> \r\n                     <mat-spinner *ngIf=\"isDeletingUser === user.id\" [diameter]=\"20\"></mat-spinner>\r\n                   </button>\r\n"
                },
                {
                    "date": 1746255116412,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,9 +44,9 @@\n                   <i class=\"icon-person-remove\"></i>\r\n                 </button>\r\n                 <ng-container >\r\n                   \r\n-                  <button mat-icon-button class=\"delete-btn\" (click)=\"deleteUser(user)\" title=\"Supprimer\" [disabled]=\"isDeletingUser === user.id || !!editingUserId\">\r\n+                  <button mat-icon-button class=\"delete-btn\" (click)=\"removeMember(user)\" title=\"Supprimer\" [disabled]=\"isDeletingUser === user.id || !!editingUserId\">\r\n                     <i *ngIf=\"isDeletingUser !== user.id\" class=\"bi bi-trash\"></i> \r\n                     <mat-spinner *ngIf=\"isDeletingUser === user.id\" [diameter]=\"20\"></mat-spinner>\r\n                   </button>\r\n                 </ng-container>\r\n"
                },
                {
                    "date": 1746255132028,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,10 +44,10 @@\n                   <i class=\"icon-person-remove\"></i>\r\n                 </button>\r\n                 <ng-container >\r\n                   \r\n-                  <button mat-icon-button class=\"delete-btn\" (click)=\"removeMember(user)\" title=\"Supprimer\" [disabled]=\"isDeletingUser === user.id || !!editingUserId\">\r\n-                    <i *ngIf=\"isDeletingUser !== user.id\" class=\"bi bi-trash\"></i> \r\n+                  <button mat-icon-button class=\"delete-btn\" (click)=\"removeMember(member)\" title=\"Supprimer\" [disabled]=\"isDeletingUser === user.id || !!editingUserId\">\r\n+                    <i  class=\"bi bi-trash\"></i> \r\n                     <mat-spinner *ngIf=\"isDeletingUser === user.id\" [diameter]=\"20\"></mat-spinner>\r\n                   </button>\r\n                 </ng-container>\r\n \r\n"
                },
                {
                    "date": 1746255137551,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,9 +46,9 @@\n                 <ng-container >\r\n                   \r\n                   <button mat-icon-button class=\"delete-btn\" (click)=\"removeMember(member)\" title=\"Supprimer\" [disabled]=\"isDeletingUser === user.id || !!editingUserId\">\r\n                     <i  class=\"bi bi-trash\"></i> \r\n-                    <mat-spinner *ngIf=\"isDeletingUser === user.id\" [diameter]=\"20\"></mat-spinner>\r\n+                    <mat-spinner  [diameter]=\"20\"></mat-spinner>\r\n                   </button>\r\n                 </ng-container>\r\n \r\n               </td>\r\n"
                },
                {
                    "date": 1746255143962,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,9 +44,9 @@\n                   <i class=\"icon-person-remove\"></i>\r\n                 </button>\r\n                 <ng-container >\r\n                   \r\n-                  <button mat-icon-button class=\"delete-btn\" (click)=\"removeMember(member)\" title=\"Supprimer\" [disabled]=\"isDeletingUser === user.id || !!editingUserId\">\r\n+                  <button mat-icon-button class=\"delete-btn\" (click)=\"removeMember(member)\" title=\"Supprimer\" >\r\n                     <i  class=\"bi bi-trash\"></i> \r\n                     <mat-spinner  [diameter]=\"20\"></mat-spinner>\r\n                   </button>\r\n                 </ng-container>\r\n"
                },
                {
                    "date": 1746255170372,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,9 +42,9 @@\n               <td>\r\n                 <button (click)=\"removeMember(member)\" class=\"button-icon button-warn\">\r\n                   <i class=\"icon-person-remove\"></i>\r\n                 </button>\r\n-                <ng-container >\r\n+               \r\n                   \r\n                   <button mat-icon-button class=\"delete-btn\" (click)=\"removeMember(member)\" title=\"Supprimer\" >\r\n                     <i  class=\"bi bi-trash\"></i> \r\n                     <mat-spinner  [diameter]=\"20\"></mat-spinner>\r\n"
                },
                {
                    "date": 1746255202145,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,17 +40,17 @@\n               <td>{{ member.email }}</td>\r\n               <td><span class=\"role-badge\">{{ member.role }}</span></td>\r\n               <td>\r\n                 <button (click)=\"removeMember(member)\" class=\"button-icon button-warn\">\r\n-                  <i class=\"icon-person-remove\"></i>\r\n+                  <i  class=\"bi bi-trash\"></i> \r\n                 </button>\r\n                \r\n                   \r\n                   <button mat-icon-button class=\"delete-btn\" (click)=\"removeMember(member)\" title=\"Supprimer\" >\r\n                     <i  class=\"bi bi-trash\"></i> \r\n                     <mat-spinner  [diameter]=\"20\"></mat-spinner>\r\n                   </button>\r\n-                </ng-container>\r\n+                \r\n \r\n               </td>\r\n             </tr>\r\n           </tbody>\r\n"
                },
                {
                    "date": 1746255288348,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,14 +42,8 @@\n               <td>\r\n                 <button (click)=\"removeMember(member)\" class=\"button-icon button-warn\">\r\n                   <i  class=\"bi bi-trash\"></i> \r\n                 </button>\r\n-               \r\n-                  \r\n-                  <button mat-icon-button class=\"delete-btn\" (click)=\"removeMember(member)\" title=\"Supprimer\" >\r\n-                    <i  class=\"bi bi-trash\"></i> \r\n-                    <mat-spinner  [diameter]=\"20\"></mat-spinner>\r\n-                  </button>\r\n                 \r\n \r\n               </td>\r\n             </tr>\r\n"
                },
                {
                    "date": 1746255346157,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,9 +40,9 @@\n               <td>{{ member.email }}</td>\r\n               <td><span class=\"role-badge\">{{ member.role }}</span></td>\r\n               <td>\r\n                 <button (click)=\"removeMember(member)\" class=\"button-icon button-warn\">\r\n-                  <i  class=\"bi bi-trash\"></i> \r\n+                  <i  class=\"bi bi-trash\">Anuuler</i> \r\n                 </button>\r\n                 \r\n \r\n               </td>\r\n"
                },
                {
                    "date": 1746255358443,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,9 +40,9 @@\n               <td>{{ member.email }}</td>\r\n               <td><span class=\"role-badge\">{{ member.role }}</span></td>\r\n               <td>\r\n                 <button (click)=\"removeMember(member)\" class=\"button-icon button-warn\">\r\n-                  <i  class=\"bi bi-trash\">Anuuler</i> \r\n+                  <i  class=\"bi bi-trash\">Anuuler\r\n                 </button>\r\n                 \r\n \r\n               </td>\r\n"
                },
                {
                    "date": 1746255384319,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,11 +38,11 @@\n             <tr *ngFor=\"let member of members\">\r\n               <td>{{ member.name }}</td>\r\n               <td>{{ member.email }}</td>\r\n               <td><span class=\"role-badge\">{{ member.role }}</span></td>\r\n-              <td>\r\n+              <td (click)=\"removeMember(member)\">\r\n                 <button (click)=\"removeMember(member)\" class=\"button-icon button-warn\">\r\n-                  <i  class=\"bi bi-trash\">Anuuler\r\n+                  Anuuler\r\n                 </button>\r\n                 \r\n \r\n               </td>\r\n"
                },
                {
                    "date": 1746255410434,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,9 +38,9 @@\n             <tr *ngFor=\"let member of members\">\r\n               <td>{{ member.name }}</td>\r\n               <td>{{ member.email }}</td>\r\n               <td><span class=\"role-badge\">{{ member.role }}</span></td>\r\n-              <td (click)=\"removeMember(member)\">\r\n+              <td >\r\n                 <button (click)=\"removeMember(member)\" class=\"button-icon button-warn\">\r\n                   Anuuler\r\n                 </button>\r\n                 \r\n"
                },
                {
                    "date": 1746255425346,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,11 +38,11 @@\n             <tr *ngFor=\"let member of members\">\r\n               <td>{{ member.name }}</td>\r\n               <td>{{ member.email }}</td>\r\n               <td><span class=\"role-badge\">{{ member.role }}</span></td>\r\n-              <td >\r\n+              <td>\r\n                 <button (click)=\"removeMember(member)\" class=\"button-icon button-warn\">\r\n-                  Anuuler\r\n+                  <i  class=\"bi bi-trash\"></i> \r\n                 </button>\r\n                 \r\n \r\n               </td>\r\n"
                },
                {
                    "date": 1746255441793,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,8 +76,9 @@\n               <td>\r\n                 <button (click)=\"cancelInvitation(pending)\" class=\"button-icon button-warn\">\r\n                   <i class=\"icon-cancel\"></i>\r\n                 </button>\r\n+                \r\n               </td>\r\n             </tr>\r\n           </tbody>\r\n         </table>\r\n"
                },
                {
                    "date": 1746255450866,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,11 @@\n               <td>\r\n                 <button (click)=\"cancelInvitation(pending)\" class=\"button-icon button-warn\">\r\n                   <i class=\"icon-cancel\"></i>\r\n                 </button>\r\n-                \r\n+                <button (click)=\"cancelInvitation(member)\" class=\"button-icon button-warn\">\r\n+                  <i  class=\"bi bi-trash\"></i> \r\n+                </button>\r\n               </td>\r\n             </tr>\r\n           </tbody>\r\n         </table>\r\n"
                },
                {
                    "date": 1746255461694,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,10 +76,10 @@\n               <td>\r\n                 <button (click)=\"cancelInvitation(pending)\" class=\"button-icon button-warn\">\r\n                   <i class=\"icon-cancel\"></i>\r\n                 </button>\r\n-                <button (click)=\"cancelInvitation(member)\" class=\"button-icon button-warn\">\r\n-                  <i  class=\"bi bi-trash\"></i> \r\n+                <button (click)=\"cancelInvitation(pending)\" class=\"button-icon button-warn\">\r\n+                  <i  class=\"bi bi-trash\">Annuler</i> \r\n                 </button>\r\n               </td>\r\n             </tr>\r\n           </tbody>\r\n"
                },
                {
                    "date": 1746255473361,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,9 +77,9 @@\n                 <button (click)=\"cancelInvitation(pending)\" class=\"button-icon button-warn\">\r\n                   <i class=\"icon-cancel\"></i>\r\n                 </button>\r\n                 <button (click)=\"cancelInvitation(pending)\" class=\"button-icon button-warn\">\r\n-                  <i  class=\"bi bi-trash\">Annuler</i> \r\n+                  <i  class=\"bi bi-trash\"></i> \r\n                 </button>\r\n               </td>\r\n             </tr>\r\n           </tbody>\r\n"
                },
                {
                    "date": 1746255488210,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,8 +42,11 @@\n               <td>\r\n                 <button (click)=\"removeMember(member)\" class=\"button-icon button-warn\">\r\n                   <i  class=\"bi bi-trash\"></i> \r\n                 </button>\r\n+                <button (click)=\"cancelInvitation(pending)\" class=\"button-icon button-warn\">\r\n+                  <i  class=\"bi bi-trash\"></i> \r\n+                </button>\r\n                 \r\n \r\n               </td>\r\n             </tr>\r\n@@ -73,12 +76,10 @@\n               <td>{{ pending.emailUser }}</td>\r\n               <td><span class=\"role-badge\">{{ pending.role }}</span></td>\r\n               <td>{{ pending.createdAt | date:'shortDate' }}</td>\r\n               <td>\r\n+               \r\n                 <button (click)=\"cancelInvitation(pending)\" class=\"button-icon button-warn\">\r\n-                  <i class=\"icon-cancel\"></i>\r\n-                </button>\r\n-                <button (click)=\"cancelInvitation(pending)\" class=\"button-icon button-warn\">\r\n                   <i  class=\"bi bi-trash\"></i> \r\n                 </button>\r\n               </td>\r\n             </tr>\r\n"
                },
                {
                    "date": 1746255495165,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,14 +39,12 @@\n               <td>{{ member.name }}</td>\r\n               <td>{{ member.email }}</td>\r\n               <td><span class=\"role-badge\">{{ member.role }}</span></td>\r\n               <td>\r\n-                <button (click)=\"removeMember(member)\" class=\"button-icon button-warn\">\r\n+                \r\n+                <button (click)=\"removeMember(pending)\" class=\"button-icon button-warn\">\r\n                   <i  class=\"bi bi-trash\"></i> \r\n                 </button>\r\n-                <button (click)=\"cancelInvitation(pending)\" class=\"button-icon button-warn\">\r\n-                  <i  class=\"bi bi-trash\"></i> \r\n-                </button>\r\n                 \r\n \r\n               </td>\r\n             </tr>\r\n"
                },
                {
                    "date": 1746282372928,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,9 +40,9 @@\n               <td>{{ member.email }}</td>\r\n               <td><span class=\"role-badge\">{{ member.role }}</span></td>\r\n               <td>\r\n                 \r\n-                <button (click)=\"removeMember(pending)\" class=\"button-icon button-warn\">\r\n+                <button (click)=\"removeMember(member)\" class=\"button-icon button-warn\">\r\n                   <i  class=\"bi bi-trash\"></i> \r\n                 </button>\r\n                 \r\n \r\n@@ -75,9 +75,9 @@\n               <td><span class=\"role-badge\">{{ pending.role }}</span></td>\r\n               <td>{{ pending.createdAt | date:'shortDate' }}</td>\r\n               <td>\r\n                \r\n-                <button (click)=\"cancelInvitation(pending)\" class=\"button-icon button-warn\">\r\n+                <button (click)=\"cancelInvitation(pending.idAccess)\" class=\"button-icon button-warn\">\r\n                   <i  class=\"bi bi-trash\"></i> \r\n                 </button>\r\n               </td>\r\n             </tr>\r\n"
                },
                {
                    "date": 1746282461833,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,9 +75,9 @@\n               <td><span class=\"role-badge\">{{ pending.role }}</span></td>\r\n               <td>{{ pending.createdAt | date:'shortDate' }}</td>\r\n               <td>\r\n                \r\n-                <button (click)=\"cancelInvitation(pending.idAccess)\" class=\"button-icon button-warn\">\r\n+                <button (click)=\"cancelInvitation(pending)\" class=\"button-icon button-warn\">\r\n                   <i  class=\"bi bi-trash\"></i> \r\n                 </button>\r\n               </td>\r\n             </tr>\r\n"
                },
                {
                    "date": 1746437487739,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,9 +8,9 @@\n   </div>\r\n \r\n   <!-- Onglets -->\r\n   <div class=\"modal-tabs\">\r\n-    <button class=\"tab-button\" [class.active]=\"activeTab === 'current'\" (click)=\"setActiveTab('current')\">\r\n+    <button class=\"tab-button\"  [class.active]=\"activeTab === 'current'\" (click)=\"setActiveTab('current')\">\r\n       Membres Actuels ({{ members.length }})\r\n     </button>\r\n     <button class=\"tab-button\" [class.active]=\"activeTab === 'pending'\" (click)=\"setActiveTab('pending')\">\r\n       Invitations ({{ pendingMembers.length }})\r\n"
                },
                {
                    "date": 1746437493755,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,9 +8,9 @@\n   </div>\r\n \r\n   <!-- Onglets -->\r\n   <div class=\"modal-tabs\">\r\n-    <button class=\"tab-button\" *ngIf=\"expression\" [class.active]=\"activeTab === 'current'\" (click)=\"setActiveTab('current')\">\r\n+    <button class=\"tab-button\" *ngIf=\"viewInvitations\" [class.active]=\"activeTab === 'current'\" (click)=\"setActiveTab('current')\">\r\n       Membres Actuels ({{ members.length }})\r\n     </button>\r\n     <button class=\"tab-button\" [class.active]=\"activeTab === 'pending'\" (click)=\"setActiveTab('pending')\">\r\n       Invitations ({{ pendingMembers.length }})\r\n"
                }
            ],
            "date": 1746216026471,
            "name": "Commit-0",
            "content": "<!-- Titre de la Modale -->\r\n<h2 mat-dialog-title>\r\n    Membres du Projet : {{ project?.name || 'Projet sans nom' }}\r\n    <button mat-icon-button (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </h2>\r\n  \r\n  <!-- Contenu de la Modale -->\r\n  <mat-dialog-content class=\"mat-typography\">\r\n  \r\n    <!-- Indicateur de chargement global -->\r\n    <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n      <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\r\n    </div>\r\n  \r\n    <!-- Section: Liste des Membres Actuels -->\r\n    <div class=\"members-list-section\">\r\n      <h3>Membres Actuels ({{ members.length }})</h3>\r\n      <div class=\"table-container mat-elevation-z2\">\r\n        <table mat-table [dataSource]=\"members\" class=\"members-table\">\r\n  \r\n          <!-- Colonne Avatar/Nom -->\r\n          <ng-container matColumnDef=\"name\">\r\n            <th mat-header-cell *matHeaderCellDef> Nom Complet </th>\r\n            <td mat-cell *matCellDef=\"let member\">\r\n              <img [src]=\"getMemberAvatar(member)\" alt=\"Avatar\" class=\"member-avatar\">\r\n              <span>{{ getMemberFullName(member) }}</span>\r\n            </td>\r\n          </ng-container>\r\n  \r\n          <!-- Colonne Email -->\r\n          <ng-container matColumnDef=\"email\">\r\n            <th mat-header-cell *matHeaderCellDef> Email </th>\r\n            <td mat-cell *matCellDef=\"let member\"> {{ getMemberEmail(member) }} </td>\r\n          </ng-container>\r\n  \r\n          <!-- Colonne Rôle -->\r\n          <ng-container matColumnDef=\"role\">\r\n            <th mat-header-cell *matHeaderCellDef> Rôle </th>\r\n            <td mat-cell *matCellDef=\"let member\">\r\n              <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n            </td>\r\n          </ng-container>\r\n  \r\n          <!-- Colonne Actions (Supprimer) -->\r\n          <ng-container matColumnDef=\"actions\">\r\n            <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n            <td mat-cell *matCellDef=\"let member\">\r\n              <button mat-icon-button color=\"warn\" (click)=\"removeMember(member)\" matTooltip=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n                <mat-icon>person_remove</mat-icon>\r\n              </button>\r\n            </td>\r\n          </ng-container>\r\n  \r\n          <!-- Définition des lignes -->\r\n          <tr mat-header-row *matHeaderRowDef=\"['name', 'email', 'role', 'actions']\"></tr>\r\n          <tr mat-row *matRowDef=\"let row; columns: ['name', 'email', 'role', 'actions'];\"></tr>\r\n  \r\n        </table>\r\n         <!-- Message si aucune donnée -->\r\n         <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n           Aucun membre n'est actuellement assigné à ce projet.\r\n         </div>\r\n      </div>\r\n    </div>\r\n  \r\n    <mat-divider></mat-divider>\r\n  \r\n    <!-- Section: Ajouter un Membre -->\r\n    <div class=\"add-member-section\">\r\n      <h3>Ajouter un Membre</h3>\r\n      <div class=\"add-member-form\">\r\n         <!-- Option: Select/Dropdown (plus simple) -->\r\n         <mat-form-field appearance=\"outline\" class=\"user-select-field\">\r\n           <mat-label>Sélectionner un utilisateur</mat-label>\r\n           <mat-select [(ngModel)]=\"selectedUserId\" (focus)=\"loadPotentialMembers()\" [disabled]=\"isLoading\">\r\n              <mat-option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n                Chargement ou aucun utilisateur disponible...\r\n              </mat-option>\r\n             <mat-option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n               {{ user.name }} ({{ user.email }})\r\n             </mat-option>\r\n           </mat-select>\r\n         </mat-form-field>\r\n  \r\n         <!-- Bouton Ajouter -->\r\n         <button mat-flat-button color=\"primary\" (click)=\"addMember()\" [disabled]=\"!selectedUserId || isLoading\">\r\n           <mat-icon>person_add</mat-icon>\r\n           Ajouter au Projet\r\n         </button>\r\n  \r\n         <!-- Alternative: Autocomplete (plus complexe, nécessite plus de logique TS) -->\r\n         <!-- Mettez ici le code pour un mat-autocomplete si vous préférez -->\r\n      </div>\r\n       <p class=\"info-text\">\r\n         Seuls les utilisateurs non membres du projet sont listés.\r\n         La logique d'ajout/suppression est simulée ici.\r\n       </p>\r\n    </div>\r\n  \r\n  </mat-dialog-content>\r\n  \r\n  <!-- Actions de la Modale (Bouton Fermer) -->\r\n  <mat-dialog-actions align=\"end\">\r\n    <button mat-stroked-button (click)=\"closeDialog()\">Fermer</button>\r\n    <!-- Pas besoin de bouton \"Sauvegarder\" si les actions sont immédiates -->\r\n  </mat-dialog-actions>\r\n  "
        }
    ]
}