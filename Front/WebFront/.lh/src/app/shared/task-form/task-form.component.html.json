{
    "sourceFile": "src/app/shared/task-form/task-form.component.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1746386414129,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1746389172493,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n <div class=\"user-form-container\"> <!-- Utilisation de la même classe racine -->\r\n-    <h2>Nouvelle Tâche</h2>\r\n+    <h2>{{ isEditMode ? 'Modifier la Tâche' : 'Nouvelle Tâche' }}</h2>\r\n+\r\n   \r\n     <form [formGroup]=\"taskForm\" (ngSubmit)=\"saveTask()\" novalidate>\r\n   \r\n       <!-- Champ Nom de la Tâche -->\r\n"
                },
                {
                    "date": 1746389194939,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,10 +79,11 @@\n       <div class=\"form-actions\">\r\n         <button type=\"button\" class=\"cancel-btn\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n           Annuler\r\n         </button>\r\n-        <button type=\"submit\" class=\"submit-btn\" [disabled]=\"taskForm.invalid || isLoading || !phaseId\">\r\n-          <span *ngIf=\"!isLoading\">Enregistrer la Tâche</span>\r\n+        <button type=\"submit\" class=\"submit-btn\" [disabled]=\"taskForm.invalid || isLoading || (!phaseId && !isEditMode)\">\r\n+            <span *ngIf=\"!isLoading\">{{ isEditMode ? 'Enregistrer les Modifications' : 'Enregistrer la Tâche' }}</span>\r\n+          \r\n           <span *ngIf=\"isLoading\">En cours...</span>\r\n         </button>\r\n       </div>\r\n     </form>\r\n"
                }
            ],
            "date": 1746386414129,
            "name": "Commit-0",
            "content": "<div class=\"user-form-container\"> <!-- Utilisation de la même classe racine -->\r\n    <h2>Nouvelle Tâche</h2>\r\n  \r\n    <form [formGroup]=\"taskForm\" (ngSubmit)=\"saveTask()\" novalidate>\r\n  \r\n      <!-- Champ Nom de la Tâche -->\r\n      <div class=\"form-group\">\r\n        <label for=\"taskName\">Nom de la Tâche</label>\r\n        <input type=\"text\" id=\"taskName\" formControlName=\"name\" required placeholder=\"Ex: Définir les spécifications\">\r\n        <div *ngIf=\"name?.touched && name?.invalid\" class=\"error-message\">\r\n          <div *ngIf=\"name?.hasError('required')\">\r\n            Le nom de la tâche est requis.\r\n          </div>\r\n          <div *ngIf=\"name?.hasError('minlength')\">\r\n            Le nom doit contenir au moins 3 caractères.\r\n          </div>\r\n        </div>\r\n      </div>\r\n  \r\n      <!-- Champ Description -->\r\n      <div class=\"form-group\">\r\n        <label for=\"taskDescription\">Description (Optionnel)</label>\r\n        <textarea id=\"taskDescription\" formControlName=\"description\" placeholder=\"Décrivez la tâche...\" rows=\"4\"></textarea>\r\n        <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n           <div *ngIf=\"description?.hasError('maxlength')\">\r\n             La description ne doit pas dépasser 1000 caractères.\r\n           </div>\r\n        </div>\r\n      </div>\r\n  \r\n      <!-- Champ Date de Début -->\r\n      <div class=\"form-group\">\r\n        <label for=\"taskStartDate\">Date de Début</label>\r\n        <input type=\"date\" id=\"taskStartDate\" formControlName=\"startDate\" required>\r\n        <div *ngIf=\"startDate?.touched && startDate?.hasError('required')\" class=\"error-message\">\r\n          La date de début est requise.\r\n        </div>\r\n      </div>\r\n  \r\n      <!-- Champ Date de Fin -->\r\n      <div class=\"form-group\">\r\n        <label for=\"taskEndDate\">Date de Fin</label>\r\n        <input type=\"date\" id=\"taskEndDate\" formControlName=\"endDate\" required>\r\n        <div *ngIf=\"endDate?.touched && endDate?.hasError('required')\" class=\"error-message\">\r\n          La date de fin est requise.\r\n        </div>\r\n        <!-- Validation de plage de dates si nécessaire -->\r\n      </div>\r\n  \r\n      <!-- Champ Statut -->\r\n      <div class=\"form-group\">\r\n        <label for=\"taskStatus\">Statut</label>\r\n        <select id=\"taskStatus\" formControlName=\"status\" required>\r\n          <option *ngFor=\"let stat of statuses\" [value]=\"stat\">{{ stat }}</option>\r\n        </select>\r\n        <div *ngIf=\"status?.touched && status?.hasError('required')\" class=\"error-message\">\r\n          Le statut est requis.\r\n        </div>\r\n      </div>\r\n  \r\n      <!-- Champ Priorité -->\r\n      <div class=\"form-group\">\r\n        <label for=\"taskPriority\">Priorité</label>\r\n        <select id=\"taskPriority\" formControlName=\"priority\" required>\r\n          <option *ngFor=\"let prio of priorities\" [value]=\"prio\">{{ prio }}</option>\r\n        </select>\r\n        <div *ngIf=\"priority?.touched && priority?.hasError('required')\" class=\"error-message\">\r\n          La priorité est requise.\r\n        </div>\r\n      </div>\r\n  \r\n      <!-- Affichage des erreurs générales -->\r\n      <div *ngIf=\"errorMessage\" class=\"error-message general-error-display\">\r\n        {{ errorMessage }}\r\n      </div>\r\n  \r\n      <!-- Actions du formulaire -->\r\n      <div class=\"form-actions\">\r\n        <button type=\"button\" class=\"cancel-btn\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n          Annuler\r\n        </button>\r\n        <button type=\"submit\" class=\"submit-btn\" [disabled]=\"taskForm.invalid || isLoading || !phaseId\">\r\n          <span *ngIf=\"!isLoading\">Enregistrer la Tâche</span>\r\n          <span *ngIf=\"isLoading\">En cours...</span>\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>"
        }
    ]
}