{
    "sourceFile": "src/app/shared/project-form/project-form.component.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 22,
            "patches": [
                {
                    "date": 1746123885997,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1746123893708,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n       </div>\r\n   \r\n     </mat-dialog-content>\r\n   \r\n-    <mat-dialog-actions align=\"end\">\r\n+    <mat-dialog-actions >\r\n        <!-- Indicateur de chargement -->\r\n       <mat-spinner *ngIf=\"isLoading\" diameter=\"24\" class=\"spinner-button\"></mat-spinner>\r\n   \r\n       <button mat-button class=\"cancel-button\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n"
                },
                {
                    "date": 1746124244412,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n <div class=\"project-form-container\">\r\n     <h2 mat-dialog-title>Nouveau Projet</h2>\r\n-  \r\n+\r\n     <mat-dialog-content>\r\n       <form [formGroup]=\"projectForm\" novalidate>\r\n         <!-- Champ Nom du Projet -->\r\n         <mat-form-field appearance=\"outline\" class=\"form-field\">\r\n@@ -13,9 +13,9 @@\n           <mat-error *ngIf=\"name?.hasError('minlength')\">\r\n             Le nom doit contenir au moins 3 caractères.\r\n           </mat-error>\r\n         </mat-form-field>\r\n-  \r\n+\r\n         <!-- Champ Description -->\r\n         <mat-form-field appearance=\"outline\" class=\"form-field\">\r\n           <mat-label>Description (Optionnel)</mat-label>\r\n           <textarea matInput formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n@@ -23,20 +23,20 @@\n              La description ne doit pas dépasser 500 caractères.\r\n            </mat-error>\r\n         </mat-form-field>\r\n       </form>\r\n-  \r\n+\r\n       <!-- Affichage des erreurs générales -->\r\n       <div *ngIf=\"errorMessage\" class=\"error-message\">\r\n         {{ errorMessage }}\r\n       </div>\r\n-  \r\n+\r\n     </mat-dialog-content>\r\n-  \r\n-    <mat-dialog-actions >\r\n+\r\n+    <mat-dialog-actions align=\"end\">\r\n        <!-- Indicateur de chargement -->\r\n       <mat-spinner *ngIf=\"isLoading\" diameter=\"24\" class=\"spinner-button\"></mat-spinner>\r\n-  \r\n+\r\n       <button mat-button class=\"cancel-button\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n         Annuler\r\n       </button>\r\n       <button mat-flat-button class=\"save-button\" (click)=\"saveProject()\" [disabled]=\"projectForm.invalid || isLoading\">\r\n@@ -44,5 +44,4 @@\n         <span>Enregistrer</span>\r\n       </button>\r\n     </mat-dialog-actions>\r\n   </div>\r\n-  \n\\ No newline at end of file\n"
                },
                {
                    "date": 1746124517149,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,4 +44,5 @@\n         <span>Enregistrer</span>\r\n       </button>\r\n     </mat-dialog-actions>\r\n   </div>\r\n+</mat-dialog-\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746132479132,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,5 +44,4 @@\n         <span>Enregistrer</span>\r\n       </button>\r\n     </mat-dialog-actions>\r\n   </div>\r\n-</mat-dialog-\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746135464038,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,47 +1,48 @@\n-<div class=\"project-form-container\">\r\n-    <h2 mat-dialog-title>Nouveau Projet</h2>\r\n+<div class=\"user-form-container\"> <!-- Ou gardez project-form-container et adaptez le SCSS -->\r\n+  <h2>Nouveau Projet</h2>\r\n \r\n-    <mat-dialog-content>\r\n-      <form [formGroup]=\"projectForm\" novalidate>\r\n-        <!-- Champ Nom du Projet -->\r\n-        <mat-form-field appearance=\"outline\" class=\"form-field\">\r\n-          <mat-label>Nom du Projet</mat-label>\r\n-          <input matInput formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n-          <mat-error *ngIf=\"name?.hasError('required')\">\r\n-            Le nom du projet est requis.\r\n-          </mat-error>\r\n-          <mat-error *ngIf=\"name?.hasError('minlength')\">\r\n-            Le nom doit contenir au moins 3 caractères.\r\n-          </mat-error>\r\n-        </mat-form-field>\r\n+  <form [formGroup]=\"projectForm\" (ngSubmit)=\"saveProject()\" novalidate>\r\n+    <!-- Champ Nom du Projet -->\r\n+    <div class=\"form-group\">\r\n+      <label for=\"projectName\">Nom du Projet</label>\r\n+      <input type=\"text\" id=\"projectName\" formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n+      <!-- Affichage des erreurs spécifiques -->\r\n+      <div *ngIf=\"name?.touched && name?.invalid\" class=\"error-message\">\r\n+        <div *ngIf=\"name?.hasError('required')\">\r\n+          Le nom du projet est requis.\r\n+        </div>\r\n+        <div *ngIf=\"name?.hasError('minlength')\">\r\n+          Le nom doit contenir au moins 3 caractères.\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n \r\n-        <!-- Champ Description -->\r\n-        <mat-form-field appearance=\"outline\" class=\"form-field\">\r\n-          <mat-label>Description (Optionnel)</mat-label>\r\n-          <textarea matInput formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n-           <mat-error *ngIf=\"description?.hasError('maxlength')\">\r\n-             La description ne doit pas dépasser 500 caractères.\r\n-           </mat-error>\r\n-        </mat-form-field>\r\n-      </form>\r\n-\r\n-      <!-- Affichage des erreurs générales -->\r\n-      <div *ngIf=\"errorMessage\" class=\"error-message\">\r\n-        {{ errorMessage }}\r\n+    <!-- Champ Description -->\r\n+    <div class=\"form-group\">\r\n+      <label for=\"projectDescription\">Description (Optionnel)</label>\r\n+      <textarea id=\"projectDescription\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n+      <!-- Affichage des erreurs spécifiques -->\r\n+      <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n+         <div *ngIf=\"description?.hasError('maxlength')\">\r\n+           La description ne doit pas dépasser 500 caractères.\r\n+         </div>\r\n       </div>\r\n+    </div>\r\n \r\n-    </mat-dialog-content>\r\n+    <!-- Affichage des erreurs générales (si nécessaire) -->\r\n+    <div *ngIf=\"errorMessage\" class=\"error-message general-error\" style=\"margin-bottom: 15px; text-align: center;\">\r\n+      {{ errorMessage }}\r\n+    </div>\r\n \r\n-    <mat-dialog-actions align=\"end\">\r\n-       <!-- Indicateur de chargement -->\r\n-      <mat-spinner *ngIf=\"isLoading\" diameter=\"24\" class=\"spinner-button\"></mat-spinner>\r\n-\r\n-      <button mat-button class=\"cancel-button\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n+    <!-- Actions du formulaire -->\r\n+    <div class=\"form-actions\">\r\n+      <button type=\"button\" class=\"cancel-btn\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n         Annuler\r\n       </button>\r\n-      <button mat-flat-button class=\"save-button\" (click)=\"saveProject()\" [disabled]=\"projectForm.invalid || isLoading\">\r\n-        <mat-icon *ngIf=\"!isLoading\">save</mat-icon>\r\n-        <span>Enregistrer</span>\r\n+      <button type=\"submit\" class=\"submit-btn\" [disabled]=\"projectForm.invalid || isLoading\">\r\n+        <span *ngIf=\"!isLoading\">Enregistrer</span>\r\n+        <span *ngIf=\"isLoading\">En cours...</span>\r\n       </button>\r\n-    </mat-dialog-actions>\r\n-  </div>\r\n+    </div>\r\n+  </form>\r\n+</div>\r\n"
                },
                {
                    "date": 1746135896326,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,48 +1,47 @@\n-<div class=\"user-form-container\"> <!-- Ou gardez project-form-container et adaptez le SCSS -->\r\n-  <h2>Nouveau Projet</h2>\r\n+<div class=\"project-form-container\">\r\n+    <h2 mat-dialog-title>Nouveau Projet</h2>\r\n \r\n-  <form [formGroup]=\"projectForm\" (ngSubmit)=\"saveProject()\" novalidate>\r\n-    <!-- Champ Nom du Projet -->\r\n-    <div class=\"form-group\">\r\n-      <label for=\"projectName\">Nom du Projet</label>\r\n-      <input type=\"text\" id=\"projectName\" formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n-      <!-- Affichage des erreurs spécifiques -->\r\n-      <div *ngIf=\"name?.touched && name?.invalid\" class=\"error-message\">\r\n-        <div *ngIf=\"name?.hasError('required')\">\r\n-          Le nom du projet est requis.\r\n-        </div>\r\n-        <div *ngIf=\"name?.hasError('minlength')\">\r\n-          Le nom doit contenir au moins 3 caractères.\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n+    <mat-dialog-content>\r\n+      <form [formGroup]=\"projectForm\" novalidate>\r\n+        <!-- Champ Nom du Projet -->\r\n+        <mat-form-field appearance=\"outline\" class=\"form-field\">\r\n+          <mat-label>Nom du Projet</mat-label>\r\n+          <input matInput formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n+          <mat-error *ngIf=\"name?.hasError('required')\">\r\n+            Le nom du projet est requis.\r\n+          </mat-error>\r\n+          <mat-error *ngIf=\"name?.hasError('minlength')\">\r\n+            Le nom doit contenir au moins 3 caractères.\r\n+          </mat-error>\r\n+        </mat-form-field>\r\n \r\n-    <!-- Champ Description -->\r\n-    <div class=\"form-group\">\r\n-      <label for=\"projectDescription\">Description (Optionnel)</label>\r\n-      <textarea id=\"projectDescription\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n-      <!-- Affichage des erreurs spécifiques -->\r\n-      <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n-         <div *ngIf=\"description?.hasError('maxlength')\">\r\n-           La description ne doit pas dépasser 500 caractères.\r\n-         </div>\r\n+        <!-- Champ Description -->\r\n+        <mat-form-field appearance=\"outline\" class=\"form-field\">\r\n+          <mat-label>Description (Optionnel)</mat-label>\r\n+          <textarea matInput formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n+           <mat-error *ngIf=\"description?.hasError('maxlength')\">\r\n+             La description ne doit pas dépasser 500 caractères.\r\n+           </mat-error>\r\n+        </mat-form-field>\r\n+      </form>\r\n+\r\n+      <!-- Affichage des erreurs générales -->\r\n+      <div *ngIf=\"errorMessage\" class=\"error-message\">\r\n+        {{ errorMessage }}\r\n       </div>\r\n-    </div>\r\n \r\n-    <!-- Affichage des erreurs générales (si nécessaire) -->\r\n-    <div *ngIf=\"errorMessage\" class=\"error-message general-error\" style=\"margin-bottom: 15px; text-align: center;\">\r\n-      {{ errorMessage }}\r\n-    </div>\r\n+    </mat-dialog-content>\r\n \r\n-    <!-- Actions du formulaire -->\r\n-    <div class=\"form-actions\">\r\n-      <button type=\"button\" class=\"cancel-btn\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n+    <mat-dialog-actions align=\"end\">\r\n+       <!-- Indicateur de chargement -->\r\n+      <mat-spinner *ngIf=\"isLoading\" diameter=\"24\" class=\"spinner-button\"></mat-spinner>\r\n+\r\n+      <button mat-button class=\"cancel-button\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n         Annuler\r\n       </button>\r\n-      <button type=\"submit\" class=\"submit-btn\" [disabled]=\"projectForm.invalid || isLoading\">\r\n-        <span *ngIf=\"!isLoading\">Enregistrer</span>\r\n-        <span *ngIf=\"isLoading\">En cours...</span>\r\n+      <button mat-flat-button class=\"save-button\" (click)=\"saveProject()\" [disabled]=\"projectForm.invalid || isLoading\">\r\n+        <mat-icon *ngIf=\"!isLoading\">save</mat-icon>\r\n+        <span>Enregistrer</span>\r\n       </button>\r\n-    </div>\r\n-  </form>\r\n-</div>\r\n+    </mat-dialog-actions>\r\n+  </div>\r\n"
                },
                {
                    "date": 1746136152697,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,47 +1,48 @@\n-<div class=\"project-form-container\">\r\n-    <h2 mat-dialog-title>Nouveau Projet</h2>\r\n+<div class=\"user-form-container\"> <!-- Ou gardez project-form-container et adaptez le SCSS -->\r\n+  <h2>Nouveau Projet</h2>\r\n \r\n-    <mat-dialog-content>\r\n-      <form [formGroup]=\"projectForm\" novalidate>\r\n-        <!-- Champ Nom du Projet -->\r\n-        <mat-form-field appearance=\"outline\" class=\"form-field\">\r\n-          <mat-label>Nom du Projet</mat-label>\r\n-          <input matInput formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n-          <mat-error *ngIf=\"name?.hasError('required')\">\r\n-            Le nom du projet est requis.\r\n-          </mat-error>\r\n-          <mat-error *ngIf=\"name?.hasError('minlength')\">\r\n-            Le nom doit contenir au moins 3 caractères.\r\n-          </mat-error>\r\n-        </mat-form-field>\r\n+  <form [formGroup]=\"projectForm\" (ngSubmit)=\"saveProject()\" novalidate>\r\n+    <!-- Champ Nom du Projet -->\r\n+    <div class=\"form-group\">\r\n+      <label for=\"projectName\">Nom du Projet</label>\r\n+      <input type=\"text\" id=\"projectName\" formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n+      <!-- Affichage des erreurs spécifiques -->\r\n+      <div *ngIf=\"name?.touched && name?.invalid\" class=\"error-message\">\r\n+        <div *ngIf=\"name?.hasError('required')\">\r\n+          Le nom du projet est requis.\r\n+        </div>\r\n+        <div *ngIf=\"name?.hasError('minlength')\">\r\n+          Le nom doit contenir au moins 3 caractères.\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n \r\n-        <!-- Champ Description -->\r\n-        <mat-form-field appearance=\"outline\" class=\"form-field\">\r\n-          <mat-label>Description (Optionnel)</mat-label>\r\n-          <textarea matInput formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n-           <mat-error *ngIf=\"description?.hasError('maxlength')\">\r\n-             La description ne doit pas dépasser 500 caractères.\r\n-           </mat-error>\r\n-        </mat-form-field>\r\n-      </form>\r\n-\r\n-      <!-- Affichage des erreurs générales -->\r\n-      <div *ngIf=\"errorMessage\" class=\"error-message\">\r\n-        {{ errorMessage }}\r\n+    <!-- Champ Description -->\r\n+    <div class=\"form-group\">\r\n+      <label for=\"projectDescription\">Description (Optionnel)</label>\r\n+      <textarea id=\"projectDescription\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n+      <!-- Affichage des erreurs spécifiques -->\r\n+      <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n+         <div *ngIf=\"description?.hasError('maxlength')\">\r\n+           La description ne doit pas dépasser 500 caractères.\r\n+         </div>\r\n       </div>\r\n+    </div>\r\n \r\n-    </mat-dialog-content>\r\n+    <!-- Affichage des erreurs générales (si nécessaire) -->\r\n+    <div *ngIf=\"errorMessage\" class=\"error-message general-error\" style=\"margin-bottom: 15px; text-align: center;\">\r\n+      {{ errorMessage }}\r\n+    </div>\r\n \r\n-    <mat-dialog-actions align=\"end\">\r\n-       <!-- Indicateur de chargement -->\r\n-      <mat-spinner *ngIf=\"isLoading\" diameter=\"24\" class=\"spinner-button\"></mat-spinner>\r\n-\r\n-      <button mat-button class=\"cancel-button\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n+    <!-- Actions du formulaire -->\r\n+    <div class=\"form-actions\">\r\n+      <button type=\"button\" class=\"cancel-btn\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n         Annuler\r\n       </button>\r\n-      <button mat-flat-button class=\"save-button\" (click)=\"saveProject()\" [disabled]=\"projectForm.invalid || isLoading\">\r\n-        <mat-icon *ngIf=\"!isLoading\">save</mat-icon>\r\n-        <span>Enregistrer</span>\r\n+      <button type=\"submit\" class=\"submit-btn\" [disabled]=\"projectForm.invalid || isLoading\">\r\n+        <span *ngIf=\"!isLoading\">Enregistrer</span>\r\n+        <span *ngIf=\"isLoading\">En cours...</span>\r\n       </button>\r\n-    </mat-dialog-actions>\r\n-  </div>\r\n+    </div>\r\n+  </form>\r\n+</div>\r\n"
                },
                {
                    "date": 1746136162272,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,48 +1,47 @@\n-<div class=\"user-form-container\"> <!-- Ou gardez project-form-container et adaptez le SCSS -->\r\n-  <h2>Nouveau Projet</h2>\r\n+<div class=\"project-form-container\">\r\n+    <h2 mat-dialog-title>Nouveau Projet</h2>\r\n \r\n-  <form [formGroup]=\"projectForm\" (ngSubmit)=\"saveProject()\" novalidate>\r\n-    <!-- Champ Nom du Projet -->\r\n-    <div class=\"form-group\">\r\n-      <label for=\"projectName\">Nom du Projet</label>\r\n-      <input type=\"text\" id=\"projectName\" formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n-      <!-- Affichage des erreurs spécifiques -->\r\n-      <div *ngIf=\"name?.touched && name?.invalid\" class=\"error-message\">\r\n-        <div *ngIf=\"name?.hasError('required')\">\r\n-          Le nom du projet est requis.\r\n-        </div>\r\n-        <div *ngIf=\"name?.hasError('minlength')\">\r\n-          Le nom doit contenir au moins 3 caractères.\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n+    <mat-dialog-content>\r\n+      <form [formGroup]=\"projectForm\" novalidate>\r\n+        <!-- Champ Nom du Projet -->\r\n+        <mat-form-field appearance=\"outline\" class=\"form-field\">\r\n+          <mat-label>Nom du Projet</mat-label>\r\n+          <input matInput formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n+          <mat-error *ngIf=\"name?.hasError('required')\">\r\n+            Le nom du projet est requis.\r\n+          </mat-error>\r\n+          <mat-error *ngIf=\"name?.hasError('minlength')\">\r\n+            Le nom doit contenir au moins 3 caractères.\r\n+          </mat-error>\r\n+        </mat-form-field>\r\n \r\n-    <!-- Champ Description -->\r\n-    <div class=\"form-group\">\r\n-      <label for=\"projectDescription\">Description (Optionnel)</label>\r\n-      <textarea id=\"projectDescription\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n-      <!-- Affichage des erreurs spécifiques -->\r\n-      <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n-         <div *ngIf=\"description?.hasError('maxlength')\">\r\n-           La description ne doit pas dépasser 500 caractères.\r\n-         </div>\r\n+        <!-- Champ Description -->\r\n+        <mat-form-field appearance=\"outline\" class=\"form-field\">\r\n+          <mat-label>Description (Optionnel)</mat-label>\r\n+          <textarea matInput formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n+           <mat-error *ngIf=\"description?.hasError('maxlength')\">\r\n+             La description ne doit pas dépasser 500 caractères.\r\n+           </mat-error>\r\n+        </mat-form-field>\r\n+      </form>\r\n+\r\n+      <!-- Affichage des erreurs générales -->\r\n+      <div *ngIf=\"errorMessage\" class=\"error-message\">\r\n+        {{ errorMessage }}\r\n       </div>\r\n-    </div>\r\n \r\n-    <!-- Affichage des erreurs générales (si nécessaire) -->\r\n-    <div *ngIf=\"errorMessage\" class=\"error-message general-error\" style=\"margin-bottom: 15px; text-align: center;\">\r\n-      {{ errorMessage }}\r\n-    </div>\r\n+    </mat-dialog-content>\r\n \r\n-    <!-- Actions du formulaire -->\r\n-    <div class=\"form-actions\">\r\n-      <button type=\"button\" class=\"cancel-btn\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n+    <mat-dialog-actions align=\"end\">\r\n+       <!-- Indicateur de chargement -->\r\n+      <mat-spinner *ngIf=\"isLoading\" diameter=\"24\" class=\"spinner-button\"></mat-spinner>\r\n+\r\n+      <button mat-button class=\"cancel-button\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n         Annuler\r\n       </button>\r\n-      <button type=\"submit\" class=\"submit-btn\" [disabled]=\"projectForm.invalid || isLoading\">\r\n-        <span *ngIf=\"!isLoading\">Enregistrer</span>\r\n-        <span *ngIf=\"isLoading\">En cours...</span>\r\n+      <button mat-flat-button class=\"save-button\" (click)=\"saveProject()\" [disabled]=\"projectForm.invalid || isLoading\">\r\n+        <mat-icon *ngIf=\"!isLoading\">save</mat-icon>\r\n+        <span>Enregistrer</span>\r\n       </button>\r\n-    </div>\r\n-  </form>\r\n-</div>\r\n+    </mat-dialog-actions>\r\n+  </div>\r\n"
                },
                {
                    "date": 1746136354250,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,47 +1,56 @@\n-<div class=\"project-form-container\">\r\n+<div class=\"project-form-container elegant-form\">\r\n+  <!-- En-tête personnalisé -->\r\n+  <div class=\"form-header\">\r\n     <h2 mat-dialog-title>Nouveau Projet</h2>\r\n+    <p class=\"subtitle\">Remplissez les informations ci-dessous pour créer un projet.</p>\r\n+  </div>\r\n \r\n-    <mat-dialog-content>\r\n-      <form [formGroup]=\"projectForm\" novalidate>\r\n-        <!-- Champ Nom du Projet -->\r\n-        <mat-form-field appearance=\"outline\" class=\"form-field\">\r\n-          <mat-label>Nom du Projet</mat-label>\r\n-          <input matInput formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n-          <mat-error *ngIf=\"name?.hasError('required')\">\r\n-            Le nom du projet est requis.\r\n-          </mat-error>\r\n-          <mat-error *ngIf=\"name?.hasError('minlength')\">\r\n-            Le nom doit contenir au moins 3 caractères.\r\n-          </mat-error>\r\n-        </mat-form-field>\r\n+  <mat-dialog-content class=\"form-content\">\r\n+    <form [formGroup]=\"projectForm\" novalidate id=\"project-creation-form\">\r\n+      <!-- Champ Nom du Projet -->\r\n+      <mat-form-field appearance=\"outline\" class=\"form-field full-width\">\r\n+        <mat-label>Nom du Projet</mat-label>\r\n+        <input matInput formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n+        <mat-icon matSuffix color=\"primary\">label</mat-icon>\r\n+        <mat-error *ngIf=\"name?.touched && name?.hasError('required')\">\r\n+          Le nom du projet est requis.\r\n+        </mat-error>\r\n+        <mat-error *ngIf=\"name?.touched && name?.hasError('minlength')\">\r\n+          Le nom doit contenir au moins 3 caractères.\r\n+        </mat-error>\r\n+      </mat-form-field>\r\n \r\n-        <!-- Champ Description -->\r\n-        <mat-form-field appearance=\"outline\" class=\"form-field\">\r\n-          <mat-label>Description (Optionnel)</mat-label>\r\n-          <textarea matInput formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n-           <mat-error *ngIf=\"description?.hasError('maxlength')\">\r\n-             La description ne doit pas dépasser 500 caractères.\r\n-           </mat-error>\r\n-        </mat-form-field>\r\n-      </form>\r\n+      <!-- Champ Description -->\r\n+      <mat-form-field appearance=\"outline\" class=\"form-field full-width\">\r\n+        <mat-label>Description (Optionnel)</mat-label>\r\n+        <textarea matInput formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\" cdkTextareaAutosize #autosize=\"cdkTextareaAutosize\" cdkAutosizeMinRows=\"3\" cdkAutosizeMaxRows=\"6\"></textarea>\r\n+        <mat-icon matSuffix color=\"primary\">description</mat-icon>\r\n+         <mat-error *ngIf=\"description?.touched && description?.hasError('maxlength')\">\r\n+           La description ne doit pas dépasser 500 caractères.\r\n+         </mat-error>\r\n+      </mat-form-field>\r\n+    </form>\r\n \r\n-      <!-- Affichage des erreurs générales -->\r\n-      <div *ngIf=\"errorMessage\" class=\"error-message\">\r\n-        {{ errorMessage }}\r\n-      </div>\r\n+    <!-- Affichage des erreurs générales -->\r\n+    <div *ngIf=\"errorMessage\" class=\"error-message-general\">\r\n+      <mat-icon>warning</mat-icon>\r\n+      <span>{{ errorMessage }}</span>\r\n+    </div>\r\n \r\n-    </mat-dialog-content>\r\n+  </mat-dialog-content>\r\n \r\n-    <mat-dialog-actions align=\"end\">\r\n-       <!-- Indicateur de chargement -->\r\n-      <mat-spinner *ngIf=\"isLoading\" diameter=\"24\" class=\"spinner-button\"></mat-spinner>\r\n+  <mat-dialog-actions align=\"end\" class=\"form-actions\">\r\n+     <!-- Indicateur de chargement -->\r\n+    <mat-spinner *ngIf=\"isLoading\" diameter=\"24\" class=\"spinner-button\"></mat-spinner>\r\n \r\n-      <button mat-button class=\"cancel-button\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n-        Annuler\r\n-      </button>\r\n-      <button mat-flat-button class=\"save-button\" (click)=\"saveProject()\" [disabled]=\"projectForm.invalid || isLoading\">\r\n-        <mat-icon *ngIf=\"!isLoading\">save</mat-icon>\r\n-        <span>Enregistrer</span>\r\n-      </button>\r\n-    </mat-dialog-actions>\r\n-  </div>\r\n+    <button mat-stroked-button class=\"cancel-button\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n+      <mat-icon>cancel</mat-icon>\r\n+      <span>Annuler</span>\r\n+    </button>\r\n+    <!-- Utilisation de form=\"project-creation-form\" pour lier le bouton au formulaire -->\r\n+    <button mat-flat-button color=\"primary\" class=\"save-button\" type=\"submit\" form=\"project-creation-form\" [disabled]=\"projectForm.invalid || isLoading\">\r\n+      <mat-icon *ngIf=\"!isLoading\">save</mat-icon>\r\n+      <span>Enregistrer</span>\r\n+    </button>\r\n+  </mat-dialog-actions>\r\n+</div>\r\n"
                },
                {
                    "date": 1746137367749,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,56 +1,50 @@\n-<div class=\"project-form-container elegant-form\">\r\n-  <!-- En-tête personnalisé -->\r\n-  <div class=\"form-header\">\r\n-    <h2 mat-dialog-title>Nouveau Projet</h2>\r\n-    <p class=\"subtitle\">Remplissez les informations ci-dessous pour créer un projet.</p>\r\n-  </div>\r\n+<div class=\"user-form-container\"> <!-- Utilisation de la même classe que agence-form -->\r\n+  <h2>Nouveau Projet</h2>\r\n \r\n-  <mat-dialog-content class=\"form-content\">\r\n-    <form [formGroup]=\"projectForm\" novalidate id=\"project-creation-form\">\r\n-      <!-- Champ Nom du Projet -->\r\n-      <mat-form-field appearance=\"outline\" class=\"form-field full-width\">\r\n-        <mat-label>Nom du Projet</mat-label>\r\n-        <input matInput formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n-        <mat-icon matSuffix color=\"primary\">label</mat-icon>\r\n-        <mat-error *ngIf=\"name?.touched && name?.hasError('required')\">\r\n+  <form [formGroup]=\"projectForm\" (ngSubmit)=\"saveProject()\" novalidate>\r\n+    <!-- Champ Nom du Projet -->\r\n+    <div class=\"form-group\">\r\n+      <label for=\"projectName\">Nom du Projet</label>\r\n+      <input type=\"text\" id=\"projectName\" formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n+      <!-- Affichage des erreurs spécifiques -->\r\n+      <div *ngIf=\"name?.touched && name?.invalid\" class=\"error-message\">\r\n+        <div *ngIf=\"name?.hasError('required')\">\r\n           Le nom du projet est requis.\r\n-        </mat-error>\r\n-        <mat-error *ngIf=\"name?.touched && name?.hasError('minlength')\">\r\n+        </div>\r\n+        <div *ngIf=\"name?.hasError('minlength')\">\r\n           Le nom doit contenir au moins 3 caractères.\r\n-        </mat-error>\r\n-      </mat-form-field>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n \r\n-      <!-- Champ Description -->\r\n-      <mat-form-field appearance=\"outline\" class=\"form-field full-width\">\r\n-        <mat-label>Description (Optionnel)</mat-label>\r\n-        <textarea matInput formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\" cdkTextareaAutosize #autosize=\"cdkTextareaAutosize\" cdkAutosizeMinRows=\"3\" cdkAutosizeMaxRows=\"6\"></textarea>\r\n-        <mat-icon matSuffix color=\"primary\">description</mat-icon>\r\n-         <mat-error *ngIf=\"description?.touched && description?.hasError('maxlength')\">\r\n+    <!-- Champ Description -->\r\n+    <div class=\"form-group\">\r\n+      <label for=\"projectDescription\">Description (Optionnel)</label>\r\n+      <!-- Utilisation d'un textarea standard -->\r\n+      <textarea id=\"projectDescription\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n+      <!-- Affichage des erreurs spécifiques -->\r\n+      <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n+         <div *ngIf=\"description?.hasError('maxlength')\">\r\n            La description ne doit pas dépasser 500 caractères.\r\n-         </mat-error>\r\n-      </mat-form-field>\r\n-    </form>\r\n+         </div>\r\n+      </div>\r\n+    </div>\r\n \r\n-    <!-- Affichage des erreurs générales -->\r\n-    <div *ngIf=\"errorMessage\" class=\"error-message-general\">\r\n-      <mat-icon>warning</mat-icon>\r\n-      <span>{{ errorMessage }}</span>\r\n+    <!-- Affichage des erreurs générales (si nécessaire) -->\r\n+    <div *ngIf=\"errorMessage\" class=\"error-message general-error-display\"> <!-- Classe spécifique pour erreur générale si besoin -->\r\n+      {{ errorMessage }}\r\n     </div>\r\n \r\n-  </mat-dialog-content>\r\n-\r\n-  <mat-dialog-actions align=\"end\" class=\"form-actions\">\r\n-     <!-- Indicateur de chargement -->\r\n-    <mat-spinner *ngIf=\"isLoading\" diameter=\"24\" class=\"spinner-button\"></mat-spinner>\r\n-\r\n-    <button mat-stroked-button class=\"cancel-button\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n-      <mat-icon>cancel</mat-icon>\r\n-      <span>Annuler</span>\r\n-    </button>\r\n-    <!-- Utilisation de form=\"project-creation-form\" pour lier le bouton au formulaire -->\r\n-    <button mat-flat-button color=\"primary\" class=\"save-button\" type=\"submit\" form=\"project-creation-form\" [disabled]=\"projectForm.invalid || isLoading\">\r\n-      <mat-icon *ngIf=\"!isLoading\">save</mat-icon>\r\n-      <span>Enregistrer</span>\r\n-    </button>\r\n-  </mat-dialog-actions>\r\n+    <!-- Actions du formulaire -->\r\n+    <div class=\"form-actions\">\r\n+      <button type=\"button\" class=\"cancel-btn\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n+        Annuler\r\n+      </button>\r\n+      <button type=\"submit\" class=\"submit-btn\" [disabled]=\"projectForm.invalid || isLoading\">\r\n+        <!-- Affichage conditionnel du texte ou spinner simple -->\r\n+        <span *ngIf=\"!isLoading\">Enregistrer</span>\r\n+        <span *ngIf=\"isLoading\">En cours...</span>\r\n+      </button>\r\n+    </div>\r\n+  </form>\r\n </div>\r\n"
                },
                {
                    "date": 1746217222126,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,50 +1,160 @@\n-<div class=\"user-form-container\"> <!-- Utilisation de la même classe que agence-form -->\r\n-  <h2>Nouveau Projet</h2>\r\n+--- a/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\shared\\project-form\\project-form.component.html\r\n++++ b/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\shared\\project-form\\project-form.component.html\r\n+@@ -1,53 +1,90 @@\r\n+-<div class=\"user-form-container\"> <!-- Utilisation de la même classe que agence-form -->\r\n+-  <h2>Nouveau Projet</h2>\r\n++<!-- Titre de la Modale -->\r\n++<h2 mat-dialog-title>\r\n++  Membres du Projet : {{ project?.name || 'Projet sans nom' }}\r\n++  <button mat-icon-button (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n++    <mat-icon>close</mat-icon>\r\n++  </button>\r\n++</h2>\r\n+ \r\n+-  <form [formGroup]=\"projectForm\" (ngSubmit)=\"saveProject()\" novalidate>\r\n+-    <!-- Champ Nom du Projet -->\r\n+-    <div class=\"form-group\">\r\n+-      <label for=\"projectName\">Nom du Projet</label>\r\n+-      <input type=\"text\" id=\"projectName\" formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n+-      <!-- Affichage des erreurs spécifiques -->\r\n+-      <div *ngIf=\"name?.touched && name?.invalid\" class=\"error-message\">\r\n+-        <div *ngIf=\"name?.hasError('required')\">\r\n+-          Le nom du projet est requis.\r\n+-        </div>\r\n+-        <div *ngIf=\"name?.hasError('minlength')\">\r\n+-          Le nom doit contenir au moins 3 caractères.\r\n+-        </div>\r\n++<!-- Contenu de la Modale -->\r\n++<mat-dialog-content class=\"mat-typography\">\r\n++\r\n++  <!-- Indicateur de chargement global -->\r\n++  <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n++    <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\r\n++  </div>\r\n++\r\n++  <!-- Section: Liste des Membres Actuels -->\r\n++  <div class=\"members-list-section\">\r\n++    <h3>Membres Actuels ({{ members.length }})</h3>\r\n++    <div class=\"table-container mat-elevation-z2\">\r\n++      <table mat-table [dataSource]=\"members\" class=\"members-table\">\r\n++\r\n++        <!-- Colonne Avatar/Nom -->\r\n++        <ng-container matColumnDef=\"name\">\r\n++          <th mat-header-cell *matHeaderCellDef> Nom Complet </th>\r\n++          <td mat-cell *matCellDef=\"let member\">\r\n++            <img [src]=\"getMemberAvatar(member)\" alt=\"Avatar\" class=\"member-avatar\">\r\n++            <span>{{ getMemberFullName(member) }}</span>\r\n++          </td>\r\n++        </ng-container>\r\n++\r\n++        <!-- Colonne Email -->\r\n++        <ng-container matColumnDef=\"email\">\r\n++          <th mat-header-cell *matHeaderCellDef> Email </th>\r\n++          <td mat-cell *matCellDef=\"let member\"> {{ getMemberEmail(member) }} </td>\r\n++        </ng-container>\r\n++\r\n++        <!-- Colonne Rôle -->\r\n++        <ng-container matColumnDef=\"role\">\r\n++          <th mat-header-cell *matHeaderCellDef> Rôle </th>\r\n++          <td mat-cell *matCellDef=\"let member\">\r\n++            <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n++          </td>\r\n++        </ng-container>\r\n++\r\n++        <!-- Colonne Actions (Supprimer) -->\r\n++        <ng-container matColumnDef=\"actions\">\r\n++          <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n++          <td mat-cell *matCellDef=\"let member\">\r\n++            <button mat-icon-button color=\"warn\" (click)=\"removeMember(member)\" matTooltip=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n++              <mat-icon>person_remove</mat-icon>\r\n++            </button>\r\n++          </td>\r\n++        </ng-container>\r\n++\r\n++        <!-- Définition des lignes -->\r\n++        <tr mat-header-row *matHeaderRowDef=\"['name', 'email', 'role', 'actions']\"></tr>\r\n++        <tr mat-row *matRowDef=\"let row; columns: ['name', 'email', 'role', 'actions'];\"></tr>\r\n++\r\n++      </table>\r\n++       <!-- Message si aucune donnée -->\r\n++       <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n++         Aucun membre n'est actuellement assigné à ce projet.\r\n++       </div>\r\n++    </div>\r\n++  </div>\r\n++\r\n++  <mat-divider></mat-divider>\r\n++\r\n++  <!-- Section: Ajouter un Membre -->\r\n++  <div class=\"add-member-section\">\r\n++    <h3>Ajouter un Membre</h3>\r\n++    <div class=\"add-member-form\">\r\n++       <!-- Option: Select/Dropdown (plus simple) -->\r\n++       <mat-form-field appearance=\"outline\" class=\"user-select-field\">\r\n++         <mat-label>Sélectionner un utilisateur</mat-label>\r\n++         <mat-select [(ngModel)]=\"selectedUserId\" (focus)=\"loadPotentialMembers()\" [disabled]=\"isLoading\">\r\n++            <mat-option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n++              Chargement ou aucun utilisateur disponible...\r\n++            </mat-option>\r\n++           <mat-option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n++             {{ user.name }} ({{ user.email }})\r\n++           </mat-option>\r\n++         </mat-select>\r\n++       </mat-form-field>\r\n++\r\n++       <!-- Bouton Ajouter -->\r\n++       <button mat-flat-button color=\"primary\" (click)=\"addMember()\" [disabled]=\"!selectedUserId || isLoading\">\r\n++         <mat-icon>person_add</mat-icon>\r\n++         Ajouter au Projet\r\n++       </button>\r\n++\r\n++       <!-- Alternative: Autocomplete (plus complexe, nécessite plus de logique TS) -->\r\n++       <!-- Mettez ici le code pour un mat-autocomplete si vous préférez -->\r\n++    </div>\r\n++     <p class=\"info-text\">\r\n++       Seuls les utilisateurs non membres du projet sont listés.\r\n++       La logique d'ajout/suppression est simulée ici.\r\n++     </p>\r\n++  </div>\r\n++\r\n++</mat-dialog-content>\r\n++\r\n++<!-- Actions de la Modale (Bouton Fermer) -->\r\n++<mat-dialog-actions align=\"end\">\r\n++  <button mat-stroked-button (click)=\"closeDialog()\">Fermer</button>\r\n++  <!-- Pas besoin de bouton \"Sauvegarder\" si les actions sont immédiates -->\r\n++</mat-dialog-actions>\r\n+-    </div>\r\n+-\r\n+-    <!-- Champ Description -->\r\n+-    <div class=\"form-group\">\r\n+-      <label for=\"projectDescription\">Description (Optionnel)</label>\r\n+-      <!-- Utilisation d'un textarea standard -->\r\n+-      <textarea id=\"projectDescription\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n+-      <!-- Affichage des erreurs spécifiques -->\r\n+-      <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n+-         <div *ngIf=\"description?.hasError('maxlength')\">\r\n+-           La description ne doit pas dépasser 500 caractères.\r\n+-         </div>\r\n+-      </div>\r\n+-    </div>\r\n+-\r\n+-    <!-- Affichage des erreurs générales (si nécessaire) -->\r\n+-    <div *ngIf=\"errorMessage\" class=\"error-message general-error-display\"> <!-- Classe spécifique pour erreur générale si besoin -->\r\n+-      {{ errorMessage }}\r\n+-    </div>\r\n+-\r\n+-    <!-- Actions du formulaire -->\r\n+-    <div class=\"form-actions\">\r\n+-      <button type=\"button\" class=\"cancel-btn\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n+-        Annuler\r\n+-      </button>\r\n+-      <button type=\"submit\" class=\"submit-btn\" [disabled]=\"projectForm.invalid || isLoading\">\r\n+-        <!-- Affichage conditionnel du texte ou spinner simple -->\r\n+-        <span *ngIf=\"!isLoading\">Enregistrer</span>\r\n+-        <span *ngIf=\"isLoading\">En cours...</span>\r\n+-      </button>\r\n+-    </div>\r\n+-  </form>\r\n+-</div>\r\n \r\n-  <form [formGroup]=\"projectForm\" (ngSubmit)=\"saveProject()\" novalidate>\r\n-    <!-- Champ Nom du Projet -->\r\n-    <div class=\"form-group\">\r\n-      <label for=\"projectName\">Nom du Projet</label>\r\n-      <input type=\"text\" id=\"projectName\" formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n-      <!-- Affichage des erreurs spécifiques -->\r\n-      <div *ngIf=\"name?.touched && name?.invalid\" class=\"error-message\">\r\n-        <div *ngIf=\"name?.hasError('required')\">\r\n-          Le nom du projet est requis.\r\n-        </div>\r\n-        <div *ngIf=\"name?.hasError('minlength')\">\r\n-          Le nom doit contenir au moins 3 caractères.\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-\r\n-    <!-- Champ Description -->\r\n-    <div class=\"form-group\">\r\n-      <label for=\"projectDescription\">Description (Optionnel)</label>\r\n-      <!-- Utilisation d'un textarea standard -->\r\n-      <textarea id=\"projectDescription\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n-      <!-- Affichage des erreurs spécifiques -->\r\n-      <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n-         <div *ngIf=\"description?.hasError('maxlength')\">\r\n-           La description ne doit pas dépasser 500 caractères.\r\n-         </div>\r\n-      </div>\r\n-    </div>\r\n-\r\n-    <!-- Affichage des erreurs générales (si nécessaire) -->\r\n-    <div *ngIf=\"errorMessage\" class=\"error-message general-error-display\"> <!-- Classe spécifique pour erreur générale si besoin -->\r\n-      {{ errorMessage }}\r\n-    </div>\r\n-\r\n-    <!-- Actions du formulaire -->\r\n-    <div class=\"form-actions\">\r\n-      <button type=\"button\" class=\"cancel-btn\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n-        Annuler\r\n-      </button>\r\n-      <button type=\"submit\" class=\"submit-btn\" [disabled]=\"projectForm.invalid || isLoading\">\r\n-        <!-- Affichage conditionnel du texte ou spinner simple -->\r\n-        <span *ngIf=\"!isLoading\">Enregistrer</span>\r\n-        <span *ngIf=\"isLoading\">En cours...</span>\r\n-      </button>\r\n-    </div>\r\n-  </form>\r\n-</div>\r\n"
                },
                {
                    "date": 1746217236998,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,5 @@\n---- a/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\shared\\project-form\\project-form.component.html\r\n-+++ b/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\shared\\project-form\\project-form.component.html\r\n-@@ -1,53 +1,90 @@\r\n+\r\n -<div class=\"user-form-container\"> <!-- Utilisation de la même classe que agence-form -->\r\n -  <h2>Nouveau Projet</h2>\r\n +<!-- Titre de la Modale -->\r\n +<h2 mat-dialog-title>\r\n"
                },
                {
                    "date": 1746217251241,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,158 +1,50 @@\n+<div class=\"user-form-container\"> <!-- Utilisation de la même classe que agence-form -->\r\n+  <h2>Nouveau Projet</h2>\r\n \r\n--<div class=\"user-form-container\"> <!-- Utilisation de la même classe que agence-form -->\r\n--  <h2>Nouveau Projet</h2>\r\n-+<!-- Titre de la Modale -->\r\n-+<h2 mat-dialog-title>\r\n-+  Membres du Projet : {{ project?.name || 'Projet sans nom' }}\r\n-+  <button mat-icon-button (click)=\"closeDialog()\" aria-label=\"Fermer la modale\" class=\"close-button\">\r\n-+    <mat-icon>close</mat-icon>\r\n-+  </button>\r\n-+</h2>\r\n- \r\n--  <form [formGroup]=\"projectForm\" (ngSubmit)=\"saveProject()\" novalidate>\r\n--    <!-- Champ Nom du Projet -->\r\n--    <div class=\"form-group\">\r\n--      <label for=\"projectName\">Nom du Projet</label>\r\n--      <input type=\"text\" id=\"projectName\" formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n--      <!-- Affichage des erreurs spécifiques -->\r\n--      <div *ngIf=\"name?.touched && name?.invalid\" class=\"error-message\">\r\n--        <div *ngIf=\"name?.hasError('required')\">\r\n--          Le nom du projet est requis.\r\n--        </div>\r\n--        <div *ngIf=\"name?.hasError('minlength')\">\r\n--          Le nom doit contenir au moins 3 caractères.\r\n--        </div>\r\n-+<!-- Contenu de la Modale -->\r\n-+<mat-dialog-content class=\"mat-typography\">\r\n-+\r\n-+  <!-- Indicateur de chargement global -->\r\n-+  <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n-+    <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\r\n-+  </div>\r\n-+\r\n-+  <!-- Section: Liste des Membres Actuels -->\r\n-+  <div class=\"members-list-section\">\r\n-+    <h3>Membres Actuels ({{ members.length }})</h3>\r\n-+    <div class=\"table-container mat-elevation-z2\">\r\n-+      <table mat-table [dataSource]=\"members\" class=\"members-table\">\r\n-+\r\n-+        <!-- Colonne Avatar/Nom -->\r\n-+        <ng-container matColumnDef=\"name\">\r\n-+          <th mat-header-cell *matHeaderCellDef> Nom Complet </th>\r\n-+          <td mat-cell *matCellDef=\"let member\">\r\n-+            <img [src]=\"getMemberAvatar(member)\" alt=\"Avatar\" class=\"member-avatar\">\r\n-+            <span>{{ getMemberFullName(member) }}</span>\r\n-+          </td>\r\n-+        </ng-container>\r\n-+\r\n-+        <!-- Colonne Email -->\r\n-+        <ng-container matColumnDef=\"email\">\r\n-+          <th mat-header-cell *matHeaderCellDef> Email </th>\r\n-+          <td mat-cell *matCellDef=\"let member\"> {{ getMemberEmail(member) }} </td>\r\n-+        </ng-container>\r\n-+\r\n-+        <!-- Colonne Rôle -->\r\n-+        <ng-container matColumnDef=\"role\">\r\n-+          <th mat-header-cell *matHeaderCellDef> Rôle </th>\r\n-+          <td mat-cell *matCellDef=\"let member\">\r\n-+            <span class=\"role-badge\">{{ getMemberRole(member) }}</span>\r\n-+          </td>\r\n-+        </ng-container>\r\n-+\r\n-+        <!-- Colonne Actions (Supprimer) -->\r\n-+        <ng-container matColumnDef=\"actions\">\r\n-+          <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n-+          <td mat-cell *matCellDef=\"let member\">\r\n-+            <button mat-icon-button color=\"warn\" (click)=\"removeMember(member)\" matTooltip=\"Retirer le membre\" [disabled]=\"isLoading\">\r\n-+              <mat-icon>person_remove</mat-icon>\r\n-+            </button>\r\n-+          </td>\r\n-+        </ng-container>\r\n-+\r\n-+        <!-- Définition des lignes -->\r\n-+        <tr mat-header-row *matHeaderRowDef=\"['name', 'email', 'role', 'actions']\"></tr>\r\n-+        <tr mat-row *matRowDef=\"let row; columns: ['name', 'email', 'role', 'actions'];\"></tr>\r\n-+\r\n-+      </table>\r\n-+       <!-- Message si aucune donnée -->\r\n-+       <div *ngIf=\"!isLoading && members.length === 0\" class=\"no-members-message\">\r\n-+         Aucun membre n'est actuellement assigné à ce projet.\r\n-+       </div>\r\n-+    </div>\r\n-+  </div>\r\n-+\r\n-+  <mat-divider></mat-divider>\r\n-+\r\n-+  <!-- Section: Ajouter un Membre -->\r\n-+  <div class=\"add-member-section\">\r\n-+    <h3>Ajouter un Membre</h3>\r\n-+    <div class=\"add-member-form\">\r\n-+       <!-- Option: Select/Dropdown (plus simple) -->\r\n-+       <mat-form-field appearance=\"outline\" class=\"user-select-field\">\r\n-+         <mat-label>Sélectionner un utilisateur</mat-label>\r\n-+         <mat-select [(ngModel)]=\"selectedUserId\" (focus)=\"loadPotentialMembers()\" [disabled]=\"isLoading\">\r\n-+            <mat-option *ngIf=\"!usersToAdd || usersToAdd.length === 0\" [value]=\"null\" disabled>\r\n-+              Chargement ou aucun utilisateur disponible...\r\n-+            </mat-option>\r\n-+           <mat-option *ngFor=\"let user of usersToAdd\" [value]=\"user.id\">\r\n-+             {{ user.name }} ({{ user.email }})\r\n-+           </mat-option>\r\n-+         </mat-select>\r\n-+       </mat-form-field>\r\n-+\r\n-+       <!-- Bouton Ajouter -->\r\n-+       <button mat-flat-button color=\"primary\" (click)=\"addMember()\" [disabled]=\"!selectedUserId || isLoading\">\r\n-+         <mat-icon>person_add</mat-icon>\r\n-+         Ajouter au Projet\r\n-+       </button>\r\n-+\r\n-+       <!-- Alternative: Autocomplete (plus complexe, nécessite plus de logique TS) -->\r\n-+       <!-- Mettez ici le code pour un mat-autocomplete si vous préférez -->\r\n-+    </div>\r\n-+     <p class=\"info-text\">\r\n-+       Seuls les utilisateurs non membres du projet sont listés.\r\n-+       La logique d'ajout/suppression est simulée ici.\r\n-+     </p>\r\n-+  </div>\r\n-+\r\n-+</mat-dialog-content>\r\n-+\r\n-+<!-- Actions de la Modale (Bouton Fermer) -->\r\n-+<mat-dialog-actions align=\"end\">\r\n-+  <button mat-stroked-button (click)=\"closeDialog()\">Fermer</button>\r\n-+  <!-- Pas besoin de bouton \"Sauvegarder\" si les actions sont immédiates -->\r\n-+</mat-dialog-actions>\r\n--    </div>\r\n--\r\n--    <!-- Champ Description -->\r\n--    <div class=\"form-group\">\r\n--      <label for=\"projectDescription\">Description (Optionnel)</label>\r\n--      <!-- Utilisation d'un textarea standard -->\r\n--      <textarea id=\"projectDescription\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n--      <!-- Affichage des erreurs spécifiques -->\r\n--      <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n--         <div *ngIf=\"description?.hasError('maxlength')\">\r\n--           La description ne doit pas dépasser 500 caractères.\r\n--         </div>\r\n--      </div>\r\n--    </div>\r\n--\r\n--    <!-- Affichage des erreurs générales (si nécessaire) -->\r\n--    <div *ngIf=\"errorMessage\" class=\"error-message general-error-display\"> <!-- Classe spécifique pour erreur générale si besoin -->\r\n--      {{ errorMessage }}\r\n--    </div>\r\n--\r\n--    <!-- Actions du formulaire -->\r\n--    <div class=\"form-actions\">\r\n--      <button type=\"button\" class=\"cancel-btn\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n--        Annuler\r\n--      </button>\r\n--      <button type=\"submit\" class=\"submit-btn\" [disabled]=\"projectForm.invalid || isLoading\">\r\n--        <!-- Affichage conditionnel du texte ou spinner simple -->\r\n--        <span *ngIf=\"!isLoading\">Enregistrer</span>\r\n--        <span *ngIf=\"isLoading\">En cours...</span>\r\n--      </button>\r\n--    </div>\r\n--  </form>\r\n--</div>\r\n+  <form [formGroup]=\"projectForm\" (ngSubmit)=\"saveProject()\" novalidate>\r\n+    <!-- Champ Nom du Projet -->\r\n+    <div class=\"form-group\">\r\n+      <label for=\"projectName\">Nom du Projet</label>\r\n+      <input type=\"text\" id=\"projectName\" formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n+      <!-- Affichage des erreurs spécifiques -->\r\n+      <div *ngIf=\"name?.touched && name?.invalid\" class=\"error-message\">\r\n+        <div *ngIf=\"name?.hasError('required')\">\r\n+          Le nom du projet est requis.\r\n+        </div>\r\n+        <div *ngIf=\"name?.hasError('minlength')\">\r\n+          Le nom doit contenir au moins 3 caractères.\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n \r\n+    <!-- Champ Description -->\r\n+    <div class=\"form-group\">\r\n+      <label for=\"projectDescription\">Description (Optionnel)</label>\r\n+      <!-- Utilisation d'un textarea standard -->\r\n+      <textarea id=\"projectDescription\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n+      <!-- Affichage des erreurs spécifiques -->\r\n+      <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n+         <div *ngIf=\"description?.hasError('maxlength')\">\r\n+           La description ne doit pas dépasser 500 caractères.\r\n+         </div>\r\n+      </div>\r\n+    </div>\r\n+\r\n+    <!-- Affichage des erreurs générales (si nécessaire) -->\r\n+    <div *ngIf=\"errorMessage\" class=\"error-message general-error-display\"> <!-- Classe spécifique pour erreur générale si besoin -->\r\n+      {{ errorMessage }}\r\n+    </div>\r\n+\r\n+    <!-- Actions du formulaire -->\r\n+    <div class=\"form-actions\">\r\n+      <button type=\"button\" class=\"cancel-btn\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n+        Annuler\r\n+      </button>\r\n+      <button type=\"submit\" class=\"submit-btn\" [disabled]=\"projectForm.invalid || isLoading\">\r\n+        <!-- Affichage conditionnel du texte ou spinner simple -->\r\n+        <span *ngIf=\"!isLoading\">Enregistrer</span>\r\n+        <span *ngIf=\"isLoading\">En cours...</span>\r\n+      </button>\r\n+    </div>\r\n+  </form>\r\n+</div>\r\n"
                },
                {
                    "date": 1747691144210,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,20 @@\n            La description ne doit pas dépasser 500 caractères.\r\n          </div>\r\n       </div>\r\n     </div>\r\n-\r\n+<!-- Champ Description -->\r\n+    <div class=\"form-group\">\r\n+      <label for=\"projectDescription\">Description (Optionnel)</label>\r\n+      <!-- Utilisation d'un textarea standard -->\r\n+      <textarea id=\"projectDescription\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n+      <!-- Affichage des erreurs spécifiques -->\r\n+      <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n+         <div *ngIf=\"description?.hasError('maxlength')\">\r\n+           La description ne doit pas dépasser 500 caractères.\r\n+         </div>\r\n+      </div>\r\n+    </div>\r\n     <!-- Affichage des erreurs générales (si nécessaire) -->\r\n     <div *ngIf=\"errorMessage\" class=\"error-message general-error-display\"> <!-- Classe spécifique pour erreur générale si besoin -->\r\n       {{ errorMessage }}\r\n     </div>\r\n"
                },
                {
                    "date": 1747691149975,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,9 @@\n            La description ne doit pas dépasser 500 caractères.\r\n          </div>\r\n       </div>\r\n     </div>\r\n-<!-- Champ Description -->\r\n+<!-- Champ Localisation -->\r\n     <div class=\"form-group\">\r\n       <label for=\"projectDescription\">Description (Optionnel)</label>\r\n       <!-- Utilisation d'un textarea standard -->\r\n       <textarea id=\"projectDescription\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n"
                },
                {
                    "date": 1747691161500,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n       </div>\r\n     </div>\r\n <!-- Champ Localisation -->\r\n     <div class=\"form-group\">\r\n-      <label for=\"projectDescription\">Description (Optionnel)</label>\r\n+      <label for=\"projectAaddress\">Description (Optionnel)</label>\r\n       <!-- Utilisation d'un textarea standard -->\r\n       <textarea id=\"projectDescription\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n       <!-- Affichage des erreurs spécifiques -->\r\n       <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n"
                },
                {
                    "date": 1747691170820,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n       </div>\r\n     </div>\r\n <!-- Champ Localisation -->\r\n     <div class=\"form-group\">\r\n-      <label for=\"projectAaddress\">Description (Optionnel)</label>\r\n+      <label for=\"projectAddress\">address </label>\r\n       <!-- Utilisation d'un textarea standard -->\r\n       <textarea id=\"projectDescription\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n       <!-- Affichage des erreurs spécifiques -->\r\n       <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n"
                },
                {
                    "date": 1747691181078,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,11 +30,11 @@\n       </div>\r\n     </div>\r\n <!-- Champ Localisation -->\r\n     <div class=\"form-group\">\r\n-      <label for=\"projectAddress\">address </label>\r\n+      <label for=\"projectAddress\">Address </label>\r\n       <!-- Utilisation d'un textarea standard -->\r\n-      <textarea id=\"projectDescription\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n+      <textarea id=\"projectaddress\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n       <!-- Affichage des erreurs spécifiques -->\r\n       <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n          <div *ngIf=\"description?.hasError('maxlength')\">\r\n            La description ne doit pas dépasser 500 caractères.\r\n"
                },
                {
                    "date": 1747691188246,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n <!-- Champ Localisation -->\r\n     <div class=\"form-group\">\r\n       <label for=\"projectAddress\">Address </label>\r\n       <!-- Utilisation d'un textarea standard -->\r\n-      <textarea id=\"projectaddress\" formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n+      <textarea id=\"projectAddress\" formControlName=\"address\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n       <!-- Affichage des erreurs spécifiques -->\r\n       <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n          <div *ngIf=\"description?.hasError('maxlength')\">\r\n            La description ne doit pas dépasser 500 caractères.\r\n"
                },
                {
                    "date": 1747691215149,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,9 +34,9 @@\n       <label for=\"projectAddress\">Address </label>\r\n       <!-- Utilisation d'un textarea standard -->\r\n       <textarea id=\"projectAddress\" formControlName=\"address\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n       <!-- Affichage des erreurs spécifiques -->\r\n-      <div *ngIf=\"description?.touched && description?.invalid\" class=\"error-message\">\r\n+      <div *ngIf=\"address?.touched && description?.invalid\" class=\"error-message\">\r\n          <div *ngIf=\"description?.hasError('maxlength')\">\r\n            La description ne doit pas dépasser 500 caractères.\r\n          </div>\r\n       </div>\r\n"
                },
                {
                    "date": 1747691220318,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,10 +34,10 @@\n       <label for=\"projectAddress\">Address </label>\r\n       <!-- Utilisation d'un textarea standard -->\r\n       <textarea id=\"projectAddress\" formControlName=\"address\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n       <!-- Affichage des erreurs spécifiques -->\r\n-      <div *ngIf=\"address?.touched && description?.invalid\" class=\"error-message\">\r\n-         <div *ngIf=\"description?.hasError('maxlength')\">\r\n+      <div *ngIf=\"address?.touched && address?.invalid\" class=\"error-message\">\r\n+         <div *ngIf=\"address?.hasError('maxlength')\">\r\n            La description ne doit pas dépasser 500 caractères.\r\n          </div>\r\n       </div>\r\n     </div>\r\n"
                },
                {
                    "date": 1747691633129,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n <!-- Champ Localisation -->\r\n     <div class=\"form-group\">\r\n       <label for=\"projectAddress\">Address </label>\r\n       <!-- Utilisation d'un textarea standard -->\r\n-      <textarea id=\"projectAddress\" formControlName=\"address\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n+      <textarea id=\"projectAddress\" formControlName=\"address\" placeholder=\"Décrivez brièvement le projet...\" rows=\"2\"></textarea>\r\n       <!-- Affichage des erreurs spécifiques -->\r\n       <div *ngIf=\"address?.touched && address?.invalid\" class=\"error-message\">\r\n          <div *ngIf=\"address?.hasError('maxlength')\">\r\n            La description ne doit pas dépasser 500 caractères.\r\n"
                }
            ],
            "date": 1746123885997,
            "name": "Commit-0",
            "content": "<div class=\"project-form-container\">\r\n    <h2 mat-dialog-title>Nouveau Projet</h2>\r\n  \r\n    <mat-dialog-content>\r\n      <form [formGroup]=\"projectForm\" novalidate>\r\n        <!-- Champ Nom du Projet -->\r\n        <mat-form-field appearance=\"outline\" class=\"form-field\">\r\n          <mat-label>Nom du Projet</mat-label>\r\n          <input matInput formControlName=\"name\" required placeholder=\"Ex: Rénovation Villa Bellevue\">\r\n          <mat-error *ngIf=\"name?.hasError('required')\">\r\n            Le nom du projet est requis.\r\n          </mat-error>\r\n          <mat-error *ngIf=\"name?.hasError('minlength')\">\r\n            Le nom doit contenir au moins 3 caractères.\r\n          </mat-error>\r\n        </mat-form-field>\r\n  \r\n        <!-- Champ Description -->\r\n        <mat-form-field appearance=\"outline\" class=\"form-field\">\r\n          <mat-label>Description (Optionnel)</mat-label>\r\n          <textarea matInput formControlName=\"description\" placeholder=\"Décrivez brièvement le projet...\" rows=\"4\"></textarea>\r\n           <mat-error *ngIf=\"description?.hasError('maxlength')\">\r\n             La description ne doit pas dépasser 500 caractères.\r\n           </mat-error>\r\n        </mat-form-field>\r\n      </form>\r\n  \r\n      <!-- Affichage des erreurs générales -->\r\n      <div *ngIf=\"errorMessage\" class=\"error-message\">\r\n        {{ errorMessage }}\r\n      </div>\r\n  \r\n    </mat-dialog-content>\r\n  \r\n    <mat-dialog-actions align=\"end\">\r\n       <!-- Indicateur de chargement -->\r\n      <mat-spinner *ngIf=\"isLoading\" diameter=\"24\" class=\"spinner-button\"></mat-spinner>\r\n  \r\n      <button mat-button class=\"cancel-button\" (click)=\"cancel()\" [disabled]=\"isLoading\">\r\n        Annuler\r\n      </button>\r\n      <button mat-flat-button class=\"save-button\" (click)=\"saveProject()\" [disabled]=\"projectForm.invalid || isLoading\">\r\n        <mat-icon *ngIf=\"!isLoading\">save</mat-icon>\r\n        <span>Enregistrer</span>\r\n      </button>\r\n    </mat-dialog-actions>\r\n  </div>\r\n  "
        }
    ]
}